"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1a1ca160-eec0-56d4-869a-77a863ed5fff")}catch(e){}}();
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41823],{258:(e,t,a)=>{a.d(t,{W:()=>u,Z:()=>c});var r=a(76495),i=a(36027),s=a.n(i),n=a(4709),l=a(21797),o=a(32224),d=a(62498);let c="collections-library",u=(e,t)=>{let a=(0,l.useSession)(),{isCollaborationEnabled:i}=(0,o.Q)(),u=i?t??n.L.ByAnyMember:void 0;return(0,r.useInfiniteQuery)({queryKey:[c,e,u],enabled:"authenticated"===a.status,queryFn:async t=>{let{pageParam:a={take:d.S,skip:0,sortingRole:e,ownedBy:u}}=t;return(0,d.qo)(a)},refetchOnWindowFocus:!1,getNextPageParam:(t,a)=>{if(!s()(t))return{take:d.S,skip:a.flat().length,sortingRole:e,ownedBy:u}}})}},4084:(e,t,a)=>{a.d(t,{e:()=>i});var r=a(7620);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,a]=(0,r.useState)(e);return[t,(0,r.useCallback)(()=>a(e=>!e),[])]}},4294:(e,t,a)=>{a.d(t,{z:()=>x,W:()=>w});var r,i=a(7620),s=a(91608),n=a(9023),l=a(3548),o=a(4709),d=a(85930),c=a(24990),u=a(1494),m=a(38564),p=a(57217),g=a(81428),h=a(63875),y=a(258),b=a(38406),f=a(99001),v=a(20992);let x=((r={}).STANDARD="standard",r.WITH_INDICATOR="with-indicator",r),w=e=>{let{assetId:t,assetType:a,exceptedCollectionIds:r,thumbnailUrl:w}=e,[I,N]=(0,i.useState)({}),{isReady:A,isFeatureEnabled:C}=(0,m.u)(u.q.firstAssetInArtboardPopup),T=A&&C,{artboards:F,createArtboard:S}=(0,d.u)(),{collectionsIds:k,invalidateArtboardsForAssetQuery:j}=(0,v.F)(t,a),z=(0,s.Xr)(f.z),E=e=>{N(t=>({...t,[e]:!0}))},P=e=>{N(t=>({...t,[e]:!1}))},D=async(e,i)=>{let s=I[e],n=!!(null==r?void 0:r.length);s||(E(e),await (0,o.jh)([{id:t,type:a}],e),j(t,a),P(e),await (0,h.S)().invalidateQueries([c.YF,e]),T?(0,l.YW)({...i,isInArtboardPage:n}).with({type:x.WITH_INDICATOR,isInArtboardPage:!1},t=>{let{closeFeatureIndicator:a,message:r}=t;z({artboardId:e,assetThumbnail:w||null,onCloseFn:()=>L(r)}),null==a||a()}).otherwise(e=>{let{message:t}=e;L(t)}):L(i.message))},U=async(e,r)=>{I[e]||(E(e),await (0,o.x5)(t,a,e),j(t,a),P(e),await (0,h.S)().invalidateQueries([c.YF,e]),L(r))},L=e=>{g.A.success(e,{imageUrl:w,position:{vertical:"bottom",horizontal:"right"}})},O=async(e,t)=>{let a=(0,h.S)(),r=await (0,o.No)(e),i=`${r.id}-first-asset-popup`,s=(0,n.wE)(p.JZ.artboard)({folderID:r.id});return await a.invalidateQueries([y.Z]),await S(r),await D(r.id,{type:x.WITH_INDICATOR,message:(null==t?void 0:t(s,r.id))||r.name,closeFeatureIndicator:()=>(0,b.H2)(i,!0)}),r},R=async e=>{await O(e)},q=e=>!!k.includes(e),M=!!(null!=r&&r.length);return{collections:(0,i.useMemo)(()=>M?F.filter(e=>!r.includes(e.id)):F,[F,M,r]),createCollection:R,createAndGetCollection:O,isInCollection:q,isLoading:e=>I[e],changeCollection:(e,t)=>{q(e)?U(e,t.message):D(e,t)}}}},5092:(e,t,a)=>{var r;a.d(t,{S:()=>i});let i=((r={}).snow="snow",r.dark="dark",r.gray="gray",r.warning="warning",r.light="light",r)},5172:(e,t,a)=>{a.d(t,{h:()=>s});var r=a(12960),i=a(50137);let s={completeSignup:async()=>{r.I.trackEvent({event:"complete-signup",data:(0,i.X)()})},subscribeNowClick:async e=>{r.I.trackEvent({event:"subscribe-now-click",data:{...(0,i.X)(),buttonPosition:e}})},download:async e=>{r.I.trackEvent({event:"download",data:{...(0,i.X)(),assetType:e}})},signOut:async()=>{r.I.trackEvent({event:"login-interaction",data:(0,i.X)()})},logout:async()=>{r.I.trackEvent({event:"logout"})},paymentComplete:async e=>{var t,a;r.I.trackEvent({event:"payment-complete-2",data:{...(0,i.X)(),items:null==e?void 0:e.items,transaction_id:null==e?void 0:e.transaction_id,purchaseType:"purchase",currency:null==e?void 0:e.currency,planType:null==e||null==(t=e.items)?void 0:t.item_name,email:null==e?void 0:e.email,renew:null==e?void 0:e.isReactivated,value:null==e||null==(a=e.items)?void 0:a.price}})},navigationClick:async(e,t,a)=>{r.I.trackEvent({event:"navigationClick",data:{type:e,clickText:t,clickUrl:a}})},socialInteraction:async(e,t,a)=>{r.I.trackEvent({event:"socialInteraction",data:{name:e,sectionId:t,clickUrl:a}})},upgradePayment:async e=>{var t,a;r.I.trackEvent({event:"payment-complete-2",data:{...(0,i.X)(),items:null==e?void 0:e.items,transaction_id:null==e?void 0:e.transaction_id,purchaseType:"upgrade",currency:null==e?void 0:e.currency,renew:null==e?void 0:e.isReactivated,email:null==e?void 0:e.email,planType:null==e||null==(t=e.items)?void 0:t.item_name,value:null==e||null==(a=e.items)?void 0:a.price}})},registerEnterprise:async e=>{let{email:t}=e;r.I.trackEvent({event:"enterprise-potential-lead-ft",data:{...(0,i.X)(),email:t}})},clickContactSales:async()=>{r.I.trackEvent({event:"contact sales",data:{}})},submitFlowPricing:async()=>{r.I.trackEvent({event:"enterprise-sql-typeform",data:{}})},submitFlowPL:async()=>{r.I.trackEvent({event:"enterprise-sql-pltypeform",data:{}})},submitFlowMainBusinessPage:async()=>{r.I.trackEvent({event:"enterprise-sql-main-businesspage",data:{}})},submitFlowFormBusinessPage:async()=>{r.I.trackEvent({event:"enterprise-sql-form-businesspage",data:{}})},subscriptionPurchaseFlow:async e=>{r.I.trackEvent({event:"enterprise-uql",data:{userId:e}})}}},12960:(e,t,a)=>{a.d(t,{I:()=>n});var r=a(72466),i=a(16596);let s=e=>{let{event:t,eventCallback:a,eventTimeout:r,data:i}=e;window.dataLayer,void 0!==window.dataLayer&&1&&window.dataLayer.push({...i,event:t,eventCallback:a,eventTimeout:r??500})},n={trackEvent:s,trackPageView:e=>{s({event:"pageview",data:{pagePath:e}});let t=i.default.getSuperProps();s({event:"pageMetaData",data:{pageType:"Home page",pageEnvironment:r.Km,userId:t.user_id,pageTitle:document.title,hostname:window.location.hostname,pageUrl:t.page_url,country:t.country}})}}},13773:(e,t,a)=>{a.d(t,{I0:()=>p,Vp:()=>g,ub:()=>n,xS:()=>m});var r,i,s=a(41935);let n=(e,t)=>s.z.preprocess(a=>s.z.array(s.z.any()).parse(a).filter(a=>{let r=e.safeParse(a);return r.success||t(a,r.error),r.success}),s.z.array(e)),l=s.z.enum(["category","tag","search"]),o=s.z.enum(["filmmaker","artist"]);s.z.enum([...l.options,...o.options]).enum;let d=s.z.object({id:s.z.number().or(s.z.string()),nameForUrl:s.z.string().nullable(),name:s.z.string()}),c=s.z.object({type:l}),u=s.z.object({type:o,profileImage:s.z.string().url("Invalid profile image url").transform(e=>/\.(gif|jpe?g|tiff?|png|webp|bmp)/i.test(e)?e:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAQSURBVHgBAQUA+v8AMzMz/wLPAZlvxT3MAAAAAElFTkSuQmCC")}),m=d.and(c.or(u)),p=((r={}).STAFF_PICKS="STAFF_PICKS",r.NEWEST="NEWEST",r.TOP_DOWNLOADS="TOP_DOWNLOADS",r.OLDEST="OLDEST",r.ALPHABETIC="ALPHABETIC",r),g=((i={})[i.VOCAL_AND_INSTRUMENTS=0]="VOCAL_AND_INSTRUMENTS",i[i.VOCAL=1]="VOCAL",i[i.INSTRUMENTAL=2]="INSTRUMENTAL",i[i.FEAMLE_VOCAL=3]="FEAMLE_VOCAL",i[i.MALE_VOCAL=4]="MALE_VOCAL",i[i.DUET=5]="DUET",i[i.GROUP=6]="GROUP",i[i.ACAPELLA=7]="ACAPELLA",i);d.and(c),d.and(u),d.and(c),d.and(u),d.and(c)},14783:(e,t,a)=>{a.d(t,{D:()=>s,E:()=>i});var r=a(26538);let i=`
query Songs($ids: [String!]!) {
  songs(ids: $ids) {
    albumCoverFilePath
    albumDescription
    albumDisplayOrder
    albumId
    albumImageFilePath
    albumName
    albumNameForURL
    albumShortDescription
    albumThumbFilePath
    albumThumbPath
    artistBio
    artistDisplayName
    artistId
    artistName
    artistNameSongName
    assetId
    assetTypeId
    bpmRate
    categories {
      id
      name
      parentName
      tags
    }
    numberOfStems
    collections {
      spotLight {
        categoryId
        description
        displayOrder
        id
        name
        typeId
      }
      staffPicks {
        categoryId
        description
        displayOrder
        id
        name
        typeId
      }
    }
    createTime
    displayOrder
    duration
    durationTime
    explicit
    featuredArtists
    genreCategories {
      id
      name
      parentName
      tags
    }
    instrumentMap {
      fullResolution
      groups
      mainFamily
      tags
    }
    isInCart
    isInDownloadHistory
    isInFavorites
    isInstrumental
    isNew
    isOriginal
    isPreRelease
    officialReleaseDate
    lastDownloadDate
    latestDownloadCount
    lyrics
    nameForURL
    orderCount
    primaryArtists
    productType
    publishDate
    publishTime
    sitePlayableFilePath
    songId
    songName
    trueRate
    waveSurferFilePath
  }
}
`,s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2?arguments[2]:void 0,s=await r.wr.query(t,{ids:e},{shouldAttachPreReleaseHeader:a});return s?s.songs:[]}},19155:(e,t,a)=>{a.d(t,{yv:()=>y,If:()=>h,Di:()=>b,e9:()=>f,gz:()=>v});var r=a(41935),i=a(184),s=a(31295),n=a(26538);let l=`
    id
    name
    files {
      softwareName
      softwareVersionName
    }
    previewVideoFileUrl
    resolutions
    associatedMusicUrl
    associatedVideoUrls
    tags
    description
    categories
    videoThemes
    plugins
    aspectRatios
    artistId
    artistName
    artistNameForUrl
    publishDate
    rate
    downloadCount
    isNew
    nameForUrl
    availableFormats {
      id
      displayName
    }
    thumbnailUrl
`,o=`
query TemplatesByIds($page: Int!, $take: Int!, $ids: [String!]!) {
  templatesByIds(page: $page, take: $take, ids: $ids) {
    ${l}
  }
}`,d=`query TemplatesList($payload: TemplatesListSearchRequest!) {
  templatesList(payload: $payload) {
    id
    name
    artistId
    artistName
    artistNameForUrl
    isNew
    thumbnailUrl
    previewVideoFileUrl
    files {
      softwareName
      softwareVersionName
    },
    availableFormats {
      id
      displayName
    },
    nameForUrl
    resolutions
    isOriginal
  }
}`,c=`query TemplateRootCategories {
  templateRootCategories {
    name
    id
    uniqueId
  }
}`,u=`query TemplateRootCategories {
  templateSearchFilters {
    softwareNames {
      id
      name
    }
    resolutions {
      id
      name
    }
    aspectRatios {
      id
      name
    }
    softwareVersions {
      id
      name
    }    
  }
}`,m=`
    query TemplateAutoCompleteResults($searchTerm: String!) {
      templateAutoCompleteResults(searchTerm: $searchTerm) {
            id
            nameForUrl
            name
            type
            profileImage
        }
    }
`;var p=a(13773);let g=r.z.object({templateAutoCompleteResults:(0,p.ub)(p.xS,(e,t)=>{i.e$.warn("Search - [Template] - (Search API) - an issue while parsing 'templateAutoCompleteResults' query - contains invalid item.",{validate_error_msg:t.message,invalid_item_id:e.id,invalid_item_name:e.name})})}),h=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return n.wr.query(m,e).then(a=>{let r=g.safeParse(a);return r.success?t(r.data.templateAutoCompleteResults):(r.error&&i.e$.error("Failed getting search results for 'Templates' - 'templateAutoCompleteResults' query (Search API)",{variables:e,query:"templateAutoCompleteResults",...(0,i.Xf)(r.error)}),[])})},y=async e=>{var t;let a=await n.wr.query(d,e,{version:n.VS.V2},void 0,!0),r=null==a||null==(t=a.data)?void 0:t.data,i=null==a?void 0:a.headers;return{data:(0,s.j)(null==r?void 0:r.templatesList),headers:i}},b=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return n.wr.query(t,{page:1,take:e.length,ids:e}).then(e=>null==e?void 0:e.templatesByIds)},f=async()=>n.wr.query(c,{}).then(e=>null==e?void 0:e.templateRootCategories),v=async()=>n.wr.query(u,{}).then(e=>null==e?void 0:e.templateSearchFilters)},20992:(e,t,a)=>{a.d(t,{F:()=>d});var r=a(22875),i=a(32638),s=a(4709),n=a(21797),l=a(24990);let o=(e,t)=>["artboards-for-assets",e,t],d=(e,t)=>{let{status:a}=(0,n.useSession)(),d=(0,r.useQueryClient)(),{data:c}=(0,i.useQuery)({queryKey:o(e||"",t||l.qy.Song),queryFn:()=>(0,s.Ct)(e||"",t||l.qy.Song),enabled:"authenticated"===a,staleTime:3e5,refetchOnWindowFocus:!1});return{collectionsIds:c?c.map(e=>e.id):[],invalidateArtboardsForAssetQuery:(e,t)=>d.invalidateQueries(o(e,t))}}},21317:(e,t,a)=>{a.d(t,{W:()=>f});var r=a(7620),i=a(93443),s=a(5874),n=a(74706),l=a(61723),o=a(49089),d=a(82817),c=a(70027),u=a(64779),m=a(439),p=a(65736),g=a(13764),h=a(54568);let y=e=>{let{onClick:t}=e,{t:a}=(0,m.Bd)("common");return(0,h.jsxs)("button",{type:"button",onClick:t,className:"flex items-center space-x-2 p-4 text-sm text-gray-100",children:[(0,h.jsx)(n.g,{icon:s.GR}),(0,h.jsx)("div",{children:a("actions.close")})]})},b=e=>{let{children:t,icon:a,onClick:r,iconClassName:i=""}=e;return(0,h.jsxs)(o.A,{className:"flex gap-4",onClick:r,children:[(0,h.jsx)(n.g,{icon:a,className:i||""}),(0,h.jsx)("span",{children:t})]})},f=e=>{let{children:t,onClose:a=()=>{},isOpen:r=!1,anchorElement:i=null,anchorOrigin:s,transformOrigin:n,menuClassName:o,drawerStyle:d,isDrawer:u,actionButton:m,actionsBarClassName:b,paperProps:f,role:v="menu",name:x,id:w,shoudMatchAnchorWidth:I=!1}=e,{isBelowMD:N}=(0,g.Qs)();return u??N?(0,h.jsxs)(l.Ay,{id:w,open:r,onClose:()=>a(),disableEnforceFocus:!0,anchor:"bottom",role:v,sx:{zIndex:e=>e.zIndex.globalPlayer,...d},slotProps:{paper:{...f,role:v,"aria-label":x}},children:[t,(0,h.jsxs)("div",{className:(0,p.cn)("flex items-center justify-between",b),children:[(0,h.jsx)(y,{onClick:()=>a()}),m]})]}):(0,h.jsx)(c.Ay,{id:w,open:r,anchorEl:i,onClose:e=>{e.stopPropagation(),e.clientX&&e.clientY?a({x:e.clientX,y:e.clientY}):a()},disableEnforceFocus:!0,anchorOrigin:s||{vertical:"bottom",horizontal:"left"},transformOrigin:n||{vertical:-16,horizontal:"right"},slotProps:{paper:{role:v,"aria-label":x,className:o,sx:{width:I&&i?i.clientWidth:void 0}}},children:t})};f.Controls=e=>{let{children:t}=e,[a,i]=(0,r.useState)(!1),[s,n]=(0,r.useState)(null),[l,o]=(0,r.useState)(null);return t({isMenuOpen:a,setIsMenuOpen:i,activeSubMenu:s,setActiveSubMenu:n,anchorElement:l,setAnchorElement:o})},f.SubMenu=e=>{let{title:t,children:a,isOpen:r,placement:s="left-start",onClick:d=()=>{},onShowSubMenu:c=()=>{},onCloseSubMenu:m=()=>{},drawerStyle:p}=e,{isAboveSM:b}=(0,g.Qs)();return b?(0,h.jsx)(u.A,{arrow:!1,open:r,placement:s,title:a,onOpen:c,slotProps:{tooltip:{sx:{padding:0,margin:0,background:"transparent"}}},children:(0,h.jsxs)(o.A,{selected:r,onClick:d,className:"flex justify-between gap-4",children:[(0,h.jsx)("span",{children:t}),(0,h.jsx)("span",{className:"hidden sm:block",children:(0,h.jsx)(n.g,{icon:i.Xk})})]})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(o.A,{onClick:c,className:"flex justify-between gap-4",children:[(0,h.jsx)("span",{children:t}),(0,h.jsx)(n.g,{icon:i.Xk})]}),(0,h.jsxs)(l.Ay,{open:r,anchor:"bottom",onClose:m,sx:{zIndex:e=>e.zIndex.globalPlayer,...p},children:[a,(0,h.jsx)(y,{onClick:m})]})]})},f.MenuList=d.A,f.ShareMenuList=e=>{let{children:t}=e;return(0,h.jsx)(d.A,{"data-testid":"ShareMenuList",className:"max-h-120 min-w-44 p-1 sm:rounded-xl sm:shadow-xl",children:t})},f.CollectionMenuList=e=>{let{children:t}=e;return(0,h.jsx)(d.A,{"data-testid":"CollectionMenuList",className:"max-h-120 min-w-66 overflow-auto p-1 sm:rounded-xl sm:shadow-xl",children:t})},f.MenuItem=o.A,b.CopyWrapper=e=>{let{stringToCopy:t,render:a}=e,[i,s]=(0,r.useState)(!1),n=(0,r.useRef)(void 0);return(0,r.useEffect)(()=>()=>{n.current&&clearTimeout(n.current)},[]),a({onCopyClick:async()=>{var e,a;null!=(e=navigator)&&null!=(a=e.clipboard)&&a.writeText&&(await navigator.clipboard.writeText(t),s(!0),n.current=setTimeout(()=>{s(!1)},2e3))},isCopySuccess:i})},f.ShareMenuItem=b,f.CollectionMenuItem=e=>{let{children:t,isAdded:a,label:r,onClick:i=()=>{}}=e,{t:s}=(0,m.Bd)("common");return(0,h.jsxs)(o.A,{onClick:e=>{e.stopPropagation(),i()},className:"flex justify-between gap-4","aria-label":r,"data-testid":"CollectionMenuItem",children:[(0,h.jsx)("span",{className:"truncate",children:t}),(0,h.jsx)("span",{className:(0,p.cn)("text-xs",a?"text-gray-50":"text-accent"),children:s(a?"addToCollectionMenu.remove":"addToCollectionMenu.add")})]})}},22203:(e,t,a)=>{a.d(t,{p:()=>m});var r=a(7620),i=a(73142),s=a(19883),n=a(74706),l=a(65736),o=a(4084),d=a(5092),c=a(63020),u=a(54568);let m=(0,r.forwardRef)((e,t)=>{let{name:a="",value:m="",autoFocus:p=!1,autoComplete:g,onChangeFn:h=()=>{},onFocusFn:y=()=>{},onBlurFn:b=()=>{},onClickFn:f=()=>{},isError:v=!1,isSuccess:x=!1,hintText:w="",keepHintTextSpace:I=!1,squeezeHintTextSpace:N=!1,shouldShowStatusIndicator:A=!1,ignoreAutoCompleteStyling:C=!0,isDisabled:T=!1,isReadOnly:F=!1,shouldShowLoadingIndicator:S=!1,isClearable:k=!1,onClear:j=()=>{},label:z="",floatingLabel:E=z,placeholder:P="",type:D="text",startSlot:U=null,startSlotContainerClassName:L="",endSlot:O=null,isOutlined:R=!0,isPreviewMode:q=!1,paddingHorizontal:M,paddingVertical:V,containerClassName:_,isOptional:$=!1,nativeInputProps:B={},labelFontSize:W,inputFontSize:H,inputTooltipText:Q,theme:X,labelContainerClassName:Y}=e,{controlRef:K,isFocused:Z,onFocusHandler:G,onBlurHandler:J,onClickHandler:ee}=(0,c.V)({onFocusFn:y,onBlurFn:b,onClickFn:f}),et=O,[ea,er]=(0,o.e)(),ei=D;"password"===D&&(ei=ea?"text":"password",et=!T&&(0,u.jsx)("div",{role:"button","aria-label":"toggle password visibility",onClick:er,onMouseDown:e=>e.preventDefault(),className:(0,l.cn)("text-gray-100",X===d.S.light&&"flex items-center"),children:(0,u.jsx)(n.g,{icon:ea?s.k6:i.pS,size:"1x",className:(0,l.cn)(X===d.S.light&&"text-gray-200")})}));let es=["className","ref","key"],en={};return Object.entries(B).forEach(e=>{let[t,a]=e;es.includes(t)||(en[t]=a)}),(0,r.useImperativeHandle)(t,()=>({focus:()=>K.current.focus(),blur:()=>K.current.blur()})),(0,u.jsx)(c.A,{"data-testid":"Input",isFocused:Z,isLabelVerticallyCentered:!0,value:m,floatingLabel:E,label:z,placeholder:P,onFocusFn:G,onBlurFn:J,onClickFn:ee,isError:v,isSuccess:x,hintText:w,keepHintTextSpace:I,squeezeHintTextSpace:N,shouldShowStatusIndicator:A,isDisabled:T,isReadOnly:F,shouldShowLoadingIndicator:S,isClearable:k,onClear:j,startSlot:U,endSlot:et,startSlotContainerClassName:L,isOutlined:R,isPreviewMode:q,paddingHorizontal:M,paddingVertical:V,containerClassName:_,isOptional:$,labelFontSize:W,inputTooltipText:Q,theme:X,inputFontSize:H,labelContainerClassName:Y,children:(0,u.jsx)("input",{"data-testid":a,"aria-label":a,name:a,type:ei,autoFocus:p,autoComplete:g,value:m,onChange:h,disabled:T,readOnly:F,placeholder:P,className:(0,l.cn)("flex w-full grow bg-transparent shadow-none outline-none focus:outline-none focus:ring-0",q?"text-gray-100":"text-white","placeholder:text-sm placeholder:text-gray-200",T&&!q&&"cursor-not-allowed text-gray-100","h-4.5 p-0","leading-none",C&&"transition-[background-color,color] delay-[0s] duration-[600000s]",X===d.S.light&&"text-gray-900 4xl:h-10 4xl:text-3.75xl",H||"text-base"),ref:K,...en})})})},31295:(e,t,a)=>{a.d(t,{X:()=>c,j:()=>u});var r=a(184),i=a(41935),s=a(13773);let n=i.z.object({softwareName:i.z.string(),softwareVersionName:i.z.string()}),l=i.z.object({id:i.z.string(),displayName:i.z.string()}),o=i.z.object({id:i.z.string(),isInDownloadHistory:i.z.boolean(),name:i.z.string(),thumbnailUrl:i.z.string(),isNew:i.z.boolean(),previewVideoFileUrl:i.z.string(),availableFormats:i.z.array(l),files:i.z.array(n),isInFavorites:i.z.boolean(),resolutions:i.z.array(i.z.string()),artistId:i.z.string().optional(),artistNameForUrl:i.z.string().optional(),artistName:i.z.string().optional(),description:i.z.string().optional(),nameForUrl:i.z.string(),isOriginal:i.z.boolean().optional()}),d=(0,s.ub)(o,(e,t)=>{r.e$.error("Error parsing template",{id:e.id,...(0,r.Xf)(t)})}),c=e=>e.reduce((e,t)=>({...e,[t.id]:t}),{}),u=e=>{let t=e.map(e=>({id:e.id,isInFavorites:!1,isInDownloadHistory:!1,name:e.name,files:e.files,availableFormats:e.availableFormats,previewVideoFileUrl:e.previewVideoFileUrl,thumbnailUrl:e.thumbnailUrl,description:e.description||"",isNew:e.isNew,nameForUrl:encodeURIComponent(e.nameForUrl),resolutions:e.resolutions,isOriginal:e.isOriginal})),a=d.safeParse(t);return a.success?a.data:(r.e$.error("Error parsing templates",{tags:{validate_error_msg:a.error.message}}),[])}},32224:(e,t,a)=>{a.d(t,{Q:()=>d});var r=a(21797),i=a(51561),s=a(26430),n=a(7620),l=a(47716),o=a(76600);let d=()=>{let{status:e}=(0,r.useSession)(),{isChurned:t,lastSubscriptionPlanId:a}=(()=>{let{lastSubscription:e}=(0,o.L)(),[t,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{(()=>{if(!e)return;let t=e.endTimeUTC;t&&a((0,l.A)(Date.now(),new Date(t)))})()},[e]),{isChurned:t,lastSubscriptionPlanId:null==e?void 0:e.planId}})(),{isEnterpriseOrExperienceIa:d,isFreeTrialTeam:c}=(0,s.f)(),u=t&&(a===i.VL.musicAndSfxEnterprise||a===i.VL.musicAndSfxBusinessEnterprise||a===i.VL.musicSfxExperienceIa||a===i.VL.footageTemplatesExperienceIa||a===i.VL.footageAndTemplatesEnterprise||a===i.VL.maxProRawEnterprise||a===i.VL.maxProRawPlusEnterprise||a===i.VL.voiceOverBusiness);return{isCollaborationEnabled:!!("authenticated"===e&&(d||u||c)),isChurned:t}}},33107:(e,t,a)=>{a.d(t,{Y:()=>n});var r=a(7620),i=a(86789),s=a(54568);let n=e=>{let{text:t,isHovered:a,baseSpeed:n=25}=e,l=(0,r.useRef)(null),o=(0,r.useRef)(null),d=(0,r.useMemo)(()=>{let e=l.current,t=o.current;return!!e&&!!t&&e.scrollWidth>t.clientWidth},[t,l.current,o.current]),c=(0,r.useMemo)(()=>{let e=l.current,t=o.current;return e&&t&&e.scrollWidth>t.clientWidth?e.scrollWidth-t.clientWidth+10:0},[t,l.current,o.current]),u=(0,r.useMemo)(()=>c/n,[c,n]);return(0,s.jsx)("div",{ref:o,className:"relative max-w-full",children:(0,s.jsx)(i.P.div,{ref:l,initial:!1,animate:a&&d?{x:[0,-c]}:{x:0},transition:a&&d?{x:{repeat:1/0,repeatType:"reverse",duration:u,ease:"linear"}}:{},className:"flex gap-2 whitespace-nowrap",children:t})})}},37163:(e,t,a)=>{a.d(t,{z:()=>r});let r=(0,a(96240).eU)(null)},38406:(e,t,a)=>{a.d(t,{Cs:()=>m,H2:()=>u,eu:()=>c,iG:()=>d});var r=a(96240),i=a(91608),s=a(95854),n=a(24990),l=a(16596);let o=(0,s.Iz)(()=>(0,r.eU)(!1)),d=e=>({isFeatureIndicatorShow:(0,i.md)(o(e))}),c=e=>!n.S$&&window.localStorage.getItem(e),u=(e,t)=>{window.localStorage.setItem(e,t?"true":"false")},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{showOnce:!0,sendTooltipEvents:!0},r=(0,i.Xr)(o(e));return{closeFeatureIndicator:(i,s)=>{r(r=>((r||s)&&(window.localStorage.setItem(e,"false"),a.sendTooltipEvents&&r&&l.default.track({name:"tooltip closed",eventData:{...t,...i||{}}})),!1))},showFeatureIndicator:()=>{c(e)&&a.showOnce||(n.S$||"false"!==window.localStorage.getItem(e))&&(n.S$||window.localStorage.setItem(e,"true"),r(e=>(e||!a.sendTooltipEvents||a.blockTooltipOpenEvent||l.default.track({name:"tooltip open",eventData:t}),!0)))},hideFeatureIndicatorVisibility:()=>{r(!1)}}}},38637:(e,t,a)=>{a.d(t,{Kf:()=>i,ZC:()=>n,uZ:()=>s});var r=a(24990);let i=e=>({[r.kO.Music]:"Song",[r.kO.Sound_Effects]:"Sound effect",[r.kO.Footage]:"Footage",[r.kO.Templates]:"Template"})[e],s=e=>({[r.qy.Song]:"Song",[r.qy.Track]:"Sound effect",[r.qy.Clip]:"Footage",[r.qy.Template]:"Template",[r.qy.Album]:"Album",[r.qy.Artist]:"Artist",[r.qy.Voiceover]:"Voiceover",[r.qy.Lut]:"LUT",[r.qy.Filmmaker]:"Filmmaker",[r.qy.AIMedia]:"AI Media",[r.qy.AIImage]:"Image",[r.qy.AIVideo]:"Video"})[e];function n(e){return({generatedImage:r.qy.AIImage,generatedVideo:r.qy.AIVideo})[e]}},49268:(e,t,a)=>{a.d(t,{k:()=>r});let r=(0,a(7620).createContext)({hasCopyOption:!1,shouldAllowDelete:!1,shouldAllowRename:!1,shouldDisplayDownloadDate:!1,shouldDisplayDownloadStatus:!1,shouldDisplayFavoriteIcon:!1,hasBlackBackground:!1,shouldAllowSuggestions:!1})},55103:(e,t,a)=>{a.d(t,{E:()=>s});var r=a(26538);let i=`
query Sfxs($ids: [Int!]!) {
  sfxs(ids: $ids) {
    albumCoverFilePath
    albumDescription
    albumId
    albumImageFilePath
    albumName
    albumNameForURL
    albumShortDescription
    albumThumbFilePath
    albumThumbPath
    artistDisplayName
    artistId
    artistName
    assetId
    assetTypeId
    createTime
    displayOrder
    duration
    durationMax
    durationTime
    grandChildCategories {
      id
      name
      parentName
    }
    indexTime
    isNew
    isOriginal
    lyrics
    nameForURL
    orderCount
    originalVersionID
    otherTags {
      displayOrder
      id
      name
    }
    priorityTagsOneWord {
      displayOrder
      id
      name
    }
    priorityTagsTwoWords {
      displayOrder
      id
      name
    }
    productType
    publishTime
    rate
    similarSongs
    sitePlayableFilePath
    sonCategories {
      id
      name
      parentName
    }
    songCategories
    songId
    songName
    staffPickCategories {
      categoryId
      description
      displayOrder
      id
      name
      typeId
    }
    staffPicks {
      categoryId
      description
      displayOrder
      id
      name
      typeId
    }
    tempoCategoryValue
    waveSurferFilePath
  }
}
`,s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return await r.wr.query(t,{ids:e.map(Number)}).then(e=>e.sfxs.map(e=>({albumCoverFilePath:e.albumCoverFilePath,albumDescription:e.albumDescription,albumId:e.albumId,albumImageFilePath:e.albumImageFilePath,albumName:e.albumName,albumNameForURL:e.albumNameForURL,albumShortDescription:e.albumShortDescription,albumThumbFilePath:e.albumThumbFilePath,albumThumbPath:e.albumThumbPath,artistDisplayName:e.artistDisplayName,artistId:e.artistId,artistName:e.artistName,assetId:e.assetId,assetTypeId:e.assetTypeId,createTime:e.createTime,displayOrder:e.displayOrder,duration:e.duration,durationMax:e.durationMax,durationTime:e.durationTime,grandChildCategories:e.grandChildCategories,genreCategories:e.grandChildCategories,indexTime:e.indexTime,isNew:e.isNew,isOriginal:e.isOriginal,lyrics:e.lyrics,nameForURL:e.nameForURL,orderCount:e.orderCount,originalVersionID:e.originalVersionID,otherTags:e.otherTags,priorityTagsOneWord:e.priorityTagsOneWord,priorityTagsTwoWords:e.priorityTagsTwoWords,productType:e.productType,publishTime:e.publishTime,rate:e.rate,similarSongs:e.similarSongs,sitePlayableFilePath:e.sitePlayableFilePath,sonCategories:e.sonCategories,songCategories:e.songCategories,songId:e.songId,songName:e.songName,staffPickCategories:e.staffPickCategories,staffPicks:e.staffPicks,tempoCategoryValue:e.tempoCategoryValue,waveSurferFilePath:e.waveSurferFilePath})))}},60245:(e,t,a)=>{a.d(t,{Q:()=>r});let r=["#FF9052","#FFEEB0","#DC52A5","#43DDDD","#957DFF","#8BD98C","#C7870A","#CE5456","#E6A5F3","#03C199","#4F9EF9","#FFCD5C","#BEB5AB","#57612C","#601515","#BEB5AB","#CB52DC","#34806D","#6C52FF","#75B543"]},62498:(e,t,a)=>{a.d(t,{S:()=>v,j8:()=>x,qo:()=>I});var r,i=a(4709),s=a(24990),n=a(55103),l=a(87222),o=a(19155),d=a(14783),c=a(76468),u=a(72466),m=a(97335);let p=`
query SongsThumbnailsData($ids: [String!]!) {
  songs(ids: $ids) {
    albumImageFilePath
    songId
    songName
  }
}
`,g=`
query SfxsThumbnailsData($ids: [Int!]!) {
  sfxs(ids: $ids) {
    albumImageFilePath
    songId
    songName
  }
}
`,h=`
query TemplatesThumbnailsDataByIds($page: Int!, $take: Int!, $ids: [String!]!) {
  templatesByIds(page: $page, take: $take, ids: $ids) {
    id
    name
    thumbnailUrl
  }
}`,y=(e,t)=>{switch(t){case s.qy.Song:case s.qy.Track:return{id:e.songId,name:e.songName,assetType:t,thumbnailUrl:e.albumImageFilePath};case s.qy.Clip:return{id:e.id.toString(),name:e.clipName,assetType:t,thumbnailUrl:e.thumbnailUrl};case s.qy.Template:return{id:e.id,name:e.name,assetType:t,thumbnailUrl:e.thumbnailUrl};default:return null}},b=async(e,t)=>{if(!e.length)return[];switch(t){case s.qy.Song:return(0,d.D)(e,p).then(e=>e.map(e=>y(e,t)));case s.qy.Track:return(0,n.E)(e,g).then(e=>e.map(e=>y(e,t)));case s.qy.Clip:return(0,l.J)(e).then(e=>e.map(e=>y(e,t)).filter(e=>!!e));case s.qy.Template:return(0,o.Di)(e,h).then(e=>e.map(e=>y(e,t)));default:return[]}},f=async e=>{let t=(await Promise.allSettled(e.map(e=>(e=>{let{collectionId:t}=e;return(0,c.A)({method:"GET",apiURL:u.bN,apiServiceHost:m.VL,endpointVersion:"v1.1",endpoint:"/asset",params:{directoryTypeName:"FOLDER",directoryId:t,take:4}}).then(e=>e.data)})({collectionId:e.id})))).map(e=>"fulfilled"===e.status?e.value:[]),a=[],r=[],i=[],n=[],l=[],o=t.reduce((e,t,o)=>(e[o]=[],t.length&&t.forEach(t=>{switch(e[o].push(t.assetId),t.assetType){case s.qy.Song:a.push(t.assetId);break;case s.qy.Track:r.push(t.assetId);break;case s.qy.Clip:i.push(t.assetId);break;case s.qy.Template:n.push(t.assetId);break;case s.qy.Voiceover:l.push(t.assetId)}}),e),[]),d=await Promise.allSettled([b(a,s.qy.Song),b(r,s.qy.Track),b(i,s.qy.Clip),b(n,s.qy.Template),b(l,s.qy.Voiceover)]).then(e=>e.map(e=>"fulfilled"===e.status?e.value:[]).flat());return e.map((e,t)=>{let a=o[t].map(e=>d.find(t=>e===t.id)).filter(e=>!!e);return{...e,assetsAmount:a.length,previewAssets:a}})},v=12,x=((r={}).RECENT_ACTIVITY="Recent Activity",r.A_TO_Z="A to Z",r),w={[x.RECENT_ACTIVITY]:{orderByKey:i.cP.LAST_UPDATED,orderDirection:i.RN.DESC},[x.A_TO_Z]:{orderByKey:i.cP.ALPHABETICAL,orderDirection:i.RN.ASC}},I=async e=>{let{take:t,skip:a,sortingRole:r=x.RECENT_ACTIVITY,ownedBy:s}=e,n=await (0,i.qw)({take:t,skip:a,...w[r],ownedBy:s});return null!=n&&n.length?f(n):[]}},63020:(e,t,a)=>{a.d(t,{A:()=>I,V:()=>x});var r=a(7620),i=a(65736),s=a(5092),n=a(38305),l=a(31728),o=a(48544),d=a(2293),c=a(5874),u=a(52926),m=a(74706),p=a(38271),g=a(64779),h=a(6561),y=a(439),b=a(54568);let f=(0,n.A)(e=>{let{className:t,...a}=e;return(0,b.jsx)(g.A,{...a,classes:{popper:t}})})({[`& .${h.A.tooltip}`]:{maxWidth:220,fontSize:13,backgroundColor:"#333"},[`& .${h.A.tooltipArrow}`]:{backgroundColor:"#333"},[`& .${h.A.arrow}`]:{"&:before":{border:"1px solid #333"},color:"#333"}}),v=e=>{let{originalEndSlot:t=null,hasLoadingIndicator:a=!1,hasStatusIndicator:r=!1,isError:s=!1,isWarning:n=!1,isSuccess:g=!1,isPreviewMode:h=!1,canClear:v=!1,isOptional:x=!1,onClear:w=()=>{},isFocused:I=!1,inputTooltipText:N}=e,{t:A}=(0,y.Bd)((null==N?void 0:N.translation)||"");return(0,b.jsxs)("div",{className:"flex items-center",children:[t,a&&(0,b.jsx)("span",{className:"mx-1 flex",children:(0,b.jsx)(m.g,{size:"sm",spin:!0,icon:d.z1})}),r&&(s||g)&&(0,b.jsxs)("div",{className:(0,i.cn)("mx-1 flex",s&&"text-error",g&&"text-success"),children:[s&&(0,b.jsx)(m.g,{size:"sm",icon:u.s0}),g&&(0,b.jsx)(m.g,{size:"sm",icon:l.SG})]}),v&&w&&(0,b.jsx)("div",{role:"button","aria-label":"clear",onClick:w,className:"ml-2 flex",children:(0,b.jsx)(m.g,{size:"sm",icon:c.GR})}),x&&!h&&!I&&!N&&(0,b.jsx)("span",{className:"text-sm italic text-gray-200",children:"Optional"}),N&&(0,b.jsx)("div",{className:"text-gray-200 md:block",children:(0,b.jsx)(f,{title:A(N.key),arrow:!0,placement:"right",className:"z-uppermost",children:(0,b.jsx)(p.A,{color:"inherit",size:"small",children:(0,b.jsx)(m.g,{icon:o.iW,size:"xs",className:(0,i.cn)(n&&"text-orange")})})})})]})},x=e=>{let{onBlurFn:t,onFocusFn:a,onClickFn:i}=e,s=(0,r.useRef)(null),[n,l]=(0,r.useState)(!1);return{controlRef:s,isFocused:n,onFocusHandler:e=>{if(l(!0),e.target!==(null==s?void 0:s.current)){var t;null==s||null==(t=s.current)||t.focus()}a&&a(e)},onBlurHandler:e=>{var a;!(e.relatedTarget===(null==s?void 0:s.current)||e.currentTarget.contains(e.target)&&e.currentTarget.contains(e.relatedTarget))&&(l(!1),null==s||null==(a=s.current)||a.blur(),t&&t(e))},onClickHandler:()=>{i&&i()}}},w="text-gray-100",I=e=>{let{children:t,isFocused:a,isLabelVerticallyCentered:r=!0,isAlwaysHasFloatingLabel:n=!1,value:l="",label:o="",floatingLabel:d=o,placeholder:c="",onFocusFn:u=()=>{},onBlurFn:m=()=>{},onClickFn:p=()=>{},isError:g=!1,isSuccess:h=!1,hintText:y="",keepHintTextSpace:f=!1,squeezeHintTextSpace:x=!1,shouldShowStatusIndicator:I=!1,isDisabled:N=!1,isReadOnly:A=!1,shouldShowLoadingIndicator:C=!1,isClearable:T=!1,onClear:F=()=>{},startSlot:S=null,startSlotContainerClassName:k="",endSlot:j=null,paddingHorizontal:z,paddingVertical:E,isOutlined:P=!0,isPreviewMode:D=!1,theme:U,containerClassName:L="",isOptional:O=!1,labelFontSize:R,inputTooltipText:q,labelContainerClassName:M}=e,V=null==c?void 0:c.length,_=null==l?void 0:l.length,$=n||_||V&&!_,B=a||$,W=U===s.S.warning,H=!g&&!h,Q=()=>{switch(!0){case a&&H&&U!==s.S.snow&&U!==s.S.gray&&U!==s.S.light:case W:return"border-gray-100";case g:return"border-error";case h&&U!==s.S.light:return"border-gray-100";case U===s.S.gray:return"border-none";case U===s.S.light&&(a&&H||h):return"border-gray-900";default:return"border-gray-100"}};return(0,b.jsxs)("div",{"data-testid":"InputControlTemplate",className:(0,i.cn)("relative w-full",N&&!D&&"cursor-not-allowed opacity-50"),tabIndex:-1,onFocus:e=>{N||A||u(e)},onBlur:e=>{N||A||m(e)},onClick:e=>{N||(e.stopPropagation(),p())},role:"presentation",children:[(0,b.jsxs)("div",{className:(0,i.cn)(!D&&"flex w-full items-stretch border",P?"rounded":"border-x-transparent border-t-transparent",E||"py-3 sm:py-4",z||P&&!D&&"px-4.5",U===s.S.light&&"py-4 4xl:h-25",N&&!D&&"cursor-not-allowed",U===s.S.snow&&"!rounded-full bg-white",U===s.S.gray&&"!rounded-lg bg-gray-500 lg:py-2.5",Q(),B&&"border-t-transparent",L),children:[S&&(0,b.jsx)("div",{className:(0,i.cn)("flex items-center",k,Q()),children:S}),(0,b.jsxs)("div",{className:(0,i.cn)("h-auto w-full",r&&"flex items-center",!B&&"relative"),children:[(0,b.jsx)("label",{className:(0,i.cn)("pointer-events-none absolute mb-0 flex w-full",U===s.S.light?"text-gray-200":w,r&&(B?"-top-1.5 left-0":"inset-y-0 items-center"),!r&&(B?"-top-1.5 left-0":"block"),U!==s.S.snow&&U!==s.S.gray&&$&&"before:border-t-gray-100 after:border-t-gray-100",!D&&P&&B&&'before:pointer-events-none before:mt-1.5 before:block before:h-1 before:w-4 before:rounded-tl before:border before:border-x-0 before:border-b-0 before:border-transparent before:content-[""]',!D&&P&&B&&'after:pointer-events-none after:mt-1.5 after:block after:h-1 after:w-4 after:grow after:rounded-tr after:border after:border-x-0 after:border-b-0 after:border-transparent after:content-[""]',U===s.S.light&&a&&H&&"before:border-t-gray-900 after:border-t-gray-900",U!==s.S.snow&&U!==s.S.gray&&a&&H&&"before:border-t-gray-100 after:border-t-gray-100",g&&!W&&B&&"before:!border-t-error after:!border-t-error",h&&B&&U===s.S.light?"before:border-t-gray-900 after:border-t-gray-900":"before:border-t-gray-100 after:border-t-gray-100",M),"data-testid":`${o}-label`,children:o&&(0,b.jsx)("span",{className:(0,i.cn)("truncate",B&&!R?"text-sm leading-tight":"leading-5",B&&R?`${R} leading-none`:"leading-5",U===s.S.light&&"flex h-full items-center",P&&B&&!D&&"mx-1",!W&&a&&H&&(U===s.S.light?"text-gray-900":"text-gray-100"),!W&&h&&U===s.S.light&&"text-gray-900",g&&!W&&(U===s.S.light?"text-gray-200":w)),children:B?d:o})}),t]}),(0,b.jsx)(v,{hasLoadingIndicator:C,hasStatusIndicator:I,isSuccess:h,isError:g,isWarning:W,canClear:T&&!!(null!=l&&l.length),onClear:F,originalEndSlot:j,isOptional:O,isPreviewMode:D,isFocused:a,inputTooltipText:q})]}),y&&(0,b.jsx)("span",{"data-testid":"InputControlTemplate__hintText",className:(0,i.cn)("mx-3 block text-left",!f&&"absolute",H&&"text-gray-100",x&&"leading-3",g&&!W&&"text-error",h&&"text-gray-100",W&&"text-orange-400 text-2xs md:text-xs lg:text-sm"),children:y})]})}},81428:(e,t,a)=>{a.d(t,{A:()=>n,v:()=>s});class r{constructor(){this.toastInstance=null,this.setInstance=e=>{this.toastInstance=e},this.notify=(e,t,a)=>{this.toastInstance&&this.toastInstance(t,e,a)},this.info=(e,t)=>{this.notify("info",e,t)},this.success=(e,t)=>{this.notify("success",e,t)},this.error=(e,t)=>{this.notify("error",e,t)}}}let i=new r,s=e=>{i.setInstance(e)},n={info:i.info,success:i.success,error:i.error}},85930:(e,t,a)=>{a.d(t,{u:()=>u});var r=a(7620),i=a(22875),s=a(32638),n=a(4709),l=a(21797),o=a(184),d=a(32224);let c=e=>["collections-provider",e],u=()=>{let e=(0,i.useQueryClient)(),{status:t}=(0,l.useSession)(),{isCollaborationEnabled:a}=(0,d.Q)(),u=a?n.L.AsAbleToEdit:void 0,{data:m}=(0,s.useQuery)(c(u),{queryFn:()=>(0,n.qw)({ownedBy:u}),enabled:"authenticated"===t,staleTime:3e5,refetchOnWindowFocus:!1}),p=m??[],g=(0,r.useCallback)(()=>e.invalidateQueries(c(u)),[e,u]),h=(0,r.useCallback)(t=>{try{let a=[t,...p];return e.setQueryData(c(u),a)}catch(e){return e instanceof Error&&o.e$.error("fail to add artboard to cache, invalidating the query.",{errorMessage:e.message,error:e}),g()}},[p,e,g,u]),y=(0,r.useCallback)(t=>{try{let a=p.filter(e=>e.id!==t);return e.setQueryData(c(u),a)}catch(e){return e instanceof Error&&o.e$.error("fail to remove artboard from cache, invalidating the query.",{error:e,errorMessage:e.message}),g()}},[p,e,g,u]),b=(0,r.useCallback)((t,a)=>{try{let r=p.map(e=>e.id===t?{...e,...a}:e);return e.setQueryData(c(u),r)}catch(e){return e instanceof Error&&o.e$.error("fail to update artboard inside the cache, invalidating the query.",{error:e,errorMessage:e.message}),g()}},[p,e,g,u]);return{artboards:p,removeArtboard:y,createArtboard:h,updateArtboard:b,invalidateArtboards:g}}},87222:(e,t,a)=>{a.d(t,{J:()=>c});var r=a(184),i=a(26538),s=a(41935),n=a(76704);let l=s.z.object({id:s.z.number(),displayOrder:s.z.number().nullish(),clipName:s.z.string().nullish(),clipNameForUrl:s.z.string().nullish(),filmMakerDisplayName:s.z.string().nullish(),filmMakerId:s.z.number().nullish(),filmMakerNameForUrl:s.z.string().nullish(),thumbnailUrl:s.z.string().nullish(),clipPath:s.z.string().nullish(),isInFavorites:s.z.boolean().nullish(),isInDownloadHistory:s.z.boolean().nullish(),isNew:s.z.boolean().nullish(),isVfx:s.z.boolean().nullish(),isLicensed:s.z.boolean().nullish(),isOriginal:s.z.boolean().nullish(),isInFolder:s.z.boolean().nullish(),storyId:s.z.number().nullish(),storyName:s.z.string().nullish(),duration:s.z.number(),storyNameForURL:s.z.string().nullish(),width:s.z.number(),height:s.z.number(),orientation:s.z.string().nullish(),availableFormats:s.z.array(s.z.object({id:s.z.string(),displayName:s.z.string()})).nullish(),taggedName:s.z.string(),publishTime:s.z.string().nullish(),isMadeWithAi:s.z.boolean().nullish().transform(e=>e??!1)}),o=s.z.object({clips:(0,n.H)(l)}),d=`
  query Clips($ids: [Int!]!) {
    clips(ids: $ids) {
      isMadeWithAi
      id
      displayOrder
      clipName
      clipNameForUrl
      filmMakerDisplayName
      filmMakerId
      filmMakerNameForUrl
      thumbnailUrl
      clipPath
      isInFavorites
      isInDownloadHistory
      isNew
      isVfx
      isLicensed
      isOriginal
      isInFolder
      storyId
      storyName
      duration
      storyNameForURL
      width
      height
      orientation
      availableFormats {
        id
        displayName
      }
      taggedName
      publishTime
    }
  }
`,c=async e=>{let t=await i.wr.query(d,{ids:e.map(Number)}),a=o.safeParse(t);if(a.success){let{clips:e}=a.data;return e.map(e=>({id:e.id,displayOrder:e.displayOrder??void 0,clipName:e.clipName||"",clipNameForUrl:e.clipNameForUrl?encodeURIComponent(e.clipNameForUrl):"",filmMakerDisplayName:e.filmMakerDisplayName||"",filmMakerId:e.filmMakerId||void 0,filmMakerNameForUrl:e.filmMakerNameForUrl?encodeURIComponent(e.filmMakerNameForUrl):void 0,thumbnailUrl:e.thumbnailUrl||"",clipPath:e.clipPath||"",isInFavorites:!!e.isInFavorites,isInDownloadHistory:!!e.isInDownloadHistory,isNew:!!e.isNew,isVfx:!!e.isVfx,isLicensed:!!e.isLicensed,isOriginal:!!e.isOriginal,isInFolder:!!e.isInFolder,storyId:e.storyId||void 0,storyName:e.storyName||"",duration:e.duration,storyNameForURL:e.storyNameForURL?encodeURIComponent(e.storyNameForURL):"",storyNameForUrl:e.storyNameForURL?encodeURIComponent(e.storyNameForURL):void 0,width:e.width,height:e.height,orientation:e.orientation||"",availableFormats:e.availableFormats||[],taggedName:e.taggedName||void 0,publishTime:e.publishTime?new Date(e.publishTime):void 0,isMadeWithAi:e.isMadeWithAi}))}return r.e$.error("Clips fetch - validation data error",{...(0,r.Xf)(a.error),ids:e}),[]}},94420:(e,t,a)=>{a.d(t,{V:()=>U});var r=a(7620),i=a(28651),s=a(14590),n=a(9023),l=a(439),o=a(53820),d=a(16596),c=a(38637),u=a(54568);let m=e=>{let{isAdded:t,artboardName:a,assetType:r,artboardHref:i,artboardId:s}=e,{t:n}=(0,l.Bd)("common"),m=n(t?"messages.addedToCollection":"messages.removedFromCollection",{assetTypeName:(0,c.uZ)(r),collectionName:a});return(0,u.jsxs)("div",{className:"flex flex-col w-60","data-testid":"artboard-notification",children:[(0,u.jsx)("span",{className:"truncate",children:m}),(0,u.jsx)(o.A,{className:"underline underline-offset-4",to:i,additionalOnClickFn:()=>{d.eventTracker.track({name:"button clicked",eventData:{click_source:"artboard created tooltip",button_name:"Go To Artboard",artboard_id:s}})},children:n("actions.goToArtboard")})]})};var p=a(4294),g=a(21317),h=a(184),y=a(65736),b=a(13764),f=a(57217),v=a(49268),x=a(68275),w=a(67528),I=a(74706),N=a(38406),A=a(33107);let C=e=>{let{id:t,name:a,iconColor:i,isAdded:s,onToggle:n}=e,[l,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(s),m=`${t}-first-asset-popup`,{isFeatureIndicatorShow:g}=(0,N.iG)(m),{showFeatureIndicator:h,closeFeatureIndicator:b}=(0,N.Cs)(m);return(0,r.useEffect)(()=>{h()},[h]),(0,r.useEffect)(()=>{c(s)},[s]),(0,u.jsxs)("button",{type:"button",className:"relative flex items-center justify-between w-full py-2.5",onClick:e=>{null==e||e.stopPropagation(),c(!d),h(),n(g?{type:p.z.WITH_INDICATOR,closeFeatureIndicator:b}:{type:p.z.STANDARD})},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),"data-testid":"artboardMenuItem",children:[(0,u.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,u.jsx)("div",{className:"h-4 w-4 rounded-full mr-1",style:{backgroundColor:i}}),(0,u.jsx)("div",{className:"w-40 overflow-hidden font-normal",children:(0,u.jsx)(A.Y,{text:a,isHovered:l})})]}),(0,u.jsxs)("div",{className:(0,y.cn)("relative flex justify-center items-center w-4.5 h-4.5 rounded-full",!d&&"border border-gray-150"),"data-testid":"artboardMenuItemIcon",children:[(0,u.jsx)("div",{className:(0,y.cn)("z-2 relative flex justify-center items-center rounded-full bg-gray-500",d?"transition-all duration-150 w-0 h-0":"w-full h-full")}),(0,u.jsx)("div",{className:(0,y.cn)("z-1 rounded-full w-full h-full flex items-center justify-center absolute text-gray-300 text-clip bg-primary",d?"text-sm transition-all transition-all duration-150 delay-100":"text-[5px]"),children:(0,u.jsx)(I.g,{icon:w.e6})})]})]})};var T=a(60245),F=a(35799),S=a(91608),k=a(29710),j=a.n(k),z=a(37163),E=a(22203);let P="create new artboard naming modal",D=e=>{let{inputValue:t,setInputValue:a,isMobile:s,isCreatingArtboard:n,hasPreviewMenu:c=!0,assetId:m,assetType:p,switchActiveSubmenu:g,createNewArtboard:h}=e,{t:b}=(0,l.Bd)("common"),v=(0,S.Xr)(z.z),w=(0,r.useCallback)(()=>v({id:m,type:p}),[v,m,p]);return(0,u.jsxs)("div",{className:"relative w-full",children:[(0,u.jsxs)("div",{className:"flex gap-1.5 items-center pb-6",children:[!s&&c&&(0,u.jsx)("button",{type:"button",onClick:g,children:(0,u.jsx)(I.g,{size:"xl",icon:F.Ce})}),(0,u.jsx)("h3",{className:"text-base font-medium",children:b("actions.createArtboard")})]}),(0,u.jsx)("div",{onKeyDown:e=>{e.stopPropagation()},onMouseDown:e=>{e.stopPropagation()},children:(0,u.jsx)(E.p,{value:t,onChangeFn:e=>{a(e.target.value.slice(0,120))},autoFocus:!0,placeholder:b("artboardMenu.newArtboardNamePlaceholder"),paddingHorizontal:"px-3",paddingVertical:"py-3",inputFontSize:"sm:text-xs",containerClassName:(0,y.cn)(t.length<=0&&"opacity-50")})}),(0,u.jsx)("div",{className:"pt-4 pb-3",children:(0,u.jsx)(x.$,{variant:"contained",theme:x.O.white,size:"xs",isFullWidth:!0,isDisabled:t.length<=0||n,onClickFn:e=>{e.stopPropagation(),h(t),d.eventTracker.track({name:"button clicked",eventData:{click_source:P,button_name:"Create"}})},children:n?(0,u.jsx)(j(),{color:"",radius:18,stroke:2}):b("actions.create")})}),(0,u.jsxs)("div",{className:"flex gap-1 text-medium-emphasis text-xs",children:[(0,u.jsx)(I.g,{size:"xs",icon:i.p7,className:"mt-1"}),(0,u.jsx)("p",{className:"text-",children:(0,u.jsx)(l.x6,{t:b,i18nKey:"artboardMenu.addDescription",components:{link1:(0,u.jsx)(o.A,{to:f.JZ.artboardCreate,className:"inline underline",additionalOnClickFn:()=>{w(),d.eventTracker.track({name:"button clicked",eventData:{click_source:P,button_name:"add a description"}})},children:"link"})}})})]})]})},U=e=>{let{assetId:t,assetType:a,exceptedCollectionIds:o,onCreateArtboard:c,onAdd:w,onRemove:I,thumbnailUrl:N}=e,{t:A}=(0,l.Bd)("common"),{isBelowSM:F}=(0,b.Qs)(),{shouldShowMobileMenu:S}=(0,r.useContext)(v.k),{collections:k,isInCollection:j,changeCollection:z,createAndGetCollection:E}=(0,p.W)({assetId:t,assetType:a,exceptedCollectionIds:o,thumbnailUrl:N}),[P,U]=(0,r.useState)(!k.length),[L,O]=(0,r.useState)(""),{mutate:R,isLoading:q}=(0,s.useMutation)({mutationKey:["create-new-artboard"],mutationFn:async e=>{let t=await E(e,(t,r)=>(0,u.jsx)(m,{isAdded:!0,artboardName:e,assetType:a,artboardHref:t,artboardId:r}));null==c||c(t)},onSuccess:()=>{U(!1),O("")},onError:(e,r)=>{h.e$.error("Failed to create a new artboard and adding an asset to it",{error:e instanceof Error?e:void 0,errorMessage:e instanceof Error?e.message:void 0,tags:{artboardName:r,assetType:a.toString(),assetId:t}}),U(!1)}});return(0,u.jsx)(g.W.MenuList,{className:(0,y.cn)("py-6 pl-6 rounded-xl",S??F?"max-h-[50dvh] w-full":"w-70 max-h-102.5",P?"pr-6":"pr-1.5"),"aria-label":"add to artboard menu",onMouseUp:e=>{null==e||e.stopPropagation()},children:P?(0,u.jsx)(D,{inputValue:L,setInputValue:O,isMobile:S??F,isCreatingArtboard:q,hasPreviewMenu:!!k.length,switchActiveSubmenu:()=>U(!1),createNewArtboard:R,assetId:t,assetType:a}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"relative z-1",children:[(0,u.jsx)("h3",{className:"text-base font-medium pb-4",children:A("actions.addToArtboard")}),(0,u.jsx)("div",{className:(0,y.cn)("absolute h-5 w-full",F?"bg-gray-menu-fade-in-vertical-mobile":"bg-gray-menu-fade-in-vertical")})]}),(0,u.jsx)("div",{className:(0,y.cn)("overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-300",k.length>7?"pr-2.5":"pr-4"),children:k.map((e,r)=>(0,u.jsx)(C,{id:e.id,name:e.name,iconColor:T.Q[r%T.Q.length],isAdded:j(e.id),onToggle:r=>{var i;let s;return i=!j(e.id),s=(0,n.wE)(f.JZ.artboard)({folderID:e.id}),void(z(e.id,{message:(0,u.jsx)(m,{isAdded:i,artboardName:e.name,assetType:a,artboardHref:s,artboardId:e.id}),...r}),i?null==w||w(e,t):null==I||I(e,t))}},e.id))}),(0,u.jsxs)("div",{className:"relative pt-3 pr-4.5",children:[(0,u.jsx)("div",{className:(0,y.cn)("absolute h-6 w-full -mt-9",F?"bg-gray-menu-fade-out-vertical-mobile":"bg-gray-menu-fade-out-vertical")}),(0,u.jsx)(x.$,{theme:x.O.white,classNames:"font-medium",size:"xs",isFullWidth:!0,startIcon:i.p7,onClickFn:e=>{null==e||e.stopPropagation(),U(!0),d.eventTracker.track({name:"button clicked",eventData:{click_source:"artboard list",button_name:"Create New Artboard"}})},children:A("actions.createArtboard")})]})]})})}},99001:(e,t,a)=>{a.d(t,{z:()=>r});let r=(0,a(96240).eU)(null)}}]);
//# sourceMappingURL=41823-de2143e46c30ec2f.js.map
//# debugId=1a1ca160-eec0-56d4-869a-77a863ed5fff
