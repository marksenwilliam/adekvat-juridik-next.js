"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2d259164-ea23-5a52-b91e-b799edd8a82a")}catch(e){}}();
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90822],{184:(e,t,r)=>{r.d(t,{Xf:()=>n,e$:()=>l});var a=r(80352),o=r(3548),i=r(72466);let s=e=>(t,r)=>{let{error:s,tags:l,...n}=r;i.tb||console[(0,o.YW)(e).with("error",()=>"error").with("warning",()=>"warn").exhaustive()](t,r),(0,a.r)({message:t,level:e},{originalException:s,captureContext:{extra:n,tags:l}})},l={warn:(e,t)=>s("warning")(e,t),error:(e,t)=>s("error")(e,t),exception:(e,t,r)=>(0,a.Cp)(e,{extra:t,tags:r})},n=e=>({issues:e.issues,formattedError:e.format()})},1201:(e,t,r)=>{r.d(t,{aX:()=>v,EZ:()=>I,CB:()=>b}),r(7620);var a=r(96240),o=r(91608),i=r(95854),s=r(80752);let l={modelGroupId:void 0,prompt:"",duration:5,resolution:"HD",enableAudio:!0,aspectRatio:s.gl.LANDSCAPE_16X9};var n=r(3548);let d=e=>e.supportedModels[0].defaultSettings.resolution,u=e=>e.supportedModels[0].defaultSettings.duration,p=e=>e.supportedModels[0].defaultSettings.aspectRatio,g=e=>e.supportedModels.some(e=>e.supportsAudio);var m=r(41935);let c=m.z.object({modelGroupId:m.z.string().optional(),prompt:m.z.string(),resolution:s.Cg,duration:s.uH,enableAudio:m.z.boolean(),aspectRatio:s.h7.nullable()}),z=(0,i.hF)(e=>c.safeParse(e).success)((0,i.KU)(()=>sessionStorage)),h=(0,i.tG)("textToVideoPromptAtom",l,z),y=(0,a.eU)(e=>e(h),(e,t,r)=>{let a,o=(a=e(h),(0,n.YW)(r).with({type:"promptUpdated"},e=>{let{payload:t}=e;return{...a,prompt:t}}).with({type:"defaultModelGroupChosen"},e=>{let{payload:t}=e;return{...a,modelGroupId:t.modelGroupId,resolution:d(t),duration:u(t),enableAudio:g(t),aspectRatio:p(t)}}).with({type:"modelGroupChosen"},e=>{let t,r,o,i,{payload:s}=e;return{...a,modelGroupId:s.modelGroupId,resolution:(t=a.resolution,s.supportedModels.some(e=>e.supportedResolutions.includes(t)))?a.resolution:d(s),duration:(r=a.duration,s.supportedModels.some(e=>e.supportedDurations.includes(r)))?a.duration:u(s),enableAudio:g(s),aspectRatio:(o=a.aspectRatio,i=s,o&&i.supportedModels.some(e=>e.supportedAspectRatios.includes(o)))?a.aspectRatio:p(s)}}).with({type:"resolutionChosen"},e=>{let{payload:t}=e;return{...a,resolution:t}}).with({type:"durationChosen"},e=>{let{payload:t}=e;return{...a,duration:t}}).with({type:"audioToggled"},()=>({...a,enableAudio:!a.enableAudio})).with({type:"promptReset"},()=>({...a,prompt:""})).with({type:"aspectRatioChosen"},e=>{let{payload:t}=e;return{...a,aspectRatio:t}}).exhaustive());t(h,o)}),b=()=>{let[e,t]=(0,o.fp)(y);return{state:e,dispatch:t}},v=()=>({dispatch:(0,o.Xr)(y)}),E=(0,i.mg)(h,e=>e.modelGroupId),I=()=>(0,o.md)(E)},1393:(e,t,r)=>{r.d(t,{MB:()=>g,RZ:()=>p});var a=r(7620),o=r(902),i=r(3548),s=r(35724),l=r(64741),n=r(1201),d=r(28948),u=r(44924);let p=()=>{let{modelSlug:e}=(0,o.useParams)(),t=(0,u.D)(),r=(0,n.EZ)(),i=(0,l.AX)(),p=(0,d._j)(),g=(0,s._M)();return(0,a.useCallback)(a=>z({genAiMode:t,href:a,modelGroups:g,imageToImageModelGroupId:i,imageToVideoModelGroupId:p,modelSlugPathParam:e,textToVideoModelGroupId:r}),[t,i,p,g,e,r])},g=e=>{let{modelSlug:t}=(0,o.useParams)(),r=(0,u.D)(),i=(0,n.EZ)(),p=(0,l.AX)(),g=(0,d._j)(),m=(0,s._M)();return(0,a.useMemo)(()=>z({genAiMode:r,href:e,modelGroups:m,imageToImageModelGroupId:p,imageToVideoModelGroupId:g,modelSlugPathParam:t,textToVideoModelGroupId:i}),[r,e,p,g,m,t,i])},m=["/image-to-image-ai","/image-to-video-ai","/text-to-image-ai","/text-to-video-ai"],c=e=>{let t=m.find(t=>e.startsWith(t));if(!t)throw Error(`Invalid URL: ${e}`);let r=e.slice(t.length);return{base:t,rest:r}},z=e=>{let{href:t,genAiMode:r,modelGroups:{imageToImage:a,imageToVideo:o,textToVideo:s},modelSlugPathParam:l,imageToImageModelGroupId:n,imageToVideoModelGroupId:d,textToVideoModelGroupId:u}=e;return(0,i.YW)({genAiMode:r,modelSlugPathParam:l}).with({genAiMode:"text-to-image-ai"},()=>t).with({genAiMode:i.P.union("image-to-image-ai","image-to-video-ai","text-to-video-ai"),modelSlugPathParam:i.P.string},e=>{let{modelSlugPathParam:r}=e,{base:a,rest:o}=c(t);return`${a}/${r}${o}`}).with({genAiMode:"image-to-image-ai",modelSlugPathParam:void 0},()=>{var e;let r=(null==(e=a.find(e=>e.modelGroupId===n))?void 0:e.urlSlug)??"",{base:o,rest:i}=c(t);return`${o}${r}${i}`}).with({genAiMode:"image-to-video-ai",modelSlugPathParam:void 0},()=>{var e;let r=(null==(e=o.find(e=>e.modelGroupId===d))?void 0:e.urlSlug)??"",{base:a,rest:i}=c(t);return`${a}${r}${i}`}).with({genAiMode:"text-to-video-ai",modelSlugPathParam:void 0},()=>{var e;let r=(null==(e=s.find(e=>e.modelGroupId===u))?void 0:e.urlSlug)??"",{base:a,rest:o}=c(t);return`${a}${r}${o}`}).exhaustive()}},8499:(e,t,r)=>{r.d(t,{Nz:()=>a,pC:()=>s,ri:()=>i,ty:()=>o});let a="text-to-image-ai",o="image-to-video-ai",i="image-to-image-ai",s="text-to-video-ai"},12096:(e,t,r)=>{r.d(t,{Ej:()=>I,FC:()=>P,Ny:()=>u,S5:()=>f,So:()=>S,Wd:()=>T,XG:()=>N,ZP:()=>A,dg:()=>j,eG:()=>C,lN:()=>p,pr:()=>D,tF:()=>_,w3:()=>F,zF:()=>O});var a=r(3548),o=r(41935),i=r(24990),s=r(184),l=r(76704),n=r(43733),d=r(80752);let u=o.z.string().nullish().transform(e=>(0,a.YW)(e).with(a.P.union(null,void 0),()=>i.vE.UNKNOWN).with(i.vE.TEXT_TO_IMAGE,()=>i.vE.TEXT_TO_IMAGE).with(i.vE.IMAGE_TO_IMAGE,()=>i.vE.IMAGE_TO_IMAGE).with(i.vE.IMAGE_TO_VIDEO,()=>i.vE.IMAGE_TO_VIDEO).with(i.vE.TEXT_TO_VIDEO,()=>i.vE.TEXT_TO_VIDEO).with(i.vE.UPSCALE,()=>i.vE.UPSCALE).with(i.vE.UNKNOWN,()=>i.vE.UNKNOWN).otherwise(()=>(s.e$.error('Invalid generateType received, defaulting to "unknown"',{valueReceived:e,valueExpected:Object.values(i.vE).join(" | ")}),i.vE.UNKNOWN))),p={id:"",name:"User Uploaded Image",imageUrl:"",upscaleRequired:!1,creditCost:{imageGenerationCost:null,upscaleCost:null,videoGenerationFullHdCost:null,videoGenerationHdCost:null,videoUpscaleCost:null}},g=o.z.literal("generatedImage"),m=o.z.literal("generatedVideo"),c=o.z.object({id:o.z.string(),name:o.z.string(),imageUrl:o.z.string().default(""),upscaleRequired:o.z.boolean().nullish(),creditCost:o.z.object({imageGenerationCost:o.z.number().nullable(),upscaleCost:o.z.number().nullable(),videoUpscaleCost:o.z.number().nullable(),videoGenerationFullHdCost:o.z.number().nullable(),videoGenerationHdCost:o.z.number().nullable()})}),z=o.z.union([o.z.object({assetType:g,isUpscaleImage:o.z.boolean(),style:c}),o.z.object({assetType:m,isUpscaleVideo:o.z.boolean(),style:c.nullable()})]),h=o.z.object({status:o.z.literal("pending")}).and(z),y=o.z.literal("NSFW").or(o.z.string().transform(()=>"UNKNOWN_ERROR")).nullish(),b=o.z.object({status:o.z.literal("failed"),badRequestErrorType:y,errorCode:o.z.union([o.z.literal("CONTENT_SAFETY"),o.z.literal("OTHER")]).nullish(),tier:o.z.object({name:o.z.string(),model:o.z.string()}).nullish()}).and(z).transform(e=>{let t=(0,a.YW)({badRequestErrorType:e.badRequestErrorType,errorCode:e.errorCode}).with({badRequestErrorType:"NSFW"},()=>"NSFW").with({errorCode:"CONTENT_SAFETY"},()=>"CONTENT_SAFETY").with({errorCode:"OTHER"},{badRequestErrorType:"UNKNOWN_ERROR"},{errorCode:a.P.nullish,badRequestErrorType:a.P.nullish},()=>"OTHER").exhaustive(),{badRequestErrorType:r,errorCode:o,...i}=e;return{...i,error:t}}),v=o.z.object({status:o.z.literal("succeeded")}).and(o.z.union([o.z.object({assetType:g,style:c,imageUrl:o.z.string().url(),isUpscaleImage:o.z.boolean(),isRefunded:o.z.boolean().optional().transform(e=>e??!1),metadata:o.z.object({imageWidth:o.z.number(),imageHeight:o.z.number(),fileFormat:o.z.union([o.z.literal("JPEG"),o.z.literal("WEBP")]),originalImageId:o.z.string().nullish(),numOfTotalImages:o.z.number().optional(),numOfUploadedImages:o.z.number().optional()})}),o.z.object({assetType:m,style:c.nullable(),originalImageUrl:o.z.string().url().nullable(),originalVideoUrl:o.z.string().url().nullable(),videoUrl:o.z.string().url(),resolution:d.Cg,isUpscaleVideo:o.z.boolean(),duration:d.uH,isRefunded:o.z.boolean().optional().transform(e=>e??!1),metadata:o.z.object({imageWidth:o.z.number().nullable(),imageHeight:o.z.number().nullable(),fileFormat:o.z.literal("MP4"),originalImageId:o.z.string().nullable(),originalVideoId:o.z.string().nullable()}),tier:o.z.object({name:o.z.string(),model:o.z.string()}).nullish()})])),E=o.z.union([h,b,v]),I=e=>null===e||["165aabf1-cd1a-4fa7-98f8-6952c12e4b50","e213c5e1-0b7c-4988-a429-f475eeac54be","259a6fd0-10fc-40bc-828b-2cf377b61fb0"].includes(e.id),R=o.z.object({id:o.z.string(),prompt:o.z.string(),settings:o.z.object({aspectRatio:d.h7}),createdAt:o.z.string().datetime(),generationId:o.z.string(),generateType:u}).and(E).transform(e=>"generatedVideo"===e.assetType?{...e,style:e.style||p,source:"text to video"===e.generateType?"TEXT":I(e.style)?"UPLOADED_IMAGE":"GENERATED_IMAGE"}:e).transform(e=>{if("succeeded"===e.status){let{imageHeight:t,imageWidth:r}=e.metadata;if(!t||!r)return e;let a=(0,n.j)({height:t,width:r}).aspectRatio;return{...e,settings:{aspectRatio:a}}}return e}),C=o.z.union([o.z.literal("all"),o.z.literal("image"),o.z.literal("video")]),f=o.z.union([o.z.literal("all"),o.z.literal("yesterday"),o.z.literal("last 7 days"),o.z.literal("last 30 days")]);o.z.object({page:o.z.number(),take:o.z.number(),created:f});let G=o.z.record(o.z.string(),o.z.unknown()).transform(e=>({...e,assetType:"generatedImage"})).pipe(R),w=o.z.record(o.z.string(),o.z.unknown()).transform(e=>({...e,assetType:"generatedVideo"})).pipe(R),A=e=>{let t=(0,a.YW)(e).with("generatedImage",()=>G).with("generatedVideo",()=>w).with("generatedVisual",()=>R).exhaustive();return o.z.object({data:o.z.object({history:(0,l.H)(t),total:o.z.number()})})};o.z.object({id:o.z.string()});let T=o.z.object({data:o.z.array(R).length(1)});o.z.union([o.z.literal(1),o.z.literal(2),o.z.literal(3)]).optional().default(1),o.z.object({prompt:o.z.string(),styleId:o.z.string(),aspectRatio:d.h7});let _=o.z.object({data:o.z.object({id:o.z.string(),generationId:o.z.string(),createdAt:o.z.string(),creditsUsed:o.z.number(),prompt:o.z.string()})}),P=o.z.object({error:o.z.object({code:o.z.literal(7),status:o.z.literal(400)})});o.z.object({prompt:o.z.string(),imageAssetId:o.z.string(),duration:d.uH,resolution:d.Cg,generateType:o.z.literal(i.vE.IMAGE_TO_VIDEO),modelGroupId:o.z.string(),supportsAudio:o.z.boolean()}),o.z.object({prompt:o.z.string(),imageUrl:o.z.string(),lastFrameImageUrl:o.z.string().optional(),aspectRatio:d.h7,duration:d.uH,resolution:d.Cg,styleId:o.z.string().optional(),generateType:o.z.literal(i.vE.IMAGE_TO_VIDEO),modelGroupId:o.z.string(),supportsAudio:o.z.boolean()}),o.z.object({prompt:o.z.string(),aspectRatio:d.h7,duration:d.uH,resolution:d.Cg,generateType:o.z.literal(i.vE.TEXT_TO_VIDEO),modelGroupId:o.z.string(),supportsAudio:o.z.boolean()});let j=o.z.object({data:o.z.object({id:o.z.string(),generationId:o.z.string(),createdAt:o.z.string(),creditsUsed:o.z.number(),prompt:o.z.string()})}),S=o.z.object({data:o.z.object({id:o.z.string(),generationId:o.z.string(),prompt:o.z.string(),originalPrompt:o.z.string(),sourceImageId:o.z.string(),createdAt:o.z.string(),creditsUsed:o.z.number()})}),O=o.z.object({data:o.z.object({id:o.z.string(),generationId:o.z.string(),prompt:o.z.string(),originalPrompt:o.z.string(),createdAt:o.z.string(),creditsUsed:o.z.number()})}),U=o.z.object({prompt:o.z.string(),aspectRatio:d.h7,styleId:o.z.string(),imageUrl:o.z.string(),isShowcase:o.z.literal(!1),generateType:o.z.literal(i.vE.IMAGE_TO_IMAGE),modelGroupId:o.z.string()});o.z.object({prompt:o.z.string(),aspectRatio:d.h7,styleId:o.z.string(),multipleImageUrls:o.z.array(o.z.string()),isShowcase:o.z.literal(!1),generateType:o.z.literal(i.vE.IMAGE_TO_IMAGE),modelGroupId:o.z.string()});let x=o.z.object({prompt:o.z.string(),aspectRatio:d.h7.optional(),styleId:o.z.string(),assetId:o.z.string(),isShowcase:o.z.literal(!1),generateType:o.z.literal(i.vE.IMAGE_TO_IMAGE),modelGroupId:o.z.string()}),M=o.z.object({prompt:o.z.string(),aspectRatio:d.h7,styleId:o.z.string(),imageUrl:o.z.string(),isShowcase:o.z.literal(!0),generateType:o.z.literal(i.vE.IMAGE_TO_IMAGE),modelGroupId:o.z.string()});o.z.union([U,x,M]);let N=o.z.object({error:o.z.object({code:o.z.literal(7),status:o.z.literal(400)})});o.z.object({ids:o.z.array(o.z.string())});let F=o.z.object({data:o.z.array(R)});o.z.object({id:o.z.string()}),o.z.object({id:o.z.string()});let D=o.z.object({success:o.z.boolean(),data:o.z.object({deletedCount:o.z.number(),failedCount:o.z.number(),errors:o.z.array(o.z.object({assetId:o.z.string(),assetType:o.z.string(),error:o.z.string()}))})})},15294:(e,t,r)=>{r.d(t,{p:()=>i});var a=r(40459);class o{setResolver(e){this.resolver=e,this.setReady(!0)}setReady(e){this.isReady!==e&&(this.isReady=e,e&&this.readyResolve&&(this.readyResolve(),this.readyPromise=null,this.readyResolve=null))}async getToken(){if(this.resolver)return this.resolver()}async waitForReady(){return void 0!==a.env.JEST_WORKER_ID||void 0!==r.g&&r.g.__JEST__||this.isReady?Promise.resolve():(this.readyPromise||(this.readyPromise=new Promise(e=>{this.readyResolve=e})),this.readyPromise)}async waitForReadyOrTimeout(){try{await this.waitForReady()}catch(e){console.error("Token registry timeout",e)}}clear(){this.resolver=null,this.setReady(!1)}constructor(){this.resolver=null,this.isReady=!1,this.readyPromise=null,this.readyResolve=null}}let i=new o},22823:(e,t,r)=>{r.d(t,{AA:()=>i,Ek:()=>n,OE:()=>a,SY:()=>u,al:()=>d,bg:()=>l,f4:()=>p,gN:()=>s,o1:()=>o,us:()=>g});class a extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Rate limit exceeded";super(e),this.type="RateLimitError",this.name="RateLimitError",Object.setPrototypeOf(this,a.prototype)}}class o extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something went wrong with the request";super(e),this.type="SomethingWentWrongError",this.name="SomethingWentWrongError",Object.setPrototypeOf(this,o.prototype)}}class i extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Prompt cannot be empty";super(e),this.type="EmptyPromptError",this.name="EmptyPromptError",Object.setPrototypeOf(this,i.prototype)}}class s extends Error{constructor(e,t){super(`You've reached the character limit (${e}/${t})`),this.type="ExceededCharacterLimitError",this.name="ExceededCharacterLimitError",Object.setPrototypeOf(this,s.prototype)}}class l extends Error{constructor(){super("Can't generate due to inappropriate content. Please edit and try again."),this.type="InappropriatePromptError",this.name="InappropriatePromptError",Object.setPrototypeOf(this,l.prototype)}}class n extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Selected image be empty";super(e),this.type="NoSelectedImageError",this.name="NoSelectedImageError",Object.setPrototypeOf(this,n.prototype)}}class d extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Selected model be empty";super(e),this.type="NoSelectedModelError",this.name="NoSelectedModelError",Object.setPrototypeOf(this,d.prototype)}}class u extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Failed to create creation";super(e),this.type="CreationFailureError",this.name="CreationFailureError",Object.setPrototypeOf(this,u.prototype)}}class p extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Failed to validate creation schema";super(e),this.type="GenerateCreationSchemaValidationError",this.name="GenerateCreationSchemaValidationError",Object.setPrototypeOf(this,p.prototype)}}class g extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The model is currently experiencing high demand. Please try again in a few minutes.";super(e),this.type="ServiceUnavailableError",this.name="ServiceUnavailableError",Object.setPrototypeOf(this,g.prototype)}}},28948:(e,t,r)=>{r.d(t,{_j:()=>A,zP:()=>R,kt:()=>I,Cm:()=>E,cb:()=>G});var a=r(96240),o=r(91608),i=r(95854),s=r(3548);let l=e=>e.supportedModels[0].defaultSettings.resolution,n=e=>e.supportedModels[0].defaultSettings.duration,d=e=>e.supportedModels[0].defaultSettings.aspectRatio,u=e=>e.supportedModels.some(e=>e.supportsAudio);var p=r(41935),g=r(80752);let m=p.z.object({imageAssetId:p.z.string(),styleId:p.z.string(),imageUrl:p.z.string()}),c=p.z.union([m.extend({type:p.z.literal("asset")}),p.z.object({type:p.z.literal("url"),imageUrl:p.z.string(),aspectRatio:g.h7,styleId:p.z.string().optional()}),p.z.object({type:p.z.literal("showcaseExample"),imageAssetId:p.z.string(),styleId:p.z.string(),aspectRatio:g.h7,imageUrl:p.z.string(),source:p.z.union([p.z.literal("showcase grid"),p.z.literal("showcase item modal")])}),p.z.object({type:p.z.literal("none")})]),z=p.z.object({modelGroupId:p.z.string().optional(),prompt:p.z.string(),suggestedPrompt:p.z.string().nullable(),resolution:g.Cg,duration:g.uH,source:c,lastFrameSource:c,enableAudio:p.z.boolean(),aspectRatio:g.h7.nullable()}),h=(0,i.hF)(e=>z.safeParse(e).success)((0,i.KU)(()=>sessionStorage)),y=(0,i.tG)("videoPromptAtom",{modelGroupId:void 0,prompt:"",suggestedPrompt:null,duration:5,resolution:"HD",source:{type:"none"},lastFrameSource:{type:"none"},enableAudio:!1,aspectRatio:null},h),b=(0,a.eU)(e=>e(y),(e,t,r)=>{let a,o=(a=e(y),(0,s.YW)(r).with({type:"promptUpdated"},e=>{let{payload:t}=e;return{...a,prompt:t}}).with({type:"promptSuggested"},e=>{let{payload:t}=e;return{...a,prompt:t,suggestedPrompt:t}}).with({type:"promptSuggestionRestored"},()=>{if(null===a.suggestedPrompt)throw Error("Cannot restore a suggested prompt if one has never been suggested.");return{...a,prompt:a.suggestedPrompt}}).with({type:"defaultModelGroupChosen"},e=>{let{payload:t}=e;return{...a,modelGroupId:t.modelGroupId,resolution:l(t),duration:n(t),enableAudio:u(t),aspectRatio:d(t)}}).with({type:"modelGroupChosen"},e=>{let t,r,o,i,{payload:s}=e;return{...a,modelGroupId:s.modelGroupId,resolution:(t=a.resolution,s.supportedModels.some(e=>e.supportedResolutions.includes(t)))?a.resolution:l(s),duration:(r=a.duration,s.supportedModels.some(e=>e.supportedDurations.includes(r)))?a.duration:n(s),enableAudio:u(s),aspectRatio:(o=a.aspectRatio,i=s,o&&i.supportedModels.some(e=>e.supportedAspectRatios.includes(o)))?a.aspectRatio:d(s)}}).with({type:"resolutionChosen"},e=>{let{payload:t}=e;return{...a,resolution:t}}).with({type:"durationChosen"},e=>{let{payload:t}=e;return{...a,duration:t}}).with({type:"aspectRatioChosen"},e=>{let{payload:t}=e;return{...a,aspectRatio:t}}).with({type:"audioToggled"},()=>({...a,enableAudio:!a.enableAudio})).with({type:"assetChosen"},e=>{let{payload:t}=e;return{...a,prompt:"",suggestedPrompt:null,source:{type:"asset",...t}}}).with({type:"lastFrameAssetChosen"},e=>{let{payload:t}=e;return{...a,prompt:"",suggestedPrompt:null,lastFrameSource:{type:"asset",...t}}}).with({type:"exampleChosen"},e=>{let{payload:{imageAssetId:t,styleId:r,aspectRatio:o,imageUrl:i,source:s}}=e;return{...a,prompt:"",suggestedPrompt:null,source:{type:"showcaseExample",imageAssetId:t,styleId:r,aspectRatio:o,imageUrl:i,source:s}}}).with({type:"urlChosen"},e=>{let{payload:t}=e;return{...a,prompt:"",suggestedPrompt:null,source:{type:"url",...t}}}).with({type:"lastFrameUrlChosen"},e=>{let{payload:t}=e;return{...a,prompt:"",suggestedPrompt:null,lastFrameSource:{type:"url",...t}}}).with({type:"imageReset"},()=>({...a,source:{type:"none"},lastFrameSource:{type:"none"},prompt:"",suggestedPrompt:null})).with({type:"imageRemoved"},()=>({...a,prompt:"",suggestedPrompt:null,source:{type:"none"}})).with({type:"lastFrameImageRemoved"},()=>({...a,lastFrameSource:{type:"none"}})).with({type:"promptReset"},()=>({...a,prompt:"",suggestedPrompt:null})).with({type:"imagesOrderSwitched"},()=>({...a,source:a.lastFrameSource,lastFrameSource:a.source})).exhaustive());t(y,o)}),v=(0,a.eU)(e=>{let t=e(y);return"asset"!==t.source.type?null:t.source.imageAssetId}),E=()=>{let[e,t]=(0,o.fp)(b);return{state:e,dispatch:t}},I=()=>({dispatch:(0,o.Xr)(b)}),R=e=>(0,o.md)(v)===e,C=(0,a.eU)(e=>e(y).source),f=(0,a.eU)(e=>e(y).lastFrameSource),G=e=>(0,o.md)("lastFrame"===e?f:C),w=(0,i.mg)(y,e=>e.modelGroupId),A=()=>(0,o.md)(w)},35724:(e,t,r)=>{r.d(t,{Gl:()=>s,_M:()=>i,dY:()=>o});var a=r(7620);let o=(0,a.createContext)({imageToImage:[],imageToVideo:[],textToVideo:[]}),i=()=>(0,a.useContext)(o),s=(e,t)=>{var r;return(null==(r=t.find(t=>t.modelGroupId===e))?void 0:r.name)??"unknown"}},43733:(e,t,r)=>{r.d(t,{j:()=>i});var a=r(80752);let o=[{name:"1:1",value:1,aspectRatio:a.gl.SQUARE},{name:"16:9",value:16/9,aspectRatio:a.gl.LANDSCAPE_16X9},{name:"3:2",value:1.5,aspectRatio:a.gl.LANDSCAPE_3X2},{name:"9:16",value:9/16,aspectRatio:a.gl.PORTRAIT_9X16},{name:"2:3",value:2/3,aspectRatio:a.gl.PORTRAIT_2X3}],i=e=>{let{width:t,height:r}=e,a=t/r,i=o[0],s=Math.abs(a-i.value);for(let e=1;e<o.length;e+=1){let t=Math.abs(a-o[e].value);t<s&&(s=t,i=o[e])}return i}},44924:(e,t,r)=>{r.d(t,{A:()=>n,D:()=>d});var a=r(7620),o=r(902),i=r(3548),s=r(57217),l=r(8499);let n=e=>(0,i.YW)(e).with(i.P.string.startsWith(s.JZ.imageToImageAI),()=>l.ri).with(i.P.string.startsWith(s.JZ.textToVideoAi),()=>l.pC).with(i.P.string.startsWith(s.JZ.imageToVideoAi),()=>l.ty).otherwise(()=>l.Nz),d=()=>{let e=(0,o.usePathname)();return(0,a.useMemo)(()=>n(e),[e])}},51193:(e,t,r)=>{r.d(t,{x:()=>s});var a=r(55760),o=r(26430);let i=["ID","PK","IN"],s=()=>{var e,t;let{isTrial:r}=(0,o.f)(),s=(0,a.M)();return!!(r&&i.includes((null==(e=s.geoData)||null==(t=e.countryCode)?void 0:t.toUpperCase())??""))}},54940:(e,t,r)=>{r.d(t,{gq:()=>p,o8:()=>m,Q3:()=>z,qu:()=>c});var a=r(902),o=r(32638),i=r(51193),s=r(70712),l=r(21797),n=r(26430),d=r(57217),u=r(63875);let p=()=>{(0,u.S)().invalidateQueries(["credits"])},g=e=>{let{data:t,isLoading:r,pathname:a,isTrial:o,countryCode:i}=e,s=a.startsWith(d.JZ.textToImageAi),l=null==t?void 0:t.generatedImage,n=null==t?void 0:t.generatedVideo,u=s?l:n,p=!!l&&!!n,g=null!=u&&u.paidGenerate.enabled?u.usedCredits:0,m=null!=u&&u.paidGenerate.enabled?u.totalCredits:0,c=null!=l&&l.paidGenerate.enabled?0:((null==l?void 0:l.totalCredits)??0)-((null==l?void 0:l.usedCredits)??0),z=null!=n&&n.paidGenerate.enabled||o&&i&&["ID","PK","IN"].includes(i.toUpperCase())?0:((null==n?void 0:n.totalCredits)??0)-((null==n?void 0:n.usedCredits)??0),h=null!=u&&u.paidGenerate.enabled?0:((null==u?void 0:u.totalCredits)??0)-((null==u?void 0:u.usedCredits)??0),y=null!=l&&l.paidGenerate.enabled?null==l?void 0:l.usedCredits:0,b=null!=l&&l.paidGenerate.enabled?null==l?void 0:l.totalCredits:0,v=(null==l?void 0:l.paidGenerate.enabled)||(null==n?void 0:n.paidGenerate.enabled),E=null==n?void 0:n.paidGenerate.enabled,I=(null==l?void 0:l.paidGenerate.enabled)&&!(null!=n&&n.paidGenerate.enabled);return{isLoading:r,isDataReady:p,usedCredits:g,totalCredits:m,remainingCredits:m-g,freeGenerations:h,freeImageGenerations:c,freeVideoGenerations:z,imageUsedCredits:y,imageTotalCredits:b,isPaidPlanWithCredits:v,isPaidPlanWithVideoCredits:E,isCreditsForImageOnly:I,isFreeGenerationsOnly:!(null!=u&&u.paidGenerate.enabled)&&(null==u?void 0:u.freeGenerate.enabled),isTextToImageAiMode:s,nextRenewalDate:(null==u?void 0:u.nextRenewalDate)??(null==l?void 0:l.nextRenewalDate)}},m=()=>{var e,t;let r,{data:i,isLoading:n}=(r=(0,l.useSession)(),(0,o.useQuery)({queryFn:()=>{var e;return(0,s.P)(null==(e=r.data)?void 0:e.accessToken)},queryKey:["credits","visual-ai-global",null==(e=r.data)?void 0:e.user.id],enabled:!!(null!=(t=r.data)&&t.user.id),staleTime:3e4,keepPreviousData:!0}));return g({data:i,isLoading:n,pathname:(0,a.usePathname)()})},c=()=>{var e,t;let r=(0,l.useSession)();return(0,o.useQuery)({queryFn:()=>{var e;return(0,s.P)(null==(e=r.data)?void 0:e.accessToken)},queryKey:["credits","visual-ai-page-specific",null==(e=r.data)?void 0:e.user.id],enabled:!!(null!=(t=r.data)&&t.user.id),staleTime:3e4,keepPreviousData:!0})},z=()=>{let{data:e,isLoading:t}=c(),r=(0,a.usePathname)(),{isTrial:o}=(0,n.f)();return g({data:e,isLoading:t,pathname:r,isTrial:o,countryCode:(0,i.x)()?"ID":void 0})}},64741:(e,t,r)=>{r.d(t,{Me:()=>I,hB:()=>E,AX:()=>C,Uy:()=>c,LS:()=>v,Un:()=>y,C$:()=>z});var a=r(7620),o=r(96240),i=r(91608),s=r(95854),l=r(45030),n=r(80752);let d={prompt:"",aspectRatio:n.gl.SQUARE,sources:[]};var u=r(3548),p=r(81428);let g=(0,o.eU)(d),m=(0,o.eU)(e=>e(g),(e,t,r)=>{let a,o=(a=e(g),(0,u.YW)(r).with({type:"promptUpdated"},e=>{let{payload:t}=e;return{...a,prompt:t}}).with({type:"firstSourceReplacedWithAsset"},e=>{let{payload:t}=e;return{...a,prompt:"",sources:[{type:"asset",...t}]}}).with({type:"assetAdded"},e=>{let{payload:t}=e;return a.sources.length>=3?(p.A.error("You can select up to 3 images"),a):{...a,sources:[...a.sources,{type:"asset",...t}]}}).with({type:"firstSourceReplacedWithExample"},e=>{let{payload:{imageAssetId:t,styleId:r,aspectRatio:o,imageUrl:i,source:s}}=e;return{...a,prompt:"",sources:[{type:"showcaseExample",imageAssetId:t,styleId:r,aspectRatio:o,imageUrl:i,source:s}]}}).with({type:"exampleAdded"},e=>{let{payload:{imageAssetId:t,styleId:r,aspectRatio:o,imageUrl:i,source:s}}=e;return a.sources.length>=3?(p.A.error("You can select up to 3 images"),a):{...a,sources:[...a.sources,{type:"showcaseExample",imageAssetId:t,styleId:r,aspectRatio:o,imageUrl:i,source:s}]}}).with({type:"firstSourceReplacedWithUrl"},e=>{let{payload:t}=e;return{...a,prompt:"",sources:[{type:"url",...t}]}}).with({type:"urlAdded"},e=>{let{payload:t}=e;return a.sources.length>=3?(p.A.error("You can select up to 3 images"),a):{...a,sources:[...a.sources,{type:"url",...t}]}}).with({type:"sourceOverwrittenWithUrl"},e=>{let{payload:t}=e,r=[...a.sources.slice(0,t.index),{type:"url",...t},...a.sources.slice(t.index+1)];return{...a,sources:r}}).with({type:"imageReset"},()=>({...d,modelGroupId:a.modelGroupId})).with({type:"promptReset"},()=>({...a,prompt:""})).with({type:"sourceRemoved"},e=>{let{payload:{index:t}}=e,r=a.sources.filter((e,r)=>r!==t);return 0===r.length?{...d,modelGroupId:a.modelGroupId}:{...a,sources:r}}).with({type:"modelGroupSelected"},e=>{let{payload:{modelGroupId:t,aspectRatio:r}}=e;return{...a,aspectRatio:r??n.gl.SQUARE,modelGroupId:t}}).with({type:"aspectRatioChosen"},e=>{let{payload:t}=e;return{...a,aspectRatio:t}}).exhaustive());t(g,o)}),c=()=>(0,i.fp)(m),z=()=>(0,i.Xr)(m),h=(0,s.mg)(g,e=>e.prompt),y=()=>(0,i.md)(h),b=(0,s.mg)(g,e=>e.sources),v=()=>(0,i.md)(b),E=()=>(0,l.yF)((0,a.useCallback)(e=>e(b),[])),I=()=>(0,l.yF)((0,a.useCallback)(e=>e(g).modelGroupId,[])),R=(0,s.mg)(g,e=>e.modelGroupId),C=()=>(0,i.md)(R)},69043:(e,t,r)=>{r.d(t,{Ik:()=>n,g4:()=>d,i6:()=>l});var a=r(95315),o=r(72466),i=r(97335),s=r(79061);let l=a.A.create({baseURL:o.K1,headers:{"service-host":i.By,"x-new-credits-plan":"true",...s.oG}});a.A.create({baseURL:o.gt,headers:{...s.oG}});let n=a.A.create({baseURL:o.UK,headers:{"service-host":i.By,"x-new-credits-plan":"true",...s.oG}}),d=a.A.create({baseURL:o.UK,headers:{"service-host":i.F_,...s.oG}})},70712:(e,t,r)=>{r.d(t,{P:()=>c});var a=r(184),o=r(69043),i=r(41935);let s=i.z.object({isEligible:i.z.boolean(),totalCredits:i.z.number(),usedCredits:i.z.number(),lastRenewalDate:i.z.string().nullable(),nextRenewalDate:i.z.string().nullable(),planType:i.z.string().nullable(),freeGenerate:i.z.object({enabled:i.z.boolean(),amount:i.z.number()}),generate:i.z.object({enabled:i.z.boolean(),amount:i.z.number()}),paidGenerate:i.z.object({enabled:i.z.boolean(),amount:i.z.number()})}),l=s.extend({upscale:i.z.object({enabled:i.z.boolean()})}),n=s.extend({resolution:i.z.array(i.z.string()).nullish(),duration:i.z.array(i.z.number()).nullish(),tierModels:i.z.array(i.z.string()).nullish()}),d=i.z.object({generatedImage:l,generatedVideo:n,voiceOver:s}),u=l.transform(e=>({...e,leftCredits:e.totalCredits-e.usedCredits})),p=n.transform(e=>({...e,leftCredits:e.totalCredits-e.usedCredits})),g=i.z.object({generatedImage:u,generatedVideo:p,voiceOver:s});i.z.object({data:d});let m=i.z.object({data:g}),c=async e=>{let t=await o.Ik.get("/v1/credits",{headers:{Authorization:`Bearer ${e}`}}),r=m.safeParse(t.data);if(!r.success)throw a.e$.error("Invalid getCredits data",(0,a.Xf)(r.error)),Error("Invalid getCredits data.");return r.data.data}},74826:(e,t,r)=>{r.d(t,{W:()=>n});var a=r(7620),o=r(3548),i=r(16596);let s=e=>t=>{let{name:r,...a}=t;i.default.track({name:r,eventData:{...a,...e}})};var l=r(54940);let n=()=>{let{data:e,isLoading:t}=(0,l.qu)(),r=(0,a.useMemo)(()=>(e=>{let{data:t,isLoading:r}=e;return!t||r?{totalCredits:null,usedCredits:null,remainingCredits:null,freeImageGenerates:null,freeVideoGenerates:null}:{totalCredits:t.generatedImage.totalCredits,usedCredits:t.generatedImage.usedCredits,remainingCredits:t.generatedImage.leftCredits,freeImageGenerates:t.generatedImage.freeGenerate.amount,freeVideoGenerates:t.generatedVideo.freeGenerate.amount}})({data:e,isLoading:t}),[e]);return{trackImageGenEvent:(0,a.useCallback)(s({credit_amount_balance:r.totalCredits,credit_start_balance:r.remainingCredits,credit_used:0,credit_capacity:r.remainingCredits,free_image_generates:r.freeImageGenerates,free_video_generates:r.freeVideoGenerates}),[r]),trackImageGenEventWithCost:(0,a.useCallback)((e,t,a)=>{let i={credit_amount_balance:r.totalCredits,credit_start_balance:r.remainingCredits},l={...i,credit_used:t,credit_capacity:null!==r.remainingCredits?r.remainingCredits-t:null,free_image_generates:r.freeImageGenerates,free_video_generates:r.freeVideoGenerates};s((0,o.YW)({generationType:a,hasImageGifts:!!r.freeImageGenerates,hasVideoGifts:!!r.freeVideoGenerates}).with({generationType:"upscale"},()=>l).with({generationType:"image",hasImageGifts:!0},()=>({...i,credit_used:0,credit_capacity:r.remainingCredits,free_image_generates:null!==r.freeImageGenerates?r.freeImageGenerates-1:null,free_video_generates:r.freeVideoGenerates})).with({generationType:"image",hasImageGifts:!1},()=>l).with({generationType:"video",hasVideoGifts:!0},()=>({...i,credit_used:0,credit_capacity:r.remainingCredits,free_image_generates:r.freeImageGenerates,free_video_generates:null!==r.freeVideoGenerates?r.freeVideoGenerates-1:null})).with({generationType:"video",hasVideoGifts:!1},()=>l).exhaustive())(e)},[r])}}},80752:(e,t,r)=>{r.d(t,{Cg:()=>l,gl:()=>i,h7:()=>s,uH:()=>n});var a,o=r(41935);let i=((a={}).AUTO="AUTO",a.SQUARE="SQUARE",a.PORTRAIT_9X16="PORTRAIT_9X16",a.LANDSCAPE_16X9="LANDSCAPE_16X9",a.PORTRAIT_2X3="PORTRAIT_2X3",a.LANDSCAPE_3X2="LANDSCAPE_3X2",a),s=o.z.nativeEnum(i),l=o.z.union([o.z.literal("HD"),o.z.literal("FULL_HD"),o.z.literal("4K"),o.z.literal("2K")]),n=o.z.number()}}]);
//# sourceMappingURL=90822-c6013a960b452b9d.js.map
//# debugId=2d259164-ea23-5a52-b91e-b799edd8a82a
