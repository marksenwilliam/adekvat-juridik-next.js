"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6e1a1d0d-1975-5273-ab55-0c798b0286ef")}catch(e){}}();
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9935],{1857:(e,t,a)=>{a.d(t,{FU:()=>d,kt:()=>u,q$:()=>c,u6:()=>p});var r=a(38305),o=a(65736),s=a(27170),n=a(54568);let i=r.A.path`
  @keyframes spinner {
    0% {
      d: path(
        'M12.01 12.01l0.47 0.47M13.52 8h0.95M11.8 4.2l0.88 -0.88M8 2.76v-1.52M4.4 4.4l-1.28 -1.28M3.05 8h-2.1M2.81 13.19l1.68 -1.68M8 12.67v2.67'
      );
    }
    12.5% {
      d: path(
        'M11.3 11.3l1.89 1.89M13.67 8h0.67M11.91 4.09l0.67 -0.67M8 2.62v-1.24M4.3 4.3l-1.08 -1.08M2.9 8h-1.81M2.95 13.05l1.48 -1.48M8 12.81v2.38'
      );
    }
    25% {
      d: path(
        'M11.4 11.4l1.68 1.68M12.67 8h2.67M12.01 3.99l0.47 -0.47M8 2.48v-0.95M4.2 4.2l-0.88 -0.88M2.76 8h-1.52M3.1 12.9l1.28 -1.28M8 12.95v2.1'
      );
    }
    37.5% {
      d: path(
        'M11.5 11.5l1.48 1.48M12.81 8h2.38M11.3 4.7l1.89 -1.89M8 2.33v-0.67M4.09 4.09l-0.67 -0.67M2.62 8h-1.24M3.24 12.76l1.08 -1.08M8 13.1v1.81'
      );
    }
    50% {
      d: path(
        'M11.6 11.6l1.28 1.28M12.95 8h2.1M11.4 4.6l1.68 -1.68M8 3.33v-2.67M3.99 3.99l-0.47 -0.47M2.48 8h-0.95M3.38 12.62l0.88 -0.88M8 13.24v1.52'
      );
    }
    62.5% {
      d: path(
        'M11.7 11.7l1.08 1.08M13.1 8h1.81M11.5 4.5l1.48 -1.48M8 3.19v-2.38M4.7 4.7l-1.89 -1.89M2.33 8h-0.67M3.52 12.48l0.67 -0.67M8 13.38v1.24'
      );
    }
    75% {
      d: path(
        'M11.8 11.8l0.88 0.88M13.24 8h1.52M11.6 4.4l1.28 -1.28M8 3.05v-2.1M4.6 4.6l-1.68 -1.68M3.33 8h-2.67M3.67 12.33l0.47 -0.47M8 13.52v0.95'
      );
    }
    87.5% {
      d: path(
        'M11.91 11.91l0.67 0.67M13.38 8h1.24M11.7 4.3l1.08 -1.08M8 2.9v-1.81M4.5 4.5l-1.48 -1.48M3.19 8h-2.38M2.67 13.33l1.89 -1.89M8 13.67v0.67'
      );
    }
    100% {
      d: path(
        'M12.01 12.01l0.47 0.47M13.52 8h0.95M11.8 4.2l0.88 -0.88M8 2.76v-1.52M4.4 4.4l-1.28 -1.28M3.05 8h-2.1M2.81 13.19l1.68 -1.68M8 12.67v2.67'
      );
    }
  }
  animation: 0.6s linear infinite forwards spinner;
  stroke-width: 1.2;
  stroke-linecap: round;
`,l=r.A.path`
  stroke-linecap: round;
  stroke-linejoin: round;
  transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
`,d=e=>{let{icon:t="play",color:a="white"}=e;return(0,n.jsx)("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"10 10 14 14",className:"w-full","data-icon":t,children:(0,n.jsx)(l,{d:"pause"===t?"M13,12 l2,0 l0,10 l-2,0 z M19.5,12 l2,0 l0,10 l-2,0 z":"M13.5,12 L17.75,14.5 L17.75,19.5 L13.5,22 z M17.75,14.5 L22,17 L22,17 L17.75,19.5 z",strokeWidth:"pause"===t?1.5:2,fill:a,stroke:a})})},u=()=>(0,n.jsx)("svg",{role:"status","aria-busy":!0,fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",className:"h-[1em] w-[1em]",children:(0,n.jsx)(i,{})}),c=e=>{let{icon:t,onClick:a,label:r,disabled:s,className:i}=e;return(0,n.jsx)("button",{"aria-label":r,onClick:a,type:"button",className:(0,o.cn)("flex h-6 w-6 shrink-0 items-center justify-center rounded-full p-1 text-sm text-gray-50 drop-shadow-none transition-all duration-100 focus:outline-1 active:scale-95 sm:text-base xl:w-7 2xl:text-2xl",i),disabled:s,children:(0,n.jsx)(d,{icon:t,color:s?"#575757":void 0})})},p=e=>{let{icon:t="loading",onClick:a,label:r}=e;return(0,n.jsx)("button",{"aria-label":r,onClick:a,type:"button",className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-gray-900/80 p-3 text-sm text-gray-50 drop-shadow-[0_5px_4px_rgba(0,0,0,0.4)] transition-all duration-100 hover:bg-gray-400/80 focus:outline-1 active:scale-95 sm:text-base md:h-12 md:w-12 lg:h-10 lg:w-10 2xl:h-12 2xl:w-12 2xl:p-3.5 2xl:text-2xl 3xl:h-14 3xl:w-14 3xl:p-4",children:"loading"===t?(0,n.jsx)(u,{}):(0,n.jsx)(d,{icon:t})})};p.Placeholder=()=>(0,n.jsx)(s.A,{className:"h-9 w-9 shrink-0 overflow-hidden rounded-full sm:h-10 sm:w-10 2xl:h-14.5 2xl:w-14.5"})},4101:(e,t,a)=>{a.d(t,{V:()=>n,x:()=>i});var r=a(24990),o=a(63560);let s=e=>({asset_id:e.id,image_asset_id:e.assetType===r.E7.aiImage?e.id:e.metadata.originalImageId??"",style:e.style.name,dimensions:(0,o.z4)(e.metadata),aspect_ratio:(0,o.PR)(e.settings.aspectRatio),generate_id:e.generationId,generate_type:e.generateType}),n=(e,t)=>({...s(e),gen_AI_tier:t,media_type:"image ai",format:e.metadata.fileFormat,image_asset_id:e.id}),i=e=>{var t;return{...s(e),gen_AI_tier:(null==(t=e.tier)?void 0:t.model)??"unknown",media_type:"video ai",format:e.metadata.fileFormat,resolution:(0,o.vO)(e.resolution),duration:(0,o.dt)(e.duration),image_asset_id:e.metadata.originalImageId??"",is_uploaded_photo:"UPLOADED_IMAGE"===e.source,is_upscale:e.isUpscaleVideo}}},9798:(e,t,a)=>{a.d(t,{F:()=>s});var r=a(32638),o=a(87790);let s=()=>(0,r.useQuery)({queryKey:["gen-ai-image-to-image-style-default"],queryFn:async()=>{let e=await (0,o.p)({page:1,assetType:"generatedImage",feature:"imageToImage"});return(null==e?void 0:e[0])||{id:"9f26a474-80c9-4a53-b610-48fc9926d5a4",imageGenerationCost:0,name:""}},refetchOnWindowFocus:!1,staleTime:1/0})},12802:(e,t,a)=>{a.d(t,{M:()=>m,V:()=>h});var r=a(96679),o=a(74706),s=a(7703),n=a(65497),i=a(86789),l=a(14969),d=a(1857),u=a(54568);let c=`
M12 5
L6 10
L3 7`,p=`
M2 7
L12 7
M7 12
L7 2
`,h=e=>{let{icon:t}=e;return(0,u.jsx)("svg",{viewBox:"0 0 14 14",fill:"none",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",stroke:"white",xmlns:"http://www.w3.org/2000/svg",className:"h-4.5 w-4.5",children:(0,u.jsx)(s.x,{transition:{type:"spring",bounce:0,duration:.3},children:(0,u.jsxs)(n.N,{mode:"wait",initial:!1,children:["add"===t&&(0,u.jsx)(i.P.path,{d:p,initial:{scale:.975,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.975,opacity:0}},"add"),"check"===t&&(0,u.jsx)(i.P.path,{initial:{strokeDashoffset:-20,y:0},animate:{strokeDashoffset:[-20,0],y:[0,.5,0]},exit:{strokeDashoffset:-20,y:0},style:{rotate:0,strokeDasharray:20},transition:{strokeDashoffset:{duration:.3,type:"spring",bounce:0},y:{duration:.2}},d:c,stroke:"#FFDA2A",strokeWidth:1.5},"added"),"loading"===t&&(0,u.jsx)(i.P.g,{initial:{scale:.975,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.975,opacity:0},children:(0,u.jsx)(d.kt,{})},"loading"),"download"===t&&(0,u.jsx)(o.g,{className:"text-sm",icon:r.n6})]})})})},m=e=>{let{onClick:t,label:a,icon:r="add",tooltipText:o,className:s}=e;return(0,u.jsx)(l.r,{label:a,onClick:t,tooltipText:o,className:s,children:(0,u.jsx)(h,{icon:r})})}},14969:(e,t,a)=>{a.d(t,{r:()=>l});var r=a(7620),o=a(38271),s=a(65736),n=a(11098),i=a(54568);let l=(0,r.forwardRef)((e,t)=>{let{onClick:a,label:r,children:l,tooltipText:d,tooltipPlacement:u,className:c=""}=e,p=(0,i.jsx)(o.A,{ref:t,onClick:a,"aria-label":r,type:"button",className:(0,s.cn)("pointer-events-auto flex aspect-square w-8 shrink-0 cursor-pointer items-center justify-center rounded-full border-none bg-lowest-emphasis/80 text-white shadow-none outline-none transition-all duration-100 hover:bg-gray-400/80 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent active:scale-95 md:w-9",c),children:l});return d?(0,i.jsx)(n.m,{placement:u,text:d,children:p}):p})},16881:(e,t,a)=>{a.d(t,{S:()=>d});var r=a(14590),o=a(21797),s=a(24990),n=a(184),i=a(69043),l=a(67789);let d=e=>{let t,{data:a}=(0,o.useSession)();return(0,r.useMutation)({mutationFn:(t=null==a?void 0:a.accessToken,async e=>{let a=await i.i6.post(`/v1/generatedImage/${e}/upscale`,{generateType:s.vE.UPSCALE},{headers:{Authorization:`Bearer ${t}`}}).catch(t=>{throw n.e$.error(`Could not upscale image ${e}`,{message:t.message}),t}),r=l.S.safeParse(a.data);return r.success?r.data:null}),mutationKey:["ai-image-upscale",e]})}},17033:(e,t,a)=>{a.d(t,{o:()=>n});var r=a(4709),o=a(21797),s=a(88357);let n=e=>{let t="authenticated"===(0,o.useSession)().status,{assetId:a,assetType:n,isInitialInFavorites:i,onUnauthorized:l,onFavoriteStatusChanged:d}=e,{isInFavorites:u,addToFavorite:c,removeFromFavorite:p}=(0,s.S)(a,n,i),h=async()=>{c();try{await (0,r.MS)([{id:a,type:n}])}catch(e){p()}},m=async()=>{p();try{await (0,r.sp)(a,n)}catch(e){c()}},g=async()=>{if(!t){null==l||l();return}u?await m():await h(),null==d||d(!u)};return{isInFavorites:u,onFavoriteClick:g,removeFromFavorites:m}}},18781:(e,t,a)=>{a.d(t,{$:()=>s});var r=a(24990),o=a(66871);let s=e=>{o.default.trigger(r.GD.UQL_BLOCKED_DOWNLOADS__MODAL__OPEN,{clickSource:e})}},28339:(e,t,a)=>{a.d(t,{e:()=>r});let r=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}},31504:(e,t,a)=>{a.d(t,{Ux:()=>m,XO:()=>g});var r=a(7620),o=a(16923),s=a(14590),n=a(54940),i=a(21797),l=a(184),d=a(75230),u=a(74826),c=a(35724),p=a(28948);let h=["suggest-prompt"],m=()=>0!==(0,o.useIsMutating)({mutationKey:h}),g=()=>{let{dispatch:e}=(0,p.kt)(),t=(0,r.useRef)(void 0),a=(0,i.useSession)(),{trackImageGenEvent:o}=(0,u.W)(),{state:m}=(0,p.Cm)(),{modelGroupId:g}=m,y=(0,c._M)();return(0,s.useMutation)({mutationKey:h,mutationFn:e=>{var r,o;if(!(null!=(r=a.data)&&r.accessToken))throw l.e$.error("No access token when trying to suggest prompt.",{userId:null==(o=a.data)?void 0:o.user.id}),Error("No access token when trying to suggest prompt.");return t.current&&t.current.abort(),t.current=new AbortController,(0,d.n2)(e,{signal:t.current.signal,accessToken:a.data.accessToken})},onSuccess:t=>{e({type:"promptSuggested",payload:t}),o({name:"suggested prompt viewed",generate_type:"image to video",gen_ai_model:(0,c.Gl)(g,y.imageToVideo)})},onSettled:n.gq})}},33162:(e,t,a)=>{a.d(t,{B5:()=>f,Gb:()=>b,O0:()=>x,z2:()=>w,zT:()=>v});var r=a(37319),o=a(58408),s=a(74706),n=a(7701),i=a(38271),l=a(439),d=a(3548),u=a(65736),c=a(14969),p=a(12802),h=a(11098),m=a(54563),g=a(54568);let y=e=>(0,d.YW)(e).with(m.h.DOWNLOADED,()=>"check").with(m.h.NOT_DOWNLOADED,()=>"download").with(m.h.IN_PROGRESS,()=>"loading").with(m.h.COMPLETE,()=>"check").exhaustive(),w=e=>{let{downloadStatus:t,onClick:a}=e,{t:r}=(0,l.Bd)("asset-action-buttons"),o=y(t);return(0,g.jsx)(p.M,{label:"download",tooltipText:r("download"),onClick:a,icon:o})},v=e=>{let{downloadStatus:t,onClick:a}=e,{t:r}=(0,l.Bd)("asset-action-buttons"),o=y(t);return(0,g.jsx)(h.m,{text:r("download"),children:(0,g.jsx)(i.A,{className:"flex h-[34px] w-[34px] items-center justify-center rounded-full border border-solid hover:border-[1.5px] border-white text-white hover:border-gray-50 hover:text-gray-50","aria-label":"download",onClick:a,children:(0,g.jsx)(p.V,{icon:o})})})},f=e=>{let{onClick:t,isFavorite:a}=e,{t:r}=(0,l.Bd)("asset-action-buttons");return(0,g.jsx)(c.r,{tooltipText:r(a?"removeFromFavorites":"addToFavorites"),label:r(a?"removeFromFavorites":"addToFavorites"),onClick:t,children:(0,g.jsx)(s.g,{className:(0,u.cn)("text-sm",a?"text-accent":"text-white"),icon:o.yy})})},x=e=>{let{onClick:t,children:a}=e;return(0,g.jsx)(n.A,{className:"w-19 border border-solid border-gray-100 p-1 text-sm font-medium uppercase text-white hover:bg-white hover:text-black 3xl:w-29 3xl:p-2 3xl:text-base",onClick:t,children:a})},b=e=>{let{onClick:t,label:a}=e;return(0,g.jsx)(c.r,{label:a,onClick:t,children:(0,g.jsx)(s.g,{className:"text-base",icon:r.v})})}},38955:(e,t,a)=>{a.d(t,{B:()=>l,L:()=>d});var r=a(7620),o=a(96240),s=a(91608),n=a(87274),i=a(24990);let l=(0,o.eU)({max:0,downloadCount:0,assetType:""}),d=e=>{let t=(0,s.Xr)(l),a=(0,s.md)(n.X),o=null==a?void 0:a.byAssetType[e],d=(0,r.useCallback)((e,a,r)=>{t({downloadCount:e,max:a,assetType:r})},[]);return{getDownloadLimitStatus:t=>{if(o){if(o.status===i.cc.Approaching)return null!=t&&t.doNotShowDailyLimitModal||d(o.used,o.allowed,e),i.cc.Approaching;if(o.status===i.cc.Reached)return null!=t&&t.doNotShowDailyLimitModal||d(o.used,o.allowed,e),i.cc.Reached}return i.cc.Within}}}},39415:(e,t,a)=>{a.d(t,{Mi:()=>g,lp:()=>w,mB:()=>y});var r=a(7620),o=a(96240),s=a(91608),n=a(60048),i=a(80682),l=a(93419),d=a(54563),u=a(24990),c=a(38955),p=a(66871),h=a(26430),m=a(87992);let g=(0,o.eU)(""),y=e=>{let{assetId:t,initialState:a,render:r}=e,o=(0,s.md)(g),n=!!(0,s.md)(l.T6)[t];return r(o===t?d.h.IN_PROGRESS:n||a?d.h.DOWNLOADED:d.h.NOT_DOWNLOADED)},w=function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.Assets.AssetType.MUSIC,[o,y]=(0,r.useState)(0),{getDownloadLimitStatus:w}=(0,c.L)(a),{isEnterpriseOrExperienceIa:v}=(0,h.f)(),{data:f}=(0,m.J)(),x=null==f||null==(t=f.subscription)?void 0:t.is_dunning;(0,r.useEffect)(()=>{!e&&o>0&&y(0)},[e]);let b=e?o:0,C=(0,s.Xr)(g),M=(0,s.Xr)(l.T6),U=(e,t,r)=>{let o=w();if(!t&&o===u.cc.Reached)return new Promise(e=>{e({downloadUrl:"",success:!1,isAllowed:!1})});C(e);let s=(0,i.Bx)({assetId:e,assetTypeId:a,assetFormatId:r});return s.then(t=>(y(e=>e+1),null!=t&&t.downloadUrl&&window.open(t.downloadUrl,"_self"),a===n.Assets.AssetType.MUSIC&&p.default.trigger(u.GD.ADD_CHANNELS__NOTIFICATION__OPEN),C(""),M(t=>({...t,[e]:d.h.DOWNLOADED})),x&&!v&&p.default.trigger(u.GD.IS_DUNNING__OPEN,{clickSource:a}),t)).catch(e=>{console.error(e)}),s};return{downloadMP3:(e,t)=>U(e,t,n.AssetsFormats.MusicFormats.MP3),downloadWAVE:(e,t)=>U(e,t,n.AssetsFormats.MusicFormats.WAVE),downloadAAC:(e,t)=>U(e,t,n.AssetsFormats.SfxFormats.AAC),downloadsOnPage:b}}},42934:(e,t,a)=>{a.d(t,{d:()=>r});let r=e=>{let t=new Image;t.crossOrigin="anonymous",t.src=e,t.onload=()=>{let e=new OffscreenCanvas(t.width,t.height),a=e.getContext("2d");a&&(e.width=t.width,e.height=t.height,a.drawImage(t,0,0),e.convertToBlob({type:"image/jpeg"}).then(e=>{let t=document.createElement("a"),a=URL.createObjectURL(e);t.download="",t.href=a,t.click()}))}}},47812:(e,t,a)=>{a.d(t,{g:()=>d,q:()=>c});var r=a(22875),o=a(32638),s=a(21797),n=a(82159);let i=async()=>{let e=await fetch("/api/pending-actions");if(!e.ok)throw Error(`Failed to fetch pending actions: ${e.status} ${e.statusText}`);return await e.json()},l=async e=>{if(!(await fetch("/api/pending-actions/call-scheduled",{method:"PUT",body:JSON.stringify({actionId:e})})).ok)throw Error("Failed to update pending action status to CALL_SCHEDULED")},d={CALL_SCHEDULED:"CALL_SCHEDULED"},u="pendingActions",c=()=>{let{isFeatureEnabled:e}=(0,n.X)(),t="authenticated"===(0,s.useSession)().status,a=e&&t,d=(0,r.useQueryClient)(),{data:c={isUqlBlockedDownloads:!1,uqlBlockedDownloadsPendingActionId:null,uqlBlockedDownloadsPendingActionStatus:null},isLoading:p,error:h}=(0,o.useQuery)({queryKey:[u],queryFn:i,enabled:a,staleTime:18e5,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchInterval:!!a&&18e5,select:e=>{let t=(null==e?void 0:e.find(e=>"uql_block_download"===e.actionType))||null;return{isUqlBlockedDownloads:!!t,uqlBlockedDownloadsPendingActionId:(null==t?void 0:t.id)||null,uqlBlockedDownloadsPendingActionStatus:(null==t?void 0:t.status)||null}}}),m=async e=>{try{await l(e),d.invalidateQueries({queryKey:[u]})}catch(e){throw console.error("Failed to update UQL blocked downloads pending action:",e),e}};return{...c,isLoading:p,error:h,updateUqlBlockedDownloadsPendingAction:m}}},53820:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(7620),o=a(62596),s=a(54568);let n=(0,r.forwardRef)((e,t)=>{let{to:a,children:r,...n}=e;return(0,s.jsx)(o.A,{to:a,"aria-label":n.ariaLabel,"data-testid":"Link",...n,ref:t,children:r})})},53926:(e,t,a)=>{a.d(t,{i:()=>g,x:()=>y});var r=a(7620),o=a(32638),s=a(21797),n=a(26430),i=a(32097),l=a.n(i),d=a(24990);let u="accountManager",c=e=>{if(!d.S$&&e)try{let t={data:e,timestamp:Date.now()};localStorage.setItem(u,JSON.stringify(t))}catch{}},p=async()=>{let e=await fetch("/api/account-manager");if(!e.ok)throw Error(`Failed to fetch account manager: ${e.status}`);let t=await e.json();return c(t),t},h=()=>{if(d.S$)return;let e=(()=>{if(d.S$)return{};try{let e=localStorage.getItem(u);return e?JSON.parse(e):{}}catch{return{}}})();return null!=e&&e.data&&l()(e.timestamp)&&Date.now()-e.timestamp<864e5?e.data:void localStorage.removeItem(u)},m=["accountManager"],g=()=>{let e="authenticated"===(0,s.useSession)().status,{isEnterpriseForAccountManager:t}=(0,n.f)(),a=e&&t,i=(0,o.useQuery)({initialData:h,queryKey:m,queryFn:p,enabled:a,staleTime:864e5,retry:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchInterval:!!a&&864e5});return(0,r.useEffect)(()=>{i.data&&c(i.data)},[i.data]),{query:i,isAccountManagerEnabled:a}},y=()=>{let{query:e,isAccountManagerEnabled:t}=g();return{accountManager:e.data?e.data:{},isAccountManagerEnabled:t}}},54563:(e,t,a)=>{var r;a.d(t,{h:()=>o});let o=((r={}).NOT_DOWNLOADED="NOT_DOWNLOADED",r.DOWNLOADED="DOWNLOADED",r.IN_PROGRESS="IN_PROGRESS",r.COMPLETE="COMPLETE",r)},55641:(e,t,a)=>{a.d(t,{C:()=>c});var r=a(14590),o=a(21797),s=a(24990),n=a(184),i=a(69043);let l=async e=>new Promise((t,a)=>{let r=document.createElement("video");r.crossOrigin="anonymous",r.onerror=e=>{a(Error(`Failed to get video dimensions: ${JSON.stringify(e)}`))},r.onloadedmetadata=()=>{let e=r.videoWidth,o=r.videoHeight;(0===e||0===o)&&a(Error("Failed to get video dimensions, width or height is 0")),t({width:e,height:o})},r.src=e,r.load()});var d=a(67789);let u=async(e,t,a)=>{let{width:r,height:o}=await l(a),u=await i.i6.post(`/v1/generatedVideo/${t}/upscale`,{width:r,height:o,generateType:s.vE.UPSCALE},{headers:{Authorization:`Bearer ${e}`}}).catch(e=>{throw n.e$.error(`Could not upscale video ${t}`,{message:e.message}),e}),c=d.S.safeParse(u.data);return c.success?c.data:null},c=()=>{let{data:e}=(0,o.useSession)();return(0,r.useMutation)({mutationFn:t=>{let{videoAssetId:a,videoUrl:r}=t;return u(null==e?void 0:e.accessToken,a,r)},mutationKey:["ai-video-upscale"]})}},57346:(e,t,a)=>{a.d(t,{q:()=>i});var r=a(7620),o=a(3548),s=a(83825),n=a(26430);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=!!e.style.upscaleRequired,{assetType:i}=e,l=e.style.creditCost.upscaleCost,{videoUpscaleCost:d}=e.style.creditCost,u=(0,o.YW)({isStyleSupportingUpscale:a,assetType:i,imageUpscaleCost:l,videoUpscaleCost:d}).with({assetType:"generatedVideo",videoUpscaleCost:o.P.number},e=>{let{videoUpscaleCost:t}=e;return t}).with({assetType:"generatedImage",isStyleSupportingUpscale:!0,imageUpscaleCost:o.P.number},e=>{let{imageUpscaleCost:t}=e;return t}).otherwise(()=>0),c=t>=u,{isSuite5m:p,isFreeTrialTeam:h}=(0,n.f)(),{isAI4_992_500mCredits:m}=(0,s.u)(),g=!p&&!m&&!h,y=(0,r.useMemo)(()=>(0,o.YW)({isStyleSupportingUpscale:a,isCreditsEnoughToUpscale:c,isUpgradable:g,assetType:i}).with({assetType:"generatedVideo",isCreditsEnoughToUpscale:!0},()=>"creation.videoUpscaleTooltip").with({assetType:"generatedImage",isStyleSupportingUpscale:!1},()=>"creation.upscaleNonEligibleTooltip").with({isCreditsEnoughToUpscale:!1,isUpgradable:!1},()=>"creation.upscaleNotEnoughCreditsTooltip").with({isCreditsEnoughToUpscale:!1,isUpgradable:!0},()=>"creation.upscaleGetMoreCreditsTooltip").with({assetType:"generatedImage",isStyleSupportingUpscale:!0,isCreditsEnoughToUpscale:!0},()=>"creation.upscaleTooltip").exhaustive(),[g,a,c]);return{isUpscaleEligible:a,upscaleCost:u,isCreditsEnoughToUpscale:c,tooltipMessageKey:y}}},59325:(e,t,a)=>{a.d(t,{a:()=>h});var r=a(7620),o=a(91608),s=a(60048),n=a(80682),i=a(93419),l=a(54563),d=a(24990),u=a(39415),c=a(66871);let p=e=>{window.open(e,"_self")},h=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,[h,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),w=(0,o.Xr)(i.T6),v=(0,o.Xr)(u.Mi),f=async r=>(m(!0),v(e),(0,n.Bx)({assetId:e,assetTypeId:t,assetFormatId:r}).then(r=>(null!=r&&r.downloadUrl&&(a(r.downloadUrl),t===s.Assets.AssetType.MUSIC&&c.default.trigger(d.GD.ADD_CHANNELS__NOTIFICATION__OPEN),setTimeout(()=>{w(t=>t?{...t,[e]:l.h.DOWNLOADED}:{[e]:l.h.DOWNLOADED}),v(""),y(!0)},1e3)),setTimeout(()=>{m(!1)},1e3),r)));return{isDownloading:h,setIsDownloading:m,hasDownloaded:g,setHasDownloaded:y,download:f}}},59786:(e,t,a)=>{a.d(t,{VP:()=>n,ZK:()=>u,gH:()=>h});var r=a(41935),o=a(80752);let s=r.z.string(),n=e=>{let[t,a]=e.toLowerCase().split(/\D+/).map(Number);if(Number.isNaN(t)||Number.isNaN(a))throw Error(`Invalid dimensions format. Expected '{number}{separator}{number}', got '${e}'`);return{width:t,height:a}},i=r.z.object({id:r.z.string(),styleId:r.z.string(),prompt:r.z.string(),imageUrl:r.z.string().url(),displayOrder:r.z.number().int(),dimensions:r.z.string().transform(n),aspectRatio:o.h7}).transform(e=>({...e,variant:"imageShowcaseExample"})),l=r.z.object({videoUrl:r.z.string().url(),videoResolution:o.Cg}).and(i).transform(e=>({...e,variant:"videoShowcaseExample"})),d=r.z.object({id:r.z.string(),coverImageUrl:r.z.string(),name:r.z.string(),upscaleCost:r.z.number().nullable(),videoGenerationFullHdCost:r.z.number().nullable(),videoGenerationHdCost:r.z.number().nullable(),imageGenerationCost:r.z.number(),description:r.z.string(),tags:r.z.array(s).optional().default([]),showcases:r.z.array(r.z.union([l,i])).nullish().default([])});r.z.object({page:r.z.number(),assetType:r.z.enum(["generatedImage","generatedVideo"]).optional(),feature:r.z.enum(["imageToImage","upscaleVideo","generateVideo","generateVideoFromCustomImage"]).optional()});let u=r.z.object({generativeMediaStyleList:r.z.array(d)});r.z.object({id:r.z.string()});let c=r.z.object({generativeMediaStyles:r.z.array(d).length(1)}),p=r.z.object({generativeMediaStyles:r.z.array(d).length(0)}),h=r.z.union([c,p])},60344:(e,t,a)=>{a.d(t,{u:()=>o});var r=a(9798);let o=e=>{var t;let{creation:a}=e,o=(0,r.F)();return a.style.name.toLowerCase().includes("image-to-image")||a.style.id===(null==(t=o.data)?void 0:t.id)}},62596:(e,t,a)=>{a.d(t,{A:()=>u});var r=a(7620),o=a(10933),s=a.n(o),n=a(902),i=a(65736),l=a(54568);let d="noopener noreferrer",u=r.forwardRef((e,t)=>{let{to:a,additionalOnClickFn:r,className:o,activeClassName:u,shouldOpenInNewTab:c,isExternalLink:p,shallow:h,noFollow:m,shouldAddHttp:g,children:y,ariaLabel:w,activeRouteMatcher:v,...f}=e,x=(0,n.usePathname)(),b=m?`${d} nofollow`:d;if(p){let e=g?/^https?:\/\//i.test(a)?a:`http://${a}`:a;return(0,l.jsx)("a",{...f,href:e,onClick:r,className:o,rel:b,...c&&{target:"_blank"},"aria-label":w,children:y})}let C=(v?v(x):x===a)?(0,i.cn)(o,u):o;return(0,l.jsx)(s(),{href:a,shallow:h,...f,className:C,onClick:e=>{"function"==typeof r&&r(e)},role:"link",ref:t,...c&&{target:"_blank"},prefetch:!1,children:y})})},67789:(e,t,a)=>{a.d(t,{S:()=>o});var r=a(41935);let o=r.z.object({id:r.z.string(),generationId:r.z.string(),prompt:r.z.string(),createdAt:r.z.string(),creditsUsed:r.z.number()})},75860:(e,t,a)=>{a.d(t,{I:()=>h});var r=a(30039),o=a(63665),s=a(7371),n=a(1108),i=a(15523),l=a(439),d=a(24705),u=a(87455),c=a(65736),p=a(54568);let h=e=>{let{isUpscaleEligible:t,isLoading:a,onClick:r,upscaleCost:o,disabled:s}=e,{t:n}=(0,l.Bd)("visual-ai"),i=s&&t;return(0,p.jsx)("div",{role:"none",className:(0,c.cn)("flex justify-end flex-1",i&&"cursor-pointer"),onClick:()=>{i&&r()},children:(0,p.jsxs)(m,{variant:"outlined",disabled:s,onClick:()=>{a||r()},sx:{cursor:a?"default":"pointer"},children:[n("creation.upscale"),(0,p.jsxs)("span",{className:"inline-flex items-center gap-0.5",children:[t?o:null,a?(0,p.jsx)(g,{}):(0,p.jsx)(u.v,{className:"w-3 h-3"})]})]})})},m=(0,n.Ay)(d.r)(e=>{let{theme:t}=e;return{width:"100%",[`&.${r.A.outlined}`]:{backgroundColor:(0,i.X4)(t.palette.common.black,.2),borderWidth:"1px",padding:"6px 4px"}}}),g=()=>(0,p.jsxs)("div",{className:"flex justify-center",children:[(0,p.jsx)(o.A,{size:"12px",variant:"determinate",thickness:6,value:100,sx:e=>({color:e.palette.grey[200]}),role:"status","aria-label":"Upscaling image"}),(0,p.jsx)(o.A,{size:"12px",thickness:6,sx:()=>({position:"absolute",color:"white",[`& .${s.A.circle}`]:{strokeLinecap:"round"}})})]})},77204:(e,t,a)=>{a.d(t,{d:()=>i});var r=a(439),o=a(94420),s=a(21317),n=a(54568);let i=e=>{let{assetId:t,assetType:a,isOpen:i,placement:l,exceptedCollectionIds:d,onCreateArtboard:u,onAdd:c,onRemove:p,onOpen:h,onClose:m,thumbnailUrl:g,drawerStyle:y}=e,{t:w}=(0,r.Bd)("common");return(0,n.jsx)(s.W.SubMenu,{title:w("actions.addToArtboard"),isOpen:i,onShowSubMenu:h,onCloseSubMenu:m,placement:l,drawerStyle:y,children:(0,n.jsx)(o.V,{assetId:t,assetType:a,exceptedCollectionIds:d,onCreateArtboard:u,onAdd:c,onRemove:p,thumbnailUrl:g})})}},82159:(e,t,a)=>{a.d(t,{X:()=>s});var r=a(1494),o=a(38564);let s=()=>(0,o.u)(r.q.pendingActions)},87274:(e,t,a)=>{a.d(t,{X:()=>g,e:()=>y});var r=a(7620),o=a(32638),s=a(96240),n=a(91608),i=a(41935),l=a(72466),d=a(24990),u=a(97335),c=a(76468);let p=i.z.object({footage:i.z.number(),music:i.z.number(),stem:i.z.number().optional(),sfx:i.z.number().optional(),template:i.z.number().optional(),lut:i.z.number().optional()}),h=i.z.object({downloadsCountByAssetType:p,numberOfAllowedDownloadsByAssetType:p}),m=(e,t)=>t>=e?d.cc.Reached:t===e/2?d.cc.Approaching:d.cc.Within,g=(0,s.eU)(void 0),y=e=>{let{isAuthenticated:t}=e,a=(0,n.Xr)(g),{data:s}=(0,o.useQuery)({queryKey:["download-status"],queryFn:async()=>{let e=await (0,c.A)({method:"POST",apiURL:l.UK,apiServiceHost:u.W_,endpointVersion:"v1",endpoint:"/download/history/subscription/daily/count",shouldAttachRequiredParams:!0}),t=h.safeParse(e.data);return t.success?t.data:null},enabled:t,refetchOnWindowFocus:!1,staleTime:1/0,retry:1,retryDelay:1e3});return(0,r.useEffect)(()=>{if(s){let{footage:e,sfx:t,music:r,stem:o,template:n,lut:i}=s.downloadsCountByAssetType,{footage:l,sfx:d,music:u,stem:c,template:p,lut:h}=s.numberOfAllowedDownloadsByAssetType,g=l-e,y=d??0-(t??0),w=u-r,v=c??0-(o??0),f=p??0-(n??0),x=h??0-(i??0);a({used:{footage:e,sfx:t,music:r,stem:o,template:n},remaining:{footage:g,sfx:y,music:w,stem:v,template:f},allowed:{footage:l,sfx:d,music:u,stem:c,template:p},byAssetType:{footage:{used:e,remaining:g,allowed:l,status:m(l,e)},sfx:{used:t??0,remaining:y,allowed:d??0,status:m(d??0,t??0)},music:{used:r,remaining:w,allowed:u,status:m(u,r)},stem:{used:o??0,remaining:v,allowed:c??0,status:m(c??0,o??0)},template:{used:n??0,remaining:f,allowed:p??0,status:m(p??0,n??0)},lut:{used:i??0,remaining:x,allowed:h??0,status:m(h??0,i??0)}}})}},[s]),null}},87455:(e,t,a)=>{a.d(t,{r:()=>s,v:()=>o});var r=a(54568);let o=e=>(0,r.jsx)("svg",{width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M8.76167 1.73584C8.83538 1.50316 9.16462 1.50317 9.23833 1.73583L10.7437 6.48795L11.4587 6.26145L10.7437 6.48795C10.9138 7.02473 11.3317 7.4469 11.8667 7.62234L16.7945 9.2382C17.0258 9.31403 17.0234 9.64202 16.791 9.71443L11.8914 11.2413C11.3423 11.4124 10.9124 11.8423 10.7413 12.3914L11.4573 12.6145L10.7413 12.3914L9.23868 17.2132C9.16571 17.4474 8.83429 17.4474 8.76132 17.2132L7.25871 12.3914C7.08761 11.8423 6.65767 11.4124 6.10861 11.2413L1.20898 9.71443C0.97663 9.64202 0.974206 9.31403 1.20547 9.2382L6.13326 7.62234C6.6683 7.4469 7.08624 7.02473 7.25628 6.48795L6.5413 6.26145L7.25628 6.48795L8.76167 1.73584Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}),s=e=>(0,r.jsx)("svg",{width:"14",height:"15",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M8.76167 1.73584C8.83538 1.50316 9.16462 1.50317 9.23833 1.73583L10.7437 6.48795L11.4587 6.26145L10.7437 6.48795C10.9138 7.02473 11.3317 7.4469 11.8667 7.62234L16.7945 9.2382C17.0258 9.31403 17.0234 9.64202 16.791 9.71443L11.8914 11.2413C11.3423 11.4124 10.9124 11.8423 10.7413 12.3914L11.4573 12.6145L10.7413 12.3914L9.23868 17.2132C9.16571 17.4474 8.83429 17.4474 8.76132 17.2132L7.25871 12.3914C7.08761 11.8423 6.65767 11.4124 6.10861 11.2413L1.20898 9.71443C0.97663 9.64202 0.974206 9.31403 1.20547 9.2382L6.13326 7.62234C6.6683 7.4469 7.08624 7.02473 7.25628 6.48795L6.5413 6.26145L7.25628 6.48795L8.76167 1.73584Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})},87790:(e,t,a)=>{a.d(t,{c:()=>u,p:()=>i});var r=a(26538),o=a(184),s=a(59786);let n=`
  query GenerativeMediaStyleList($page: Int!, $assetType: String, $feature: String) {
    generativeMediaStyleList(page: $page, assetType: $assetType, feature: $feature) {
      id
      coverImageUrl
      name
      upscaleCost
      videoGenerationFullHdCost
      videoGenerationHdCost
      imageGenerationCost
      description
      tags
    }
  }
`,i=async e=>{let t=await r.wr.query(n,e),a=s.ZK.safeParse(t);if(!a.success)throw o.e$.error("Invalid styles data",(0,o.Xf)(a.error)),Error("Invalid styles data.");return a.data.generativeMediaStyleList},l=`
  showcases {
    videoUrl
    videoResolution
    styleId
    prompt
    imageUrl
    id
    displayOrder
    dimensions
    aspectRatio
  }
`,d=`
  query StylesByIds($ids: [String!]!) {
    generativeMediaStyles(ids: $ids) {
      id
      coverImageUrl
      name
      upscaleCost
      videoGenerationFullHdCost
      videoGenerationHdCost
      imageGenerationCost
      description
      tags
      ${l}
    }
  }
`,u=async e=>{let t=await r.wr.query(d,{ids:[e.id]}),a=s.gH.safeParse(t);if(!a.success)throw o.e$.error("Invalid style data",(0,o.Xf)(a.error)),Error("Invalid style data.");let n=a.data.generativeMediaStyles[0];if(!n)throw o.e$.error("No style exists with ID",{id:e.id}),Error("No style exists with ID.");return n}},88357:(e,t,a)=>{a.d(t,{S:()=>u,w:()=>d});var r=a(7620),o=a(22875),s=a(32638),n=a(4709),i=a(21797);let l=(e,t)=>["favorites",t,e],d=(e,t,a)=>{let r=l(t,a);e.setQueryData(r,!1)},u=(e,t,a)=>{let d="authenticated"===(0,i.useSession)().status,u=l(e,t),c=(0,o.useQueryClient)(),{data:p}=(0,s.useQuery)({queryKey:u,queryFn:async()=>{var a;return(null==(a=(await (0,n.zz)([{id:e,type:t}])).data)?void 0:a.length)>0},refetchOnWindowFocus:!1,enabled:d&&!!e&&!!t&&void 0===a}),h=()=>{c.setQueryData(u,!0)};return(0,r.useEffect)(()=>{let e=c.getQueryData(u);a&&void 0===e&&h()},[a]),(0,r.useEffect)(()=>{d||c.removeQueries({queryKey:u})},[d]),{isInFavorites:!!p,addToFavorite:h,removeFromFavorite:()=>{c.setQueryData(u,!1)}}}},88878:(e,t,a)=>{a.d(t,{x:()=>s});var r=a(7620),o=a(902);let s=()=>{let e=(0,o.useRouter)();return(0,r.useCallback)(t=>{let{to:a,search:r=""}=t;return e.push(`${a}${r}`)},[e])}},93419:(e,t,a)=>{a.d(t,{qY:()=>M,y$:()=>m,rM:()=>k,cJ:()=>u,yY:()=>l,VG:()=>C,c9:()=>j,T6:()=>d,Jx:()=>S,cR:()=>L,XX:()=>h,_S:()=>v,ZA:()=>A,Je:()=>b,yJ:()=>c,TK:()=>O,cK:()=>R,ZE:()=>$,W2:()=>p,i5:()=>U,GM:()=>w,D4:()=>z,H$:()=>D,k5:()=>W,j4:()=>f,zg:()=>T,Pw:()=>_,jP:()=>I,SG:()=>F,Eg:()=>x});var r=a(96240),o=a(95854),s=a(24990);let n="https://cms-public-artifacts.artlist.io";class i{constructor(){this._audio=new Audio,this._audio.crossOrigin="anonymous",this._audio.preload="none",this.audioContext=new AudioContext({latencyHint:"playback"}),this._sourceNode=this.audioContext.createMediaElementSource(this._audio),this.volumeNode=this.audioContext.createGain(),this._sourceNode.connect(this.volumeNode),this.volumeNode.connect(this.audioContext.destination),this._audio.addEventListener("error",e=>{console.error(e)})}clearAudio(){this.pause(),this._audio&&(this._audio.src="",this._audio.load())}setAudio(e){if(this.clearAudio(),this._audio)if(e.includes(n))try{let t,a,r,o,s;this._audio.src=(a=(t=new URL(e)).pathname.replace("/",""),r=window.atob(a),o=new URLSearchParams(t.search),s=new URL(r,n),o.forEach((e,t)=>{s.searchParams.append(t,e)}),s.href)}catch{this._audio.src=e}else this._audio.src=e}getDuration(){var e;return null==(e=this._audio)?void 0:e.duration}getPosition(e){var t,a;return null!=(t=this._audio)&&t.ended&&e?e:(null==(a=this._audio)?void 0:a.currentTime)||0}seek(e){!this._audio||Number.isNaN(e)||(this._audio.currentTime=e)}play(){var e;this.audioContext.resume(),null==(e=this._audio)||e.play()}pause(){var e;null==(e=this._audio)||e.pause()}}let l=(0,r.eU)(s.hc.MUSIC),d=(0,r.eU)({}),u=(0,r.eU)(!1),c=(0,o.tG)("is-global-player-minified",!1),p=(0,r.eU)("global"),h=(0,r.eU)(s.S$?void 0:new i),m=(0,r.eU)(0),g=(0,r.eU)(!1),y=(0,r.eU)(void 0),w=(0,r.eU)(null,(e,t,a)=>{var r;null==(r=e(h))||r.seek(a),t(m,a)}),v=(0,r.eU)(e=>e(g),(e,t,a)=>{if(a===e(g))return;t(p,"global");let r=e(f);!0===a&&null!==r&&t(f,null);let o=e(N);!0===a&&o&&t(O,!1);let s=e($);!0===a&&s&&t($,!1);let n=e(h);n&&(a?n.play():n.pause()),t(g,a)}),f=(0,r.eU)(null);(0,r.eU)(e=>e(f),(e,t,a)=>{e(g)&&null!==a&&t(v,!1),e(N)&&null!==a&&t(O,!1),t(f,a)});let x=(0,r.eU)(1),b=(0,r.eU)(!1),C=(0,r.eU)(e=>e(y),(e,t,a)=>{let r=e(h);t(w,0);let o=e(y);a&&a.audioUrl!==(null==o?void 0:o.audioUrl)&&(null==r||r.setAudio(a.audioUrl),t(w,e(m))),e(g)&&(null==r||r.play()),t(y,a)}),M=(0,r.eU)(e=>{let t=e(m),a=e(C);if(!a)return 0;let{duration:r}=a;return 0===r&&(console.warn(`Audio ${a.id} duration equal to 0.`),r=.01),t/r*100}),U=(0,r.eU)([]),A=(0,o.Iz)(e=>(0,r.eU)(t=>{let a=t(C),r=t(v);return e===(null==a?void 0:a.id)&&r})),L=(0,r.eU)(1),S=(0,r.eU)(!1),k=(0,o.Iz)(e=>(0,r.eU)(t=>{let a=t(C);return a&&e===a.id?t(m):0})),T=(0,r.eU)(s.S$?void 0:new i),_=(0,r.eU)([]),D=(0,r.eU)(0),N=(0,r.eU)(!1),E=(0,r.eU)(void 0),I=(0,r.eU)(null,(e,t,a)=>{var r;null==(r=e(T))||r.seek(a),t(D,a)}),O=(0,r.eU)(e=>e(N),(e,t,a)=>{if(a===e(N))return;t(p,"sfx");let r=e(f);!0===a&&null!==r&&t(f,null);let o=e(g);!0===a&&o&&t(v,!1);let s=e(T);s&&(a?s.play():s.pause()),t(N,a)}),j=(0,r.eU)(e=>e(E),(e,t,a)=>{let r=e(T);t(I,0);let o=e(E);a&&a.audioUrl!==(null==o?void 0:o.audioUrl)&&(null==r||r.setAudio(a.audioUrl),t(I,e(D))),e(N)&&(null==r||r.play()),t(E,a)}),z=(0,r.eU)(e=>{let t=e(D),a=e(j);if(!a)return 0;let{duration:r}=a;return 0===r&&(console.warn(`Audio ${a.id} duration equal to 0.`),r=.01),t/r*100}),R=(0,o.Iz)(e=>(0,r.eU)(t=>{let a=t(j),r=t(O);return e===(null==a?void 0:a.id)&&r})),W=(0,o.Iz)(e=>(0,r.eU)(t=>{let a=t(j);return a&&e===a.id?t(D):0})),F=(0,r.eU)(null),P=(0,r.eU)(!1),$=(0,r.eU)(e=>e(P),(e,t,a)=>{let r=e(F),o=e(v);a||null==r||r.pause(),a&&(null==r||r.play(),o&&t(v,!1)),t(P,a)})},97436:(e,t,a)=>{a.d(t,{A0:()=>p,Jw:()=>m,m1:()=>h});var r=a(96240),o=a(91608),s=a(95854),n=a(80752),i=a(3548);let l={prompt:"",aspectRatio:n.gl.SQUARE,imageCount:1,changelog:[],isTyping:!1,promptWasRestored:!1,promptWasCleared:!1,styleId:null},d=(0,r.eU)(l),u=(0,r.eU)(e=>e(d),async(e,t,a)=>{let r,o=(r=e(d),(0,i.YW)(a).with({type:"promptUpdated"},e=>{let{payload:t}=e,a=r.promptWasCleared?r.promptWasCleared:0===t.length;if(r.changelog.length>0){if(!r.isTyping){var o;let e;return{...r,prompt:t,changelog:[...r.changelog,{prompt:r.prompt,cause:"editEnhanced",styleId:null==(o=(e=r.changelog)[e.length-1])?void 0:o.styleId}],isTyping:!0,promptWasRestored:!1,promptWasCleared:a}}return{...r,prompt:t,isTyping:!0,promptWasRestored:!1,promptWasCleared:a}}return{...r,prompt:t,changelog:[],isTyping:!1,promptWasRestored:!1,promptWasCleared:a}}).with({type:"aspectRatioChosen"},e=>{let{payload:t}=e;return{...r,aspectRatio:t}}).with({type:"imageCountToGenerateChosen"},e=>{let{payload:t}=e;return{...r,imageCount:t}}).with({type:"promptEnhanced"},e=>{let{payload:t}=e;if(!r.styleId)throw Error("A style is required to enhance a prompt.");return{...r,prompt:t,changelog:[...r.changelog,{prompt:r.prompt,cause:"enhance",styleId:r.styleId}],isTyping:!1,promptWasRestored:!1,promptWasCleared:!1}}).with({type:"changesUndone"},()=>{if(0===r.changelog.length)throw Error("Cannot undo a prompt if it has never been enhanced.");let e=[...r.changelog],t=e.pop();return{...r,prompt:t.prompt,changelog:e,isTyping:!1,promptWasRestored:!1,promptWasCleared:!1}}).with({type:"creationDetailsSet"},e=>{let{payload:{aspectRatio:t,prompt:a,styleId:o}}=e;return{...r,styleId:o,aspectRatio:t,prompt:a,imageCount:1,changelog:[],promptWasRestored:!1,isTyping:!1,promptWasCleared:!1}}).with({type:"styleChosen"},e=>{let{payload:t}=e,a=(()=>{if(r.promptWasCleared)return null;let e=[...r.changelog].reverse().find(e=>"enhance"===e.cause);return e?e.prompt:null})();return{...r,prompt:a||r.prompt,promptWasRestored:null!==a,promptWasCleared:!1,changelog:[],styleId:t,aspectRatio:n.gl.SQUARE}}).with({type:"styleReset"},()=>({...r,prompt:"",changelog:[],styleId:null,isTyping:!1,promptWasRestored:!1,promptWasCleared:!1})).exhaustive());t(d,o)}),c=(0,s.Iz)(e=>(0,r.eU)(t=>t(d).styleId===e)),p=()=>{let[e,t]=(0,o.fp)(u);return{state:e,dispatch:t}},h=()=>({dispatch:(0,o.Xr)(u)}),m=e=>{let[t]=(0,o.fp)(c(e));return t}},99932:(e,t,a)=>{a.d(t,{y:()=>i});var r=a(7620),o=a(902),s=a(97436),n=a(1393);let i=e=>{let{creation:t}=e,{dispatch:a}=(0,s.m1)(),i=(0,o.useRouter)(),l=(0,r.useRef)(!1),d=(0,n.RZ)();return(0,r.useEffect)(()=>()=>{l.current&&window.scroll({top:0,behavior:"smooth"})},[]),{handleApplyImagePromptSettings:(0,r.useCallback)(()=>{a({type:"creationDetailsSet",payload:{aspectRatio:t.settings.aspectRatio,prompt:t.prompt,styleId:t.style.id}}),l.current=!0,i.push(d("/text-to-image-ai/creations"),{scroll:!1})},[a,t.settings.aspectRatio,t.prompt,t.style.id,i,d])}}}}]);
//# sourceMappingURL=9935-996a97d1af29306e.js.map
//# debugId=6e1a1d0d-1975-5273-ab55-0c798b0286ef
