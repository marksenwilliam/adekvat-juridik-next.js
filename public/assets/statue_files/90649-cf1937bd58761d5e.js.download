"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="20e931ed-19a1-5b47-bfce-a13f7665207b")}catch(e){}}();
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90649],{184:(e,t,a)=>{a.d(t,{Xf:()=>o,e$:()=>l});var r=a(80352),s=a(3548),i=a(72466);let n=e=>(t,a)=>{let{error:n,tags:l,...o}=a;i.tb||console[(0,s.YW)(e).with("error",()=>"error").with("warning",()=>"warn").exhaustive()](t,a),(0,r.r)({message:t,level:e},{originalException:n,captureContext:{extra:o,tags:l}})},l={warn:(e,t)=>n("warning")(e,t),error:(e,t)=>n("error")(e,t),exception:(e,t,a)=>(0,r.Cp)(e,{extra:t,tags:a})},o=e=>({issues:e.issues,formattedError:e.format()})},694:(e,t,a)=>{a.d(t,{hW:()=>c,QU:()=>o,nq:()=>d});var r=a(24990),s=a(22838),i=a(26538),n=a(3765);let l=`
  query MenuSearch($searchTerm: String!, $typeId: Int!, $take: Int!, $page: Int!) {
    menuSearch(searchTerm: $searchTerm, typeId: $typeId, take: $take, page: $page) {
      Albums {
        ArtistId
        ArtistName
        IsExplicit
        Id
        ImgUrl
        Name
        ProductType
      }
      Songs {
        ArtistId
        ArtistName
        IsExplicit
        Id
        ImgUrl
        Name
        ProductType
      }
      Artists {
        Id
        ImgUrl
        Name
        ProductType
      }
      Categories {
        Id
        ImgUrl
        Name
        ProductType
        NameForUrl
      }
      Collections {
        id
        name
        thumbFileUrl
      }
    }
  }
`;a(13773);let o=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return i.wr.query(l,{searchTerm:e,typeId:Number(n.ch.sfx),take:t,page:1}).then(e=>e.menuSearch)},c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return i.wr.query(n.cZ,{searchTerm:e,typeId:Number(n.ch.sfx),take:t,page:1}).then(e=>e.menuSearch)},u=async()=>{try{return await (0,s.W)()}catch(e){console.warn("SFX List - logger - could not take Global Props",{isServer:r.S$},e)}return{}},d=async(e,t)=>{try{let a=e.filter(e=>e.assetTypeId!==r.hc.SFX&&String(e.productType)!==n.ch.sfx);if(a.length){let e=await u(),r={...t,userMetadata:e};console.error("Incorrect asset type in SFX song list !",r,a.map(e=>({songId:e.songId,songName:e.songName,assetTypeId:e.assetTypeId,productType:e.productType})))}}catch(e){console.error("logger issue! global-search-music/search-sfx.ts",e)}}},1345:(e,t,a)=>{a.d(t,{rA:()=>C,wv:()=>g});var r=a(7620),s=a(32638),i=a(95315),n=a(41935),l=a(72466),o=a(184);let c=n.z.object({name:n.z.string(),artist:n.z.string().optional(),thumbnails:n.z.record(n.z.string()),trackId:n.z.string(),platform:n.z.enum(["youtube","spotify"]),duration:n.z.number()}),u=n.z.object({code:n.z.number(),number:n.z.string(),message:n.z.string()}),d=n.z.object({success:n.z.boolean(),data:c,error:u.optional()}),h=async(e,t)=>{try{let a=await i.A.post(`${l.NX}/v1/reference/recognize`,{platform:e,trackId:t}),r=d.safeParse(a.data);if(r.success)return r.data;return o.e$.error("Failed to parse track info",(0,o.Xf)(r.error)),null}catch(e){return null}};var m=a(58155);let p=[{platform:"youtube",patterns:[/(?:youtube\.com\/watch\?.*[?&]v=|youtube\.com\/watch\?v=)([a-zA-Z0-9_-]{11})(?:[?&#]|$)/,/(?:youtube\.com\/watch\/)([a-zA-Z0-9_-]{11})(?:[?&#]|$)/,/(?:youtube\.com\/v\/)([a-zA-Z0-9_-]{11})(?:[?&#]|$)/,/(?:youtube\.com\/embed\/|youtube-nocookie\.com\/embed\/)([a-zA-Z0-9_-]{11})(?:[?&#]|$)/,/(?:youtube\.com\/e\/)([a-zA-Z0-9_-]{11})(?:[?&#]|$)/,/(?:youtu\.be\/)([a-zA-Z0-9_-]{11})(?:[?&#]|$)/,/(?:youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})(?:[?&#]|$)/,/(?:youtube\.com\/live\/)([a-zA-Z0-9_-]{11})(?:[?&#]|$)/]},{platform:"spotify",patterns:[/open\.spotify\.com\/track\/([a-zA-Z0-9]+)(?:\?|$)/,/open\.spotify\.com\/intl-[a-z]{2}\/track\/([a-zA-Z0-9]+)(?:\?|$)/,/embed\.spotify\.com\/\?uri=spotify:track:([a-zA-Z0-9]+)/]}],g=(e,t)=>{if(!e)return{status:"error",message:x.NO_URL};if(!new RegExp(/^(https?:\/\/)?((([a-z\d]([a-z\d-]*[a-z\d])*)\.)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3}))(:\d+)?(\/[-a-z\d%_.~+]*)*(\?[;&a-z\d%_.~+=-]*)?(#[-a-z\d_.~+=-]*)?$/i).test(e.trim()))return{status:"error",message:x.INVALID_URL};let a=((e,t)=>{let a=e.trim(),r=p.filter(e=>!!t||"youtube"!==e.platform).flatMap(e=>e.patterns.map(t=>{let r=a.match(t);return null!=r&&r[1]?{platform:e.platform,trackId:r[1]}:null})).find(Boolean)??null;if(!r)return null;if("youtube"===r.platform){let e=a.match(/[?&#]t=(\d+)(?:s)?(?:&|#|$)/);if(e){let t=Number.parseInt(e[1],10);if(Number.isFinite(t))return{...r,startTime:t}}}return r})(e,t),r=t?x.FETCH_ERROR_YOUTUBE:x.FETCH_ERROR;return a?{status:"success",parsedData:a}:{status:"error",message:r}},x={NO_URL:"musicSearch.songMatch.popover.noUrlError",INVALID_URL:"musicSearch.songMatch.popover.invalidUrlError",FETCH_ERROR:"musicSearch.songMatch.popover.invalidVideoUrlError",FETCH_ERROR_YOUTUBE:"musicSearch.songMatch.popover.invalidVideoUrlErrorYoutube"},C=e=>{let{referenceUrl:t}=e,a=f(t,300),{isReady:r,isFeatureEnabled:i}=(0,m.y)(),n=(0,s.useQuery)({queryKey:["getTrackInfo",a],queryFn:async()=>{if(!a)return{status:"pending"};let e=g(a,i);if("pending"===e.status)return{status:"pending"};if("success"!==e.status)return{status:"error",message:e.message};let{parsedData:{platform:t,trackId:s}}=e,n=await h(t,s);if(!n||!n.success){var l;return o.e$.error("Failed to fetch track info",{errorMessage:(null==n||null==(l=n.error)?void 0:l.message)??"Unknown error"}),{status:"error",message:r&&i?x.FETCH_ERROR_YOUTUBE:x.FETCH_ERROR}}return{status:"success",data:n.data}},refetchOnWindowFocus:!1,retry:!1});return{...n,result:n.data??{status:"pending"},isLoading:n.isLoading||t!==a&&!!t}},f=(e,t)=>{let[a,s]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let a=setTimeout(()=>s(e),t);return()=>clearTimeout(a)},[e,t]),a}},3164:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(43853),s=a(74706),i=a(54568);let n=e=>{let{onClick:t,label:a,className:n}=e;return(0,i.jsx)("button",{type:"button",onClick:t,"aria-label":a,className:n,children:(0,i.jsx)(s.g,{icon:r.GR})})}},3765:(e,t,a)=>{var r;a.d(t,{cZ:()=>i,ch:()=>n,l1:()=>s});let s=`
  query MenuSearch($searchTerm: String!, $typeId: Int!, $take: Int!, $page: Int!) {
    menuSearch(searchTerm: $searchTerm, typeId: $typeId, take: $take, page: $page) {
      Albums {
        ArtistId
        ArtistName
        IsExplicit
        Id
        ImgUrl
        Name
        ProductType
      }
      Songs {
        ArtistId
        ArtistName
        IsExplicit
        Id
        ImgUrl
        Name
        ProductType
      }
      Artists {
        Id
        ImgUrl
        Name
        ProductType
      }
      Collections {
        id
        name
        thumbFileUrl
      }
    }
  }
`,i=`
  query MenuSearch($searchTerm: String!, $typeId: Int!, $take: Int!, $page: Int!) {
    menuSearch(searchTerm: $searchTerm, typeId: $typeId, take: $take, page: $page) {
      Autosuggest {
        recomType
        value
      }
    }
  }
`,n=((r={}).music="1",r.sfx="2",r)},7848:(e,t,a)=>{a.d(t,{s:()=>p});var r=a(9023),s=a(3548),i=a(19496),n=a(21868),l=a(88878),o=a(57217),c=a(21727),u=a(12524),d=a(97536),h=a(33072),m=a(89678);let p=e=>{let{eventsHandler:t,updateSearchFilters:a,onAutocompleteSelected:p,assetType:g}=e,{removeFilter:x,addFilter:C,removeSearchTerm:f,removeAllSearchTerms:_,replaceSearchTerm:y}=a,[{inputValue:v},S]=(0,h.ML)(),E=(0,l.x)(),b=(0,m.o)({replaceSearchTerm:y}),w=()=>{S({type:"CLEAR_INPUT_VALUE"}),(0,c.NH)()},{trackAutocompleteOptionSelected:A}=(0,i.P)();return(e,a,i,l)=>{let c=a?[a].flat().map(d.O):[];if(!l)return;let h=e=>{A({inputValue:v,assetType:g,searchValue:[e]},e)};(0,s.YW)([i,l.option]).with(["clear",s.zJ.any],()=>{t.clearAllTagsClicked(c),_(),S({type:"SET_CLEAR_IN_PROGRESS"})}).with(["removeOption",s.zJ.string],e=>{let[,t]=e;f(t)}).with([s.zJ.union("createOption","selectOption"),s.zJ.string],e=>{let[,a]=e;a.replace(/\s/g,"").length&&(b(a),t.freeTextMediaSearched())}).with(["removeOption",{includedId:s.zJ.string}],e=>{let[,a]=e;t.searchSuggestionTagRemoved(a.label,g,c,c),x(a.includedId,"includedIds")}).with(["removeOption",{excludedId:s.zJ.string}],e=>{let[,a]=e;t.searchSuggestionTagRemoved(a.label,g,c,c),x(a.excludedId,"excludedIds")}).with([s.zJ.union("createOption","selectOption"),{group:"toggle Albums"}],()=>{S({type:"TOGGLE_EXPANDED_SECTION",payload:"Albums"})}).with([s.zJ.union("createOption","selectOption"),{group:"toggle Packs"}],()=>{S({type:"TOGGLE_EXPANDED_SECTION",payload:"Packs"})}).with([s.zJ.union("createOption","selectOption"),{group:"toggle Artists"}],()=>{S({type:"TOGGLE_EXPANDED_SECTION",payload:"Artists"})}).with([s.zJ.union("createOption","selectOption"),{group:"toggle Songs"}],()=>{S({type:"TOGGLE_EXPANDED_SECTION",payload:"Songs"})}).with([s.zJ.union("createOption","selectOption"),{group:"toggle Categories"}],()=>{S({type:"TOGGLE_EXPANDED_SECTION",payload:"Categories"})}).with([s.zJ.union("createOption","selectOption"),{group:"toggle Collections"}],()=>{S({type:"TOGGLE_EXPANDED_SECTION",payload:"Collections"})}).with([s.zJ.union("createOption","selectOption"),{group:"toggle Filmmakers"}],()=>{S({type:"TOGGLE_EXPANDED_SECTION",payload:"Filmmakers"})}).with([s.zJ.union("createOption","selectOption"),{group:"Artists"}],e=>{let[,t]=e;w(),h(t),E({to:(0,r.wE)((0,s.YW)(g).with("music",()=>o.JZ.musicArtist).with("footage",()=>o.JZ.footageArtist).with("templates",()=>o.JZ.templatesArtist).with("sfx",()=>o.JZ.sfxArtist).exhaustive())({artistID:t.Id,artistName:(0,n.I)(t.Name)})})}).with([s.zJ.union("createOption","selectOption"),{group:"Trending searches"}],e=>{let[,t]=e;h(t),b(t.value)}).with([s.zJ.union("createOption","selectOption"),{group:"AutoComplete"}],e=>{let[,t]=e;h(t),b(t.value)}).with([s.zJ.union("createOption","selectOption"),{group:"Albums"}],e=>{let[,t]=e;h(t),w(),E({to:(0,r.wE)(o.JZ.musicAlbum)({albumID:t.Id,albumName:(0,n.I)(t.Name)})})}).with([s.zJ.union("createOption","selectOption"),{group:"Songs"}],e=>{let[,t]=e;h(t),w(),E({to:(0,r.wE)(o.JZ.musicSong)({songID:t.Id,songName:(0,n.I)(t.Name)})})}).with([s.zJ.union("createOption","selectOption"),{group:"Lyrics"}],e=>{let[,t]=e;w(),E({to:(0,r.wE)(o.JZ.musicSong)({songID:t.SongId,songName:(0,n.I)(t.SongName)})})}).with([s.zJ.union("createOption","selectOption"),{group:"Categories"}],e=>{let[,t]=e;h(t),w(),C(t.Id)}).with([s.zJ.union("createOption","selectOption"),{group:"Collections"}],e=>{let[,t]=e;h(t),w(),E({to:(0,r.wE)(o.JZ.collection)({collectionName:(0,n.I)(t.name),collectionID:t.id})})}).with([s.zJ.union("createOption","selectOption"),{group:"Packs"}],e=>{let[,t]=e;h(t),w(),E({to:(0,r.wE)(o.JZ.sfxPack)({albumName:(0,n.I)(t.Name),albumID:t.Id})})}).with(["selectOption",s.zJ.not(s.zJ.string)],()=>{t.suggestionSearchTermSelected()}).with(["selectOption",s.zJ.when(u.uW)],e=>{let[,t]=e;p(t),h(t)})}}},8785:(e,t,a)=>{a.d(t,{Ep:()=>y,HO:()=>b,L4:()=>S,Zn:()=>E,f8:()=>v});var r=a(902),s=a(29255),i=a.n(s),n=a(9023),l=a(3548),o=a(24990),c=a(74789),u=a(88878),d=a(57217),h=a(21727),m=a(21766),p=a(90358),g=a(94697),x=a(15152),C=a(30792),f=a(48504),_=a(48115);let y=e=>{var t;let{assetType:a,allSubCategories:s,searchTerms:o,filterNamesFromUrl:p,filterIdsFromUrl:y,mediaType:v,assetSearchRoute:S,tagsFromUrl:E=[]}=e,{eventsHandler:b}=(0,m.V)(a),{getFilterName:w,tagAddedOrRemoveBiEvent:A}=(e=>{let{allSubCategories:t,mediaType:a,filterIdsFromUrl:r,searchTerms:s,filterNamesFromUrl:i,eventsHandler:n}=e,l=e=>{let a=t.find(t=>{var a;return(null==t||null==(a=t.id)?void 0:a.toString())===(null==e?void 0:e.toString())});return(null==a?void 0:a.name)||""};return{getFilterName:l,tagAddedOrRemoveBiEvent:e=>{let{name:o,type:c,action:u}=e,d=[],m=[...i,...s];if("search"===c){let e=s,a=e.includes(o.toString());"add"!==u||a||(e=[...e,o.toString()]),"remove"===u&&a&&(e=e.filter(e=>e!==o.toString())),d=[...t.filter(e=>(null==r?void 0:r.length)&&r.map(e=>e.toString()).includes(e.id.toString())).map(e=>e.name),...e]}if("category"===c){let e=l(o);d=e&&("add"===u||"exclude"===u)?[...i,e,...s]:[...i.filter(t=>t!==e),...s]}(0,h.NH)(),"add"===u||"exclude"===u?n.searchSuggestionTagAdded(String(o),a,m,d):n.searchSuggestionTagRemoved(String(o),a,m,d)}}})({allSubCategories:s,filterIdsFromUrl:y,filterNamesFromUrl:p,eventsHandler:b,searchTerms:o,mediaType:v}),N=(0,u.x)(),T=(0,r.usePathname)(),I=T&&(0,n.YW)(d.JZ.entityCategoryPattern)(T),R=I&&(null==I||null==(t=I.params)?void 0:t.categoryName)&&y[0]||void 0,j=(0,r.useSearchParams)(),k=(0,_.Q)(),P=j&&T?(0,c.p1)(j,R):null,M=i()((e,t)=>{T&&(C.P7({fromRange:[k.bpmMin||x.lU,k.bpmMax||x.Hg],toRange:[e,t]}),N({to:S,search:null==P?void 0:P.addBPMRange(e,t)}),(0,h.NH)())},100),F=e=>{N({to:d.JZ.sfxSearch,search:null==P?void 0:P.removeTag(e)})},L=i()(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.iB,r=arguments.length>3?arguments[3]:void 0;if(!T)return;let s=t===a?void 0:t;C.yZ({fromRange:[k.durationMin||f.wl,k.durationMax||a],toRange:[e,t],click_source:null==r?void 0:r.click_source,trigger_button:null==r?void 0:r.trigger_button,product:null==r?void 0:r.product,button_name:null==r?void 0:r.button_name}),(0,h.NH)(),N({to:S,search:null==P?void 0:P.addDuration(e,s)})},100),O=()=>setTimeout(()=>{T&&((0,h.NH)(),N({to:T,search:null==P?void 0:P.clearOrientation()}))});return{onChangeBpm:M,onChangeDuration:L,onChangeSort:e=>setTimeout(()=>{T&&((0,h.NH)(),N({to:T,search:null==P?void 0:P.changeSort(e.toString())}))}),onChangeVocal:(e,t)=>{let{newValue:a,oldValue:r}=t;return setTimeout(()=>{T&&((0,h.NH)(),C.RS({newValue:a,oldValue:r}),N({to:S,search:null==P?void 0:P.changeVocalId(e.toString())}))})},onClearVocal:e=>{let{newValue:t,oldValue:a}=e;return setTimeout(()=>{T&&((0,h.NH)(),C.RS({newValue:t,oldValue:a}),N({to:S,search:null==P?void 0:P.removeVocalId()}))})},onClearBpm:()=>setTimeout(()=>{C.Mj(),T&&((0,h.NH)(),N({to:S,search:null==P?void 0:P.clearBPMRange()}))}),onClearDuration:e=>setTimeout(()=>{C.jF(e),T&&((0,h.NH)(),N({to:T,search:null==P?void 0:P.clearDuration()}))}),onClearOrientation:O,onChangeStemsOnlyFilter:e=>setTimeout(()=>{T&&((0,h.NH)(),N({to:S,search:null==P?void 0:P.setStemsOnlyFilter(e)}))}),onChangeOrientation:(e,t)=>setTimeout(()=>{if(T){if(!e){C.SV({orientation:"None",...k.orientationId&&{previousOrientation:g.DN[k.orientationId]},click_source:null==t?void 0:t.click_source,trigger_button:null==t?void 0:t.trigger_button,product:null==t?void 0:t.product,button_name:null==t?void 0:t.button_name}),(0,h.NH)(),O();return}C.SV({orientation:g.DN[e],...k.orientationId&&{previousOrientation:g.DN[k.orientationId]},click_source:null==t?void 0:t.click_source,trigger_button:null==t?void 0:t.trigger_button,product:null==t?void 0:t.product,button_name:null==t?void 0:t.button_name}),(0,h.NH)(),N({to:S,search:null==P?void 0:P.setOrientationId(e)})}}),addFilter:e=>{A({name:e,type:"category",action:"add"});let t=w(e);t&&b.subcategoryChosen(t),N({to:S,search:null==P?void 0:P.addIncludedId(e.toString())})},excludeFilter:e=>{A({name:e,type:"category",action:"exclude"});let t=w(e);t&&b.subcategoryChosen(t),N({to:S,search:null==P?void 0:P.addExcludedId(e.toString())})},removeFilter:(e,t)=>{A({name:e,type:"category",action:"remove"});let a=w(e);a&&b.subcategoryRemoved(a),(0,l.YW)(t).with(l.P.union(c.Lf,c.nA),()=>{N({to:S,search:null==P?void 0:P.clearBPMRange()})}).with(l.P.union(c._9,c.GA),()=>{N({to:S,search:null==P?void 0:P.clearDuration()})}).with(c.sP,()=>{N({to:S,search:null==P?void 0:P.removeIncludedId(e.toString())})}).with(c.yH,()=>{N({to:S,search:null==P?void 0:P.removeExcludedId(e.toString())})}).with(c.A6,()=>{N({to:S,search:null==P?void 0:P.removeVocalId()})}).with(c._3,()=>{N({to:S,search:null==P?void 0:P.setStemsOnlyFilter(!1)})}).with(c.fq,()=>{N({to:S,search:null==P?void 0:P.clearOrientation()})}).exhaustive()},removeAllFilters:()=>{(o.length||p.length||E.length)&&b.clearAllTagsClicked([...o,...p,...E]);let e=[...o,...p];b.searchCleared(e),(0,h.NH)(),N({to:S,search:""})},addSearchTerm:e=>{A({name:e,type:"search",action:"add"}),N({to:S,search:null==P?void 0:P.addSearchTerm(e)})},removeSearchTerm:e=>{A({name:e,type:"search",action:"remove"}),N({to:S,search:null==P?void 0:P.removeSearchTerm(e)})},toggleTag:e=>{if(null==E?void 0:E.includes(e))F(e);else b.searchResultSuggestionTagAdded({searchTag:e}),N({to:d.JZ.sfxSearch,search:null==P?void 0:P.addTag(e)});(0,h.NH)()},removeTag:F,replaceSearchTerm:e=>{A({name:e,type:"search",action:"add"}),N({to:S,search:null==P?void 0:P.replaceSearchTerm(e)})},removeAllFiltersExceptSearchTerm:()=>{if(!j)return;(p.length||E.length)&&b.clearAllTagsClicked([...p,...E]);let e=[...o,...p];b.searchCleared(e),(0,h.NH)();let t=new URLSearchParams(j.toString());t.delete("includedIds"),t.delete("excludedIds"),t.delete("vocalId"),t.delete("stemsOnly"),t.delete("bpmMin"),t.delete("bpmMax"),t.delete("durationMin"),t.delete("durationMax"),t.delete("orientationId"),N({to:S,search:`?${t.toString()}`})},removeAllSearchTerms:()=>{if(!j)return;o.length&&b.clearAllTagsClicked(o),b.searchCleared(o),(0,h.NH)();let e=new URLSearchParams(j.toString());e.delete("terms"),N({to:S,search:`?${e.toString()}`})}}},v=e=>{let{filterIdsFromUrl:t,searchTerms:a,filterNamesFromUrl:r,allSubCategories:s}=e;return y({assetType:p.V.SONG,mediaType:o.od.music,assetSearchRoute:d.Wh.musicSearch,filterIdsFromUrl:t,searchTerms:a,filterNamesFromUrl:r,allSubCategories:s})},S=e=>{let{filterIdsFromUrl:t,searchTerms:a,filterNamesFromUrl:r,allSubCategories:s,tagsFromUrl:i}=e;return y({assetType:p.V.SFX,mediaType:o.od.sfx,assetSearchRoute:d.JZ.sfxSearch,filterIdsFromUrl:t,searchTerms:a,filterNamesFromUrl:r,allSubCategories:s,tagsFromUrl:i})},E=e=>{let{filterIdsFromUrl:t,searchTerms:a,filterNamesFromUrl:r,allSubCategories:s}=e;return y({assetType:p.V.FOOTAGE,mediaType:o.od.footage,assetSearchRoute:d._7.footageSearch,filterIdsFromUrl:t,searchTerms:a,filterNamesFromUrl:r,allSubCategories:s})},b=e=>{let{filterIdsFromUrl:t,searchTerms:a,filterNamesFromUrl:r,allSubCategories:s}=e;return y({assetType:p.V.TEMPLATE,mediaType:o.od.templates,assetSearchRoute:d.JZ.templatesSearch,filterIdsFromUrl:t,searchTerms:a,filterNamesFromUrl:r,allSubCategories:s})}},9780:(e,t,a)=>{a.d(t,{E:()=>s});var r=a(54568);let s=e=>{let{fill:t="#B2B2B2"}=e;return(0,r.jsxs)("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M11.6211 4.38672C11.7773 4.50391 11.875 4.67969 11.875 4.875V6.125C11.875 6.41797 11.6797 6.65234 11.4258 6.73047L10 7.16016V12.6875C10 13.5664 9.00391 14.25 7.8125 14.25C6.60156 14.25 5.625 13.5664 5.625 12.6875C5.625 11.8281 6.60156 11.125 7.8125 11.125C8.125 11.125 8.4375 11.1836 8.75 11.2812V5.44141C8.75 5.16797 8.92578 4.91406 9.17969 4.83594L11.0742 4.28906C11.25 4.23047 11.4648 4.26953 11.6211 4.38672Z",fill:t}),(0,r.jsx)("path",{d:"M1.5 15.5C1.5 16.6046 2.39543 17.5 3.5 17.5H8C8 18.3284 7.32843 19 6.5 19H3.5C1.567 19 0 17.433 0 15.5V12.5C0 11.6716 0.671573 11 1.5 11V15.5ZM17.5 15.5V11C18.3284 11 19 11.6716 19 12.5V15.5C19 17.433 17.433 19 15.5 19H12.5C11.6716 19 11 18.3284 11 17.5H15.5C16.6046 17.5 17.5 16.6046 17.5 15.5ZM1.5 8C0.671573 8 0 7.32843 0 6.5V3.5C0 1.567 1.567 0 3.5 0V1.5C2.39543 1.5 1.5 2.39543 1.5 3.5V8ZM17.5 3.5C17.5 2.39543 16.6046 1.5 15.5 1.5V0C17.433 0 19 1.567 19 3.5V6.5C19 7.32843 18.3284 8 17.5 8V3.5ZM6.5 0V1.5H3.5V0H6.5ZM6.5 0C7.32843 0 8 0.671573 8 1.5H6.5V0ZM12.5 1.5H11C11 0.671573 11.6716 0 12.5 0V1.5ZM15.5 0V1.5H12.5V0H15.5Z",fill:t})]})}},10183:(e,t,a)=>{a.d(t,{l:()=>c});var r=a(41935),s=a(26538),i=a(10810);let n=r.z.object({id:r.z.number(),name:r.z.string(),nameForUrl:r.z.string()}),l=n.extend({subCategory:r.z.array(n.extend({subCategory:r.z.array(n)}))}),o=r.z.object({rootCategories:r.z.array(l).refine(e=>e.length>0,{message:"rootCategories can not be an empty array"})}),c=async e=>{try{let t=await s.wr.query(i.U,{assetType:e},{},{"x-root-categories-flat":"true"});return o.parse(t).rootCategories}catch(a){let t=`Can not fetch rootCategories for entity: ${e}`;a instanceof r.z.ZodError?console.error(t,{isValidationError:!0,error:a.issues}):console.error(t,{isValidationError:!1,error:a})}return[]}},10810:(e,t,a)=>{var r;a.d(t,{C:()=>i,U:()=>s});let s=`
query RootCategories($assetType: String!) {
    rootCategories(assetType: $assetType) {
      id
      name
      nameForUrl
      subCategory {
        id
        name
        nameForUrl
        subCategory {
          id
          name
          nameForUrl
        }
      }
    }
  }
`,i=((r={}).FOOTAGE="footage",r.TEMPLATES="template",r.SFX="sfx",r.MUSIC="music",r)},12524:(e,t,a)=>{a.d(t,{En:()=>u,KG:()=>s,Zn:()=>n,sN:()=>c,uW:()=>o,vN:()=>i});let r=["Artists","Albums","Songs","Lyrics","Categories","Collections","Sounds","Packs","Trending searches","AutoComplete"],s=e=>"object"==typeof e&&"group"in e,i=e=>"object"==typeof e&&"includedId"in e,n=e=>"object"==typeof e&&"excludedId"in e,l=e=>!!s(e)&&r.includes(e.group),o=e=>!!s(e)&&l(e)&&!("options"in e),c=e=>!!s(e)&&l(e)&&"options"in e,u=e=>{let t,a=0,r=0,s=0;return e.map(e=>o(e)?(e.group===t?r+=1:(t=e.group,a+=1,r=1),s+=1,{...e,position:{sectionPosition:"Trending searches"===e.group?1:a,positionInGroup:r,absolutePosition:s}}):e)}},14598:(e,t,a)=>{a.d(t,{l:()=>r});let r=e=>null!=e&&(Array.isArray(e)?0===e.length:0===Object.values(e).flat().length)},15152:(e,t,a)=>{a.d(t,{Hg:()=>i,NN:()=>n,lU:()=>s});var r=a(41935);let s=20,i=200,n=r.z.object({sortId:r.z.coerce.number().int().min(1).max(3).default(1),vocalId:r.z.coerce.number().int().min(0).max(7).default(0),orientationId:r.z.coerce.number().int().min(1).max(3).nullish(),bpmMin:r.z.coerce.number().int().min(s).max(i).nullish(),bpmMax:r.z.coerce.number().int().min(s).max(i).nullish(),durationMin:r.z.coerce.number().int().min(0).nullish(),durationMax:r.z.coerce.number().int().min(0).nullish(),stemsOnly:r.z.coerce.boolean().nullish()})},15294:(e,t,a)=>{a.d(t,{p:()=>i});var r=a(40459);class s{setResolver(e){this.resolver=e,this.setReady(!0)}setReady(e){this.isReady!==e&&(this.isReady=e,e&&this.readyResolve&&(this.readyResolve(),this.readyPromise=null,this.readyResolve=null))}async getToken(){if(this.resolver)return this.resolver()}async waitForReady(){return void 0!==r.env.JEST_WORKER_ID||void 0!==a.g&&a.g.__JEST__||this.isReady?Promise.resolve():(this.readyPromise||(this.readyPromise=new Promise(e=>{this.readyResolve=e})),this.readyPromise)}async waitForReadyOrTimeout(){try{await this.waitForReady()}catch(e){console.error("Token registry timeout",e)}}clear(){this.resolver=null,this.setReady(!1)}constructor(){this.resolver=null,this.isReady=!1,this.readyPromise=null,this.readyResolve=null}}let i=new s},15770:(e,t,a)=>{a.d(t,{L:()=>s});var r=a(13764);let s=()=>{let{isAboveLG:e}=(0,r.Qs)();return e}},16443:(e,t,a)=>{a.d(t,{I:()=>n});var r=a(63665),s=a(86789),i=a(54568);let n=()=>(0,i.jsx)(s.P.div,{layout:"position",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative flex h-6 w-6 shrink-0 items-center justify-center",children:(0,i.jsx)(r.A,{className:"text-gray-200",size:16})},"loading-spinner")},18498:(e,t,a)=>{a.d(t,{Aw:()=>i,Dk:()=>o,GU:()=>m,I_:()=>n,J$:()=>u,Nv:()=>c,VD:()=>x,Wp:()=>h,h4:()=>g,hN:()=>l,mG:()=>p,sq:()=>d}),a(7620);var r=a(65736),s=a(54568);let i=e=>{let{className:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("sm:hidden",t),children:a})},n=e=>{let{className:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("hidden sm:contents",t),children:a})},l=e=>{let{className:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("md:hidden",t),children:a})},o=e=>{let{className:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("hidden md:contents",t),children:a})},c=e=>{let{className:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("lg:hidden",t),children:a})},u=e=>{let{className:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("hidden lg:contents",t),children:a})},d=e=>{let{className:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("xl:hidden",t),children:a})},h=e=>{let{className:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("hidden xl:contents",t),children:a})},m=e=>{let{className:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("2xl:hidden",t),children:a})},p=e=>{let{className:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("hidden 2xl:contents",t),children:a})},g=e=>{let{className:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("hidden 2.5xl:contents",t),children:a})},x=e=>{let{className:t,children:a}=e;return(0,s.jsx)("div",{className:(0,r.cn)("hidden 3xl:contents",t),children:a})}},19496:(e,t,a)=>{a.d(t,{P:()=>g});var r=a(96240),s=a(91608),i=a(65667),n=a(46024),l=a.n(n),o=a(16596),c=a(12524);let u=(e,t)=>{o.eventTracker.track({name:e,eventData:{...t}})},d=e=>{let{searchTerms:t,includedCategories:a,excludedCategories:r}=e.searchValue.reduce((e,t)=>("string"==typeof t?e.searchTerms.push(t):(0,c.vN)(t)?e.includedCategories.push(t.label):(0,c.Zn)(t)&&e.excludedCategories.push(t.label),e),{searchTerms:[],includedCategories:[],excludedCategories:[]});return{search_term_current_input:e.inputValue??"",search_term_used:t,media_type:e.assetType,include_categories:a,exclude_categories:r}},h=e=>"string"==typeof e?e:"Name"in e?e.Name:"name"in e?e.name:"Lyrics"in e?e.Lyrics:"value"in e?e.value:"label"in e?e.label:"",m=e=>"string"==typeof e?null:"Id"in e?e.Id:"id"in e?parseInt(e.id):"SongId"in e?e.SongId:null,p=(0,r.eU)(""),g=()=>{let[e,t]=(0,s.fp)(p),a=()=>{let e=(0,i.A)();return t(e),e};return{autocompleteId:e,trackAutocompleteViewed:e=>{u("autosuggest_viewed",{autosuggest_id:a(),...d(e)})},trackAutocompleteOptionSelected:(t,a)=>{setTimeout(()=>{var r,s,i;u("autosuggest_section_item_clicked",{autosuggest_id:e,...d(t),entity_type:a.group,entity_id:m(a),entity_name:h(a),listing_position:null==(r=a.position)?void 0:r.positionInGroup,absolute_listing_position:null==(s=a.position)?void 0:s.absolutePosition,section_rank:null==(i=a.position)?void 0:i.sectionPosition,recom_type:"object"==typeof a&&"recomType"in a&&a.recomType||null})},1e3)},trackSectionView:(t,a,r)=>{var s,i,n;let o;u("autosuggest_section_viewed",{autosuggest_id:e,...d(t),entity_type:a.group,entity_names_list:a.options.map(h),entity_id_listing:a.options.map(m),recom_type:(s=a.options,{lexical:null==(i=(o=l()(s,e=>"object"==typeof e&&"recomType"in e?e.recomType:"NA")).lexical)?void 0:i.length,semantic:null==(n=o.semantic)?void 0:n.length}),section_rank:r})},trackEmptyResults:e=>{u("autosuggest_returned_empty",{autosuggest_id:a(),...d(e)})}}}},19922:(e,t,a)=>{a.d(t,{s:()=>A,t:()=>w});var r=a(7620),s=a(902),i=a(32638),n=a(29255),l=a.n(n),o=a(7848),c=a(43314),u=a(89420),d=a(8785),h=a(92665);let m=e=>"category"===e.type,p=e=>"artist"===e.type;var g=a(68505),x=a(12524),C=a(19496),f=a(33072),_=a(89678),y=a(19155),v=a(14598);let S=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{data:a,isFetching:s}=(0,i.useQuery)(["templates-search-autocomplete",e],{queryFn:()=>(0,y.If)({searchTerm:e}),enabled:t,keepPreviousData:""!==e}),n=(0,r.useMemo)(()=>(0,v.l)(a),[a]);return{data:a,isFetching:s,isEmptyQueryResult:n}};var E=a(97536),b=a(54568);let w=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return(0,i.useQuery)({queryKey:["templates-search-categories"],queryFn:u.a,enabled:e})},A=e=>{let{assetSelectSlot:t,isAssetSelectFocused:a,eventsHandler:i}=e,n=(0,s.useSearchParams)(),{data:u=[]}=w(),{currentSearch:y,includedIds:v,filterNamesFromUrl:A}=(0,c.W)({categoryList:u}),[{expandedSections:N,inputValue:T,searchTerm:I}]=(0,f.ML)(),R=S(I,!!I),j=u.flatMap(e=>e.categories),k=(0,g.qy)(n,j),P={inputValue:T,searchValue:k,assetType:"templates"},{trackEmptyResults:M,trackAutocompleteOptionSelected:F}=(0,C.P)();(0,r.useEffect)(()=>{R.isEmptyQueryResult&&M(P)},[R.data]);let L=(0,d.HO)({filterIdsFromUrl:v,searchTerms:y,filterNamesFromUrl:A,allSubCategories:j}),O=(0,_.o)({replaceSearchTerm:L.replaceSearchTerm}),D=(0,o.s)({updateSearchFilters:L,eventsHandler:i,onAutocompleteSelected:e=>{F(P,e)},assetType:"templates"}),z=(0,r.useMemo)(()=>{if(R.data){let e=(e=>{let t,{data:a,isArtistsExpanded:r}=e;return[...a.filter(m).map(e=>({value:e.name,group:"AutoComplete"})),...(t=a.filter(p).map(e=>({group:"Artists",Name:e.name,Id:"string"==typeof e.id?parseInt(e.id):e.id,ImgUrl:e.profileImage,urlPath:""}))).length<=3?t:(r||(t=t.slice(0,3)),[...t,{group:"toggle Artists",expandedStatus:r?h.i4:h.ME}])]})({data:R.data,isArtistsExpanded:N.Artists});return(0,x.En)(e)}return[]},[R.data,N.Artists]),V=R.isFetching&&!!I,H=(T&&T.length>0||k.length>0)&&!R.isFetching,U=l()(i.searchTermTyped,250);return(0,r.useEffect)(()=>(T&&T.length>0&&U(T),()=>U.cancel()),[T]),(0,b.jsx)(E.v,{assetType:"templates",assetSelectSlot:t,options:z,onChange:D,isLoading:V,isClearable:H,isAssetSelectFocused:a,value:k,handleSearchClick:()=>{T&&T.length>0&&O(T)},placeholder:"Search by type, style or keyword"})}},20481:(e,t,a)=>{a.d(t,{cL:()=>p,bG:()=>g,bb:()=>x});var r=a(439),s=a(65736),i=a(15770),n=a(86052),l=a(35535),o=a(16596),c=a(21736),u=a(54568);let d=e=>{let{value:t,onChange:a}=e,{t:s}=(0,r.Bd)("common");return(0,u.jsxs)("div",{className:"flex flex-col",children:[(0,u.jsx)(c.x,{isAtDefault:!0,children:s("sorting.stemsFilter.title")}),(0,u.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,u.jsx)(l.A,{"data-testid":"stems-filter-chip",color:t?"primary":"default",label:s("sorting.stemsFilter.tag"),onClick:()=>{let e=!t;o.default.track({name:"Stems filter clicked",eventData:{button_name:"Includes Stems",Stems_filter:e}}),a(e)}})})]})},h=[{key:"sorting.vocalFilter.vocals",value:1},{key:"sorting.vocalFilter.instrumental",value:2},{key:"sorting.vocalFilter.femaleVocals",value:3},{key:"sorting.vocalFilter.maleVocals",value:4},{key:"sorting.vocalFilter.duet",value:5},{key:"sorting.vocalFilter.group",value:6},{key:"sorting.vocalFilter.acapella",value:7}],m=e=>{let{currentVocalFilter:t,onSelect:a,onDeselect:n}=e,{t:o}=(0,r.Bd)("common"),d=(0,i.L)(),m=h.find(e=>e.value===t),p=m?o(m.key):"";return(0,u.jsxs)("div",{"data-testid":"VocalPanel",className:(0,s.cn)("flex flex-col",!d&&"pb-8 pt-4"),children:[(0,u.jsxs)(c.x,{onClear:()=>{n({oldValue:p,newValue:""})},isAtDefault:0===t,children:[o("sorting.vocalFilter.vocals"),"/",o("sorting.vocalFilter.instrumental")]}),!d&&(0,u.jsx)("div",{className:"grow"}),(0,u.jsx)("div",{className:"flex flex-wrap gap-2",children:h.map(e=>{let r=t===e.value,s=o(e.key);return(0,u.jsx)(l.A,{color:r?"primary":"default",label:s,onClick:()=>{r?n({oldValue:p,newValue:""}):a(e.value,{oldValue:p,newValue:s})}},e.key)})})]})},p=[{label:"Slow",value:[20,70]},{label:"Slow-Med",value:[70,90]},{label:"Medium",value:[90,110]},{label:"Med-Fast",value:[110,130]},{label:"Fast",value:[130,200]}],g=[{label:"< 30 sec",value:[0,30]},{label:"< 1 min",value:[0,60]},{label:"< 1.5 min",value:[0,90]},{label:"3+ min",value:[180,420]},{label:"4+ min",value:[240,420]}],x=e=>{let{bpmProps:t,durationProps:a,vocalFilterProps:l,stemsFilterProps:o}=e,{t:c}=(0,r.Bd)("common"),h=(0,i.L)();return(0,u.jsxs)("div",{"data-testid":"MusicSortingBar",className:(0,s.cn)("flex flex-col bg-gray-950 sm:flex-row",h?"mt-4 mb-8 justify-between gap-2":"gap-2 xl:gap-16 2xl:gap-25"),children:[(0,u.jsxs)("div",{className:(0,s.cn)("flex",h?"flex-col justify-between gap-8":"lg:max-w-65"),children:[(0,u.jsx)(m,{currentVocalFilter:l.currentVocalFilter||0,onSelect:l.onSelect,onDeselect:l.onDeselect}),h&&(0,u.jsx)(d,{value:o.value,onChange:o.onChangeFilter})]}),(0,u.jsx)(n.J,{isTime:!0,min:0,max:420,onChange:e=>{let[t,r]=e;a.onChangeFilter(t,r)},currentValues:[a.minValue??0,a.maxValue??420],suggestions:g,onClear:a.onClearFilter,shouldShowPrefixAtMax:!0,label:c("sorting.duration")}),(0,u.jsx)(n.J,{min:20,max:200,onChange:e=>{let[a,r]=e;20===a&&200===r?t.onClearFilter():t.onChangeFilter(a,r)},currentValues:[t.minValue??20,t.maxValue??200],suggestions:p,onClear:t.onClearFilter,label:c("sorting.bpm")})]})}},20786:(e,t,a)=>{a.d(t,{y:()=>r});let r={timeToNumber:e=>{let[t,a]=e.split(":").map(Number);return 60*(t||0)+(a||0)},numberToTime:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a="string"==typeof e?parseInt(e,10):e,r=`${a%60}`.padStart(2,"0"),s=Math.floor(a/60),i=String(s).padStart(2,"0"),n=t?i:String(s);return`${n}:${r}`},normalizeInput:e=>{let t=e.replace(/\D/g,""),a=t.slice(0,2),r=t.slice(2,4);return a?r?parseInt(r.padEnd(2,"0"),10)>59?a:`${a}:${r}`:a:""}}},21727:(e,t,a)=>{a.d(t,{NH:()=>o,i3:()=>c,pT:()=>u});var r=a(7620),s=a(9023),i=a(65667),n=a(24990),l=a(57217);let o=e=>{n.S$||window.sessionStorage.setItem("refinementId",e??(0,i.A)())},c=()=>{n.S$||window.sessionStorage.setItem("refinementId","")},u=()=>{let e=(0,r.useRef)("");return(0,r.useCallback)(t=>{if(n.S$)return;let a=(0,s.YW)(l.JZ.entitySearchPattern)(t),r=(0,s.YW)(l.JZ.songMatch)(t);(e.current!==t||""===e.current)&&(e.current=t,a||r?window.sessionStorage.getItem("refinementId")||o():c())},[])}},21736:(e,t,a)=>{a.d(t,{x:()=>l});var r=a(439),s=a(65736),i=a(15770),n=a(54568);let l=e=>{let{onClear:t,children:a,isAtDefault:l}=e,{t:o}=(0,r.Bd)("common"),c=(0,i.L)();return(0,n.jsxs)("div",{"data-testid":"PanelTitle",className:(0,s.cn)("flex items-center justify-between text-sm font-medium",c?"mb-4":"mb-10"),children:[a,!l&&(0,n.jsx)("button",{type:"button",onClick:t,className:"ml-1 mr-4 bg-transparent py-0.5 pl-1.5 text-xs font-normal text-gray-200 transition-colors duration-300 hover:text-white",children:o("sorting.clear")})]})}},21766:(e,t,a)=>{a.d(t,{V:()=>u});var r=a(58124),s=a(16596);let i="asset home page";class n{constructor(e){this.SEARCH_SOURCE=i,this.CLICK_SOURCE=i,this.SEARCH_BOX_PLACER="asset search bar",this._track=e=>s.default.track({...e,eventData:{...this.baseEventData,...e.eventData}}),this.updateBaseEventData=e=>{this.baseEventData={...this.baseEventData,...e}},this.searchSuggestionTagRemoved=(e,t,a,r)=>{this._track({name:"search result suggestion tag removed",eventData:{term:e,last_tag_list:a,media_type:t,new_tag_list:r,search_tag:e,click_source:this.CLICK_SOURCE}})},this.searchSuggestionTagAdded=(e,t,a,r)=>{this._track({name:"search result suggestion tag added",eventData:{term:e,last_tag_list:a,media_type:t,new_tag_list:r,search_tag:e,click_source:this.CLICK_SOURCE}})},this.subcategoryChosen=e=>{this._track({name:"subcategory filter chosen",eventData:{subcategory_item:e,click_source:this.CLICK_SOURCE}})},this.subcategoryRemoved=e=>{this._track({name:"subcategory filter removed",eventData:{subcategory_item:e,click_source:this.CLICK_SOURCE}})},this.clearAllTagsClicked=e=>{this._track({name:"clear all tags clicked",eventData:{last_tag_list:e,new_tag_list:[]}})},this.startFreeTrialClicked=()=>this._track({name:"start free trial button clicked",eventData:{asset_page:this.ASSET_PAGE,click_source:this.CLICK_SOURCE,button_name:"start free now",page_title:document.title,button_source:"main"}}),this.pricingClicked=e=>this._track({name:"pricing clicked",eventData:{asset_page:this.ASSET_PAGE,click_source:this.CLICK_SOURCE,button_name:"pricing",is_vat_eligible:e}}),this.freeTextMediaSearched=()=>{["footage","sfx","templates","song"].includes(this.ASSET_PAGE)&&(0,r.X1)(),this._track({name:"free text media searched",eventData:{asset_page:this.ASSET_PAGE,search_box_placer:this.SEARCH_BOX_PLACER}})},this.searchTermTyped=e=>this._track({name:"search term typed",eventData:{asset_page:this.ASSET_PAGE,search_box_placer:this.SEARCH_BOX_PLACER,search_term:e}}),this.searchButtonClicked=()=>this._track({name:"search button clicked",eventData:{asset_page:this.ASSET_PAGE,search_source:this.SEARCH_SOURCE}}),this.searchAutocompleteReturnedEmpty=()=>this._track({name:"search auto complete returned empty",eventData:{asset_page:this.ASSET_PAGE,search_box_placer:this.SEARCH_BOX_PLACER}}),this.mediaSearched=(()=>{var e=this;return function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[...a,t];return e._track({name:"media searched",eventData:{asset_page:e.ASSET_PAGE,search_box_placer:e.SEARCH_BOX_PLACER,search_term:t,last_tag_list:a,new_tag_list:r}})}})(),this.suggestionSearchTermSelected=()=>this._track({name:"suggestion search term selected",eventData:{asset_page:this.ASSET_PAGE,search_box_placer:this.SEARCH_BOX_PLACER}}),this.searchCleared=e=>this._track({name:"search cleared",eventData:{asset_page:this.ASSET_PAGE,search_box_placer:this.SEARCH_BOX_PLACER,new_tag_list:[],last_tag_list:e||[]}}),this.spotlightCarouselClicked=(e,t,a)=>this._track({name:"spotlight carousel clicked",eventData:{asset_page:this.ASSET_PAGE,button_name:t,click_source:this.CLICK_SOURCE,component:a,title:e||""}}),this.spotlightCarouselChangeSlide=()=>this._track({name:"spotlight carousel change slide",eventData:{asset_page:this.ASSET_PAGE,click_source:this.CLICK_SOURCE}}),this.getALicenseClicked=()=>this._track({name:"subscribe now clicked",eventData:{button_name:"Subscribe Now",asset_page:this.ASSET_PAGE,click_source:this.CLICK_SOURCE}}),this.featuresCarouselClicked=()=>this._track({name:"features carousel clicked",eventData:{asset_page:this.ASSET_PAGE,click_source:this.CLICK_SOURCE}}),this.featuresCarouselChangeSlide=()=>this._track({name:"features carousel change slide",eventData:{asset_page:this.ASSET_PAGE,click_source:this.CLICK_SOURCE}}),this.searchResultSuggestionTagAdded=e=>{let{searchTag:t}=e;this._track({name:"search result suggestion tag added",eventData:{search_tag:t,component:"trending",click_source:"asset search bar"}})},this.clickOnUpgrade=()=>this._track({name:"click on upgrade",eventData:{asset_page:this.ASSET_PAGE,click_source:"spotlight carousel"}}),this.searchMediaTypeSwitched=e=>{this._track({name:"search media type switched",eventData:{click_source:this.CLICK_SOURCE,old_value:this.ASSET_PAGE,new_value:e}})};let{assetPage:t}=e;this.ASSET_PAGE=t,this.baseEventData={}}get fire(){return this}}let l=e=>{let{assetPage:t}=e;return new n({assetPage:t})};var o=a(90358);let c={[o.V.FOOTAGE]:l({assetPage:o.V.FOOTAGE}),[o.V.SONG]:l({assetPage:o.V.SONG}),[o.V.SFX]:l({assetPage:o.V.SFX}),[o.V.TEMPLATE]:l({assetPage:o.V.TEMPLATE})},u=e=>({eventsHandler:c[e]})},25131:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(43853),s=a(74706),i=a(42203),n=a(54568);let l=e=>{let{onClick:t,className:a}=e;return(0,n.jsxs)("button",{type:"button",onClick:t,className:(0,i.QP)("flex w-full items-center space-x-2 p-4 text-sm text-gray-100",a),children:[(0,n.jsx)(s.g,{icon:r.GR}),(0,n.jsx)("div",{children:"Close"})]})}},30748:(e,t,a)=>{a.d(t,{Y:()=>u});var r=a(7620),s=a(902),i=a(41935);let n=i.z.object({trackId:i.z.string()}),l=n.extend({platform:i.z.literal("youtube"),startTime:i.z.coerce.number().optional()}),o=n.extend({platform:i.z.literal("spotify")}),c=i.z.union([o,l]),u=()=>{let e=(0,s.useSearchParams)();return(0,r.useMemo)(()=>{let t=c.safeParse(Object.fromEntries(e.entries()));return t.success?{tag:"valid",data:t.data}:{tag:"invalid",error:t.error}},[e])}},30792:(e,t,a)=>{a.d(t,{Mj:()=>i,Nj:()=>h,P7:()=>n,RS:()=>l,SV:()=>u,jF:()=>o,sW:()=>d,yZ:()=>c}),a(24990);var r=a(16596);a(58494);let s="song",i=()=>{r.default.track({name:"bpm filter cleared"})},n=e=>{let{fromRange:t,toRange:a}=e;r.default.track({name:"bpm filter selected",eventData:{last_bpm_from:t[0],last_bpm_to:t[1],new_bpm_from:a[0],new_bpm_to:a[1]}})},l=e=>{let{newValue:t,oldValue:a}=e;r.default.track({name:"vocals and instruments selected",eventData:{last_value:a,new_value:t}})},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.default.track({name:"duration filter cleared",eventData:{click_source:null==e?void 0:e.click_source,trigger_button:null==e?void 0:e.trigger_button,product:null==e?void 0:e.product,button_name:null==e?void 0:e.button_name,component:null==e?void 0:e.component}})},c=e=>{let{fromRange:t,toRange:a,click_source:s,trigger_button:i,product:n,button_name:l}=e;r.default.track({name:"duration filter selected",eventData:{last_duration_from:t[0],last_duration_to:t[1],new_duration_from:a[0],new_duration_to:a[1],click_source:s,trigger_button:i,product:n,button_name:l}})},u=e=>{let{orientation:t,previousOrientation:a,click_source:s,trigger_button:i,product:n,button_name:l}=e;r.default.track({name:"orientation filter selected",eventData:{last_orientation:a,orientation:t,click_source:s,trigger_button:i,product:n,button_name:l}})},d=e=>{let{newTagList:t,numberOfResults:a,filter:i,isFilterApplied:n,includeCategories:l,searchTerm:o,categories:c,sort_order:u,highlight_toggle:d,searchEngineType:h}=e;r.default.track({name:"number of search results returned",eventData:{new_tag_list:t,media_type:s,number_of_results:a,filter:i,is_filter_applied:n,include_categories:l,search_id:window.sessionStorage.getItem("searchId")||"",search_term:o,search_box_placer:"asset search bar",category_filter_used:c,search_engine_type:h,...m({song_sort_order:u}),...m({highlight_toggle:d})}})},h=e=>{let{newTagList:t,numberOfResults:a,filter:i,isFilterApplied:n,includeCategories:l,searchTerm:o,categories:c,sort_order:u,highlight_toggle:d,searchEngineType:h}=e;r.default.track({name:"search results returned empty",eventData:{new_tag_list:t,media_type:s,number_of_results:a,filter:i,is_filter_applied:n,include_categories:l,search_term:o,search_engine_type:h,search_box_placer:"asset search bar",...m({song_sort_order:u}),category_filter_used:c,...m({highlight_toggle:d})}})},m=e=>{let t=Object.entries(e);if(1!==t.length)return{};let[a,r]=t[0];return a&&null!=r?{...e}:{}}},31785:(e,t,a)=>{a.d(t,{h:()=>o,s:()=>c});var r=a(7620),s=a(4709),i=a(80682),n=a(21797),l=a(184);let o=async e=>{let{assetType:t,videos:a,checkIsInFavorites:r=!0,checkIsInDownloadHistory:n=!0,isAuthenticated:o=!1}=e;if(!o||!a.length)return a;let[c,u]=await Promise.all([r&&(0,s.zz)(a.map(e=>({id:e.id.toString(),type:s.uP[t]}))).then(e=>e.data).catch(e=>{l.e$.error(`Failed to fetch favorite assets when enriching ${t}`,{err:e})}),n&&(0,i.cR)({[i.Z4[t]]:a.map(e=>e.id.toString())}).then(e=>null==e?void 0:e[i.Z4[t]]).catch(e=>{l.e$.error(`Failed to fetch download details assets when enriching ${t}`,{err:e})})]);return a.map(e=>({...e,...r&&c?{isInFavorites:c.some(t=>t.assetId===e.id.toString())}:{},...n&&u?{isInDownloadHistory:!!(null!=u&&u[e.id.toString()])}:{}}))},c=e=>{let{assetType:t,videos:a,checkIsInFavorites:s=!0,checkIsInDownloadHistory:i=!0,assetIdentifiers:l}=e,[c,u]=(0,r.useState)([]),d="authenticated"===(0,n.useSession)().status,h=(l??a.map(e=>e.id)).join(""),m=async()=>{u(await o({videos:a,assetType:t,checkIsInFavorites:s,checkIsInDownloadHistory:i,isAuthenticated:!!d}))};return(0,r.useEffect)(()=>{a.length&&d?m():u(a)},[d,h]),c}},31868:(e,t,a)=>{a.d(t,{g:()=>s});var r=a(93399);let s=()=>{let{isFeatureEnabled:e}=(0,r.o)();return{isFeatureEnabled:e,isReady:!0,status:e?"enabled":"disabled"}}},33072:(e,t,a)=>{a.d(t,{ML:()=>p,af:()=>d,kU:()=>m});var r=a(7620),s=a(902),i=a(96240),n=a(91608),l=a(3548),o=a(57217),c=a(54568);let u={inputValue:void 0,searchTerm:"",expandedSections:{Artists:!1,Filmmakers:!1,Albums:!1,Songs:!1,Categories:!1,Collections:!1,Sounds:!1,Packs:!1},isAutocompleteVisible:!1,isClearInProgress:!1,highlightedOption:null},d=(0,i.eU)(!1),h=(0,r.createContext)(null),m=e=>{let{children:t,debounceTime:a=100}=e,i=(0,s.usePathname)(),m=(0,r.useRef)(null),p=(0,n.Xr)(d),[g,x]=(0,r.useReducer)((e,t)=>(0,l.YW)(t).with({type:"SET_INPUT_VALUE"},t=>{let{payload:a}=t;return{...e,inputValue:a}}).with({type:"SET_SEARCH_TERM"},t=>{let{payload:a}=t;return{...e,searchTerm:a,...""===a&&{expandedSections:u.expandedSections}}}).with({type:"TOGGLE_EXPANDED_SECTION"},t=>{let{payload:a}=t;return{...e,expandedSections:{...e.expandedSections,[a]:!e.expandedSections[a]}}}).with({type:"SET_CLEAR_IN_PROGRESS"},()=>({...e,isClearInProgress:!0})).with({type:"SET_AUTO_COMPLETE_VISIBILITY"},t=>{let{payload:a}=t;return{...e,isAutocompleteVisible:a}}).with({type:"CLOSE_EXPANDED_SECTIONS"},()=>({...e,expandedSections:u.expandedSections})).with({type:"SET_HIGHLIGHTED_OPTION"},t=>{let{payload:a}=t;return{...e,highlightedOption:a}}).with({type:"CLEAR_INPUT_VALUE"},()=>({...e,inputValue:""})).with({type:"RESET_INPUT_VALUE"},()=>({...e,inputValue:void 0})).exhaustive(),u);return(0,r.useEffect)(()=>{let e=[o.JZ.musicSearch,o.JZ.templatesSearch,o.JZ.footageSearch,o.JZ.sfxSearch];i&&e.includes(i)||p(!1)},[i]),(0,r.useEffect)(()=>(m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{void 0!==g.inputValue&&x({type:"SET_SEARCH_TERM",payload:g.inputValue})},a),()=>{m.current&&clearTimeout(m.current)}),[g.inputValue]),(0,c.jsx)(h.Provider,{value:[g,x],children:t})},p=()=>{let e=(0,r.useContext)(h);if(!e)throw Error("useSearchReducer must be used within a SearchReducerProvider");return e}},33957:(e,t,a)=>{a.d(t,{l:()=>r});let r=e=>e.map(e=>({group:"Trending searches",value:e}))},41626:(e,t,a)=>{a.d(t,{A:()=>r});function r(e){return null==e?void 0:e.map(e=>({id:e.id,name:e.name,categories:e.subCategory.reduce((e,t)=>(t.subCategory&&t.subCategory.length?t.subCategory.forEach(a=>{e.push({id:a.id,name:a.name,urlName:a.nameForUrl,group:{id:t.id,name:t.name}})}):e.push({id:t.id,name:t.name,urlName:t.nameForUrl}),e),[])}))}},43314:(e,t,a)=>{a.d(t,{W:()=>l});var r=a(7620),s=a(902),i=a(83372),n=a(74789);let l=e=>{let{categoryList:t,urlSearchParams:a}=e,l=(0,s.useSearchParams)(),o=a??l,c=null==o?void 0:o.get(n.dR),u=(null==o?void 0:o.getAll(n.Pg))||[],d=null==o?void 0:o.get(n.xA),h=(null==o?void 0:o.getAll(n.sP))||[],m=(null==o?void 0:o.getAll(n.yH))||[],p=(null==o?void 0:o.getAll(n.nE))||[],g=(0,r.useMemo)(()=>t.map(e=>e.categories).flat(),[t]),x=(0,s.useParams)(),C=(0,i.x)(null==x?void 0:x.categoryName)[0]||"",f=g.find(e=>e.urlName.toLowerCase()===(null==C?void 0:C.toLowerCase())),_=f?f.id.toString():void 0;_&&!h.includes(_)&&h.push(_);let y=(0,r.useMemo)(()=>g.filter(e=>{let t=e.id.toString();return h.map(e=>e.toString()).includes(t)}),[g,h]);return{currentSort:c,currentSearch:u,filterNamesFromUrl:[...y.map(e=>e.name),...g.filter(e=>m.includes(e.id.toString())).map(e=>e.name)],matchedFiltersFromURL:y,tags:p,includedIds:h,excludedIds:m,searchMode:d}}},44186:(e,t,a)=>{a.d(t,{l:()=>s});var r=a(902);let s=e=>{let t=(0,r.useParams)();if(e&&t&&"categoryName"in t&&"string"==typeof t.categoryName){let a=e.flatMap(e=>e.categories).find(e=>e.urlName===t.categoryName);return a?{includedId:a.id.toString(),label:a.name}:null}return null}},47635:(e,t,a)=>{a.d(t,{q:()=>s});var r=a(54568);let s=e=>{let{size:t=26}=e;return(0,r.jsx)("svg",{width:t,height:t,viewBox:"0 0 26 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M13 4.03516C17.9682 4.03516 22 8.067 22 13.0352C22 18.0033 17.9682 22.0352 13 22.0352C8.03185 22.0351 4 18.0033 4 13.0352C4.00004 8.06703 8.03187 4.0352 13 4.03516ZM16.8545 16.1201C14.2635 14.5706 11.226 14.5122 8.25391 15.1689C7.98173 15.227 7.75977 15.4055 7.75977 15.7793C7.75987 16.0732 7.98205 16.3525 8.33398 16.3525C8.43931 16.3524 8.6243 16.294 8.76562 16.2578C11.3676 15.7244 14.0022 15.783 16.2666 17.1475C16.4081 17.2309 16.5029 17.2783 16.6553 17.2783C16.9491 17.2782 17.207 17.0489 17.207 16.7188C17.207 16.3887 17.0758 16.2616 16.8545 16.1201ZM11.502 11.8232C9.99226 11.8232 8.96103 12.0343 7.95215 12.3174C7.57862 12.4227 7.38965 12.6802 7.38965 13.0684C7.38975 13.4565 7.70561 13.7723 8.09375 13.7725C8.25693 13.7725 8.35145 13.7249 8.52539 13.6777C11.5339 12.8612 14.9164 13.4024 17.1846 14.7451C17.3151 14.814 17.4423 14.8974 17.6309 14.8975C18.0264 14.8975 18.3313 14.5814 18.335 14.1895C18.3349 13.8738 18.2187 13.6488 17.9248 13.4746C16.1322 12.4078 13.857 11.8233 11.502 11.8232ZM11.6758 8.73145C10.1191 8.73145 8.68943 8.90948 7.41211 9.2832C7.0855 9.37756 6.78028 9.65685 6.78027 10.1504C6.78027 10.6331 7.14694 11.0068 7.62598 11.0068C7.80007 11.0068 7.96316 10.9484 8.09375 10.9121C11.0841 10.0774 15.7042 10.4479 18.2881 11.9902C18.4513 12.0845 18.5673 12.1318 18.7559 12.1318C19.1986 12.1318 19.5977 11.7797 19.5977 11.2861C19.5976 10.8544 19.4129 10.6291 19.1299 10.4658C17.1013 9.28283 14.3249 8.73145 11.6758 8.73145Z",fill:"currentColor"})})}},48115:(e,t,a)=>{a.d(t,{Q:()=>i});var r=a(902),s=a(15152);let i=()=>{let e=(0,r.useSearchParams)(),t=s.NN.safeParse(Object.fromEntries((null==e?void 0:e.entries())||[]));return t.success?t.data:s.NN.parse({})}},48433:(e,t,a)=>{a.d(t,{e:()=>G,D:()=>$});var r=a(7620),s=a(902),i=a(32638),n=a(29255),l=a.n(n),o=a(7848),c=a(1345),u=a(58155),d=a(13764),h=a(10810),m=a(10183),p=a(41626);let g=()=>(0,m.l)(h.C.MUSIC).then(e=>(0,p.A)(e));var x=a(43314),C=a(8785),f=a(92665),_=a(33957),y=a(68505),v=a(12524),S=a(14598),E=a(19496),b=a(44186),w=a(26538),A=a(3765);let N=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return w.wr.query(A.l1,{searchTerm:e,typeId:Number(A.ch.music),take:a,page:1},{shouldAttachPreReleaseHeader:t}).then(e=>e.menuSearch)},T=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return w.wr.query(A.cZ,{searchTerm:e,typeId:Number(A.ch.music),take:a,page:1},{shouldAttachPreReleaseHeader:t}).then(e=>e.menuSearch)};var I=a(8447);let R=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{isPreReleaseEnabled:a}=(0,I.L)();return(0,i.useQuery)(["music-search-autocomplete",e,a],{queryFn:()=>N(e,a),staleTime:3e5,enabled:t,keepPreviousData:""!==e})},j=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{isPreReleaseEnabled:a}=(0,I.L)();return(0,i.useQuery)(["music-search-autocomplete-suggest",e,a],{queryFn:()=>T(e,a),enabled:t,staleTime:3e5,keepPreviousData:""!==e})};var k=a(33072),P=a(89678),M=a(87771),F=a(86789),L=a(439),O=a(54568);let D=e=>{let{x:t,y:a,scale:r,delay:s}=e;return(0,O.jsx)(F.P.path,{style:{x:t},animate:{scale:[r,0,0,r],y:[a+.5,a-.5]},transition:{y:{duration:3,repeat:1/0,delay:1},scale:{repeat:1/0,delay:s,repeatDelay:1,times:[0,.25,.75,1],duration:2,ease:["circIn","backOut","backOut"]}},d:"M14 1L10.5 10.5L1 13.5V14L10.5 17L14 26H14.5L18 17L27.5 14V13.5L18 10.5L14.5 1H14Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"bevel"})},z=e=>{let{size:t}=e;return(0,O.jsxs)(F.P.svg,{"aria-label":"sparkle animation",width:"28",height:"27",viewBox:"0 0 28 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",animate:"animate",style:{width:t,height:t},children:[(0,O.jsx)(D,{x:-5.5,y:-2,scale:.56,delay:0}),(0,O.jsx)(D,{x:2.5,y:6.5,scale:.32,delay:.125}),(0,O.jsx)(D,{x:6,y:-7,scale:.37,delay:.25})]})},V=()=>{let{t:e}=(0,L.Bd)("global-search"),{isBelowMD:t}=(0,d.Qs)(),a=e("musicSearch.placeholder.trySearchText");return t?(0,O.jsx)("div",{className:"ml-2 flex gap-1 text-xs text-gray-100",children:(0,O.jsx)("div",{className:"font-medium",children:a})}):(0,O.jsx)("div",{className:"pl-7 w-max-90 absolute left-41 flex w-[calc(100%-210px)] items-center gap-1 text-sm text-gray-150",children:(0,O.jsx)("div",{className:"w-max-[calc(100%-160px)] truncate text-gray-100",children:a})})},H=()=>{let{t:e}=(0,L.Bd)("global-search"),t=e("musicSearch.placeholder.trySearchText");return(0,O.jsxs)(F.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-x-0 top-[calc(50%-44px)] flex flex-col items-center gap-2 text-gray-100",children:[(0,O.jsx)(z,{size:24}),(0,O.jsx)("div",{className:"text-sm text-gray-200",children:t})]})};var U=a(97536);let $=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return(0,i.useQuery)({queryKey:["music-search-categories"],queryFn:g,enabled:e,refetchOnWindowFocus:!1,staleTime:3e5})},B=()=>{let[{searchTerm:e}]=(0,k.ML)(),t=R(e,!!e);return j(e,!!e).isFetching||t.isFetching},J=()=>{let{isBelowMD:e}=(0,d.Qs)(),[{isAutocompleteVisible:t}]=(0,k.ML)();return e&&!t?(0,O.jsx)(H,{}):(0,O.jsx)(V,{})},G=e=>{let{assetSelectSlot:t,isAssetSelectFocused:a,eventsHandler:i}=e,{isBelowMD:n}=(0,d.Qs)(),[{expandedSections:h,inputValue:m,searchTerm:p,isClearInProgress:g}]=(0,k.ML)(),{data:w=[]}=$(),{isFeatureEnabled:A}=(0,u.y)(),N="success"===(0,c.wv)(p,A).status,T=R(p,!!p),I=j(p,!!p&&!N),{filterNamesFromUrl:F,currentSearch:L,includedIds:D}=(0,x.W)({categoryList:w}),z=(0,C.f8)({filterIdsFromUrl:D,searchTerms:L,filterNamesFromUrl:F,allSubCategories:w.flatMap(e=>{let{categories:t}=e;return t})}),V=(()=>{let{data:e=[]}=$(),t=e.flatMap(e=>e.categories),a=(0,s.useSearchParams)(),r=(0,y.qy)(a,t),i=(0,b.l)(e),n=r;return i&&(n=[i,...r]),n})(),H=B(),{trackAutocompleteOptionSelected:G,trackEmptyResults:Z}=(0,E.P)(),Y=(0,P.o)({replaceSearchTerm:z.replaceSearchTerm}),{data:W}=(0,M.m)("MUSIC",15),q=(()=>{let e=B(),{data:t}=(0,M.m)("MUSIC",15);return t&&!e})(),X=(0,r.useMemo)(()=>(0,_.l)(W??[]),[W]),K={inputValue:m,searchValue:V,assetType:"music"},Q=(0,r.useMemo)(()=>{let e=[];switch(g?null:I.data||T.data?"autosuggest":!m&&0===V.length&&q?"trending_search_term":null){case"autosuggest":I.data&&(e=e.concat(I.data.Autosuggest.map(e=>({value:e.value,recomType:e.recomType,group:"AutoComplete"})))),T.data&&(e=e.concat((e=>{let t,a,r,s,{data:i,isArtistsExpanded:n,isAlbumsExpanded:l,isSongsExpanded:o,isCollectionsExpanded:c}=e;return[...(t=i.Artists.map(e=>({...e,group:"Artists"}))).length<=3?t:(n||(t=t.slice(0,3)),[...t,{group:"toggle Artists",expandedStatus:n?f.i4:f.ME}]),...(a=i.Songs.map(e=>({...e,group:"Songs"}))).length<=3?a:(o||(a=a.slice(0,3)),[...a,{group:"toggle Songs",expandedStatus:o?f.i4:f.ME}]),...(r=i.Albums.map(e=>({...e,group:"Albums"}))).length<=3?r:(l||(r=r.slice(0,3)),[...r,{group:"toggle Albums",expandedStatus:l?f.i4:f.ME}]),...(s=i.Collections.map(e=>({...e,group:"Collections"}))).length<=4?s:(c||(s=s.slice(0,4)),[...s,{group:"toggle Collections",expandedStatus:c?f.i4:f.ME}])]})({data:T.data,isArtistsExpanded:h.Artists,isAlbumsExpanded:h.Albums,isSongsExpanded:h.Songs,isCollectionsExpanded:h.Collections})));break;case"trending_search_term":e=X;break;default:return[]}return(0,v.En)(e)},[T.data,I.data,X,h]);(0,r.useEffect)(()=>{T.data&&I.data&&(0,S.l)(T.data)&&(0,S.l)(I.data)&&Z(K)},[T.data,I.data]);let ee=(0,o.s)({eventsHandler:i,updateSearchFilters:z,onAutocompleteSelected:e=>{G(K,e)},assetType:"music"}),et=l()(i.searchTermTyped,250);return(0,r.useEffect)(()=>(m&&m.length>0&&et(m),()=>et.cancel()),[m]),(0,O.jsx)(U.v,{assetSelectSlot:t,assetType:"music",options:Q,onChange:ee,isLoading:H,isAssetSearchLoading:!T.data&&T.isFetching,isClearable:(m&&m.length>0||V.length>0)&&!T.isFetching,isAssetSelectFocused:a,value:V,handleSearchClick:()=>{m&&m.length>0&&Y(m)},placeholder:n?"Search":"",musicPlaceholder:(0,O.jsx)(J,{}),shouldShowTrendingSearchTerms:q,referenceUrl:N?p:""})}},48504:(e,t,a)=>{a.d(t,{NO:()=>i,Uy:()=>n,iB:()=>s,wl:()=>r}),a(5172);let r=0,s=420,i=20,n=4},50691:(e,t,a)=>{a.d(t,{v:()=>u});var r=a(7620),s=a(23057),i=a(74706),n=a(35535),l=a(97799),o=a(65736),c=a(54568);let u=(0,r.forwardRef)((e,t)=>{let{label:a,selected:r=!1,isTitleCase:u=!0,...d}=e;return(0,c.jsx)(n.A,{...d,label:u?a.toLowerCase().replace(/(?:^|\s)\w/g,e=>e.toUpperCase()):a,ref:t,variant:"outlined",className:(0,o.cn)("flex h-7 justify-between gap-2 border-gray-300 bg-transparent !px-3 text-xs hover:!bg-gray-400 hover:text-gray-50",r?"text-gray-50":"text-gray-100"),sx:e=>({[`&:hover .${l.A.deleteIcon}`]:{color:e.palette.grey[50]},[`& .${l.A.label}`]:{padding:0},[`& .${l.A.deleteIcon}`]:{color:e.palette.grey[150],margin:0}}),deleteIcon:(0,c.jsx)("span",{role:"button","aria-label":`Remove ${a}`,className:"m-0 flex h-4 w-3 items-center justify-center",children:(0,c.jsx)(i.g,{className:"h-3 w-3",icon:s.faXmark})})})})},56634:(e,t,a)=>{a.d(t,{J:()=>P});var r=a(7620),s=a(439),i=a(3548),n=a(57535),l=a(7701),o=a(46403),c=a(86789),u=a(65497),d=a(9780),h=a(99063),m=a(54568);let p=c.P.create(l.A),g=c.P.create(o.default),x=e=>{let{isWide:t,onClick:a}=e,i=(0,n.A)(),{t:l}=(0,s.Bd)("global-search");return(0,m.jsxs)(p,{...h.P,variant:"contained",color:"inherit","aria-label":"Song Match",sx:{px:e=>t?void 0:e.spacing(1),height:"100%",minWidth:t?void 0:0,boxShadow:"none",display:"flex",flexDirection:"row",gap:e=>e.spacing(1),"&:hover":{boxShadow:"none"}},initial:{opacity:0},animate:{backgroundColor:t?i.palette.grey[400]:"transparent",opacity:1},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onClick:a,children:[(0,m.jsx)("span",{"aria-hidden":"true",children:(0,m.jsx)(d.E,{})}),(0,m.jsx)(u.N,{initial:!1,mode:"popLayout",children:t&&(0,r.createElement)(g,{...h.P,key:"song-match-new-badge",layout:"position",color:"primary",variant:"caption",sx:{fontSize:10},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},l("musicSearch.songMatch.newBadge"))})]})};var C=a(81690),f=a(11098);let _=e=>{let{isWide:t,onClick:a}=e,r=(0,n.A)(),{t:i}=(0,s.Bd)("global-search");return(0,m.jsx)(f.m,{placement:"bottom",text:i("musicSearch.songMatch.tooltip"),onHoverFn:()=>{(0,C._Y)({tagName:i("musicSearch.songMatch.tooltip"),component:C.Dz.SEARCH_BAR})},sx:{backgroundColor:r.palette.grey[600]},children:(0,m.jsx)(x,{onClick:a,isWide:t})})};var y=a(1108),v=a(83840);let S=(0,y.Ay)("div")(()=>({position:"relative",overflow:"hidden",borderRadius:50,padding:"1px",backgroundClip:"border-box",backgroundOrigin:"border-box",backgroundImage:"linear-gradient(var(--prompt-toggle-gradient-angle), #515151 23.27%, #99FFFF 52.55%, #FF8F79 70.11%, #D472FD 84.55%, #99FFFF 101.72%)",animation:"rotatePromptBorderGradient 10s linear infinite"})),E=e=>{let{showGradient:t,children:a}=e;return t?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(v.x,{}),(0,m.jsx)(S,{children:a})]}):a};var b=a(92288);let w=e=>{let{isFeatureTooltipShow:t,closeFeatureTooltip:a,children:r}=e,{t:i}=(0,s.Bd)("global-search");return(0,m.jsx)(b.GK,{isFeatureTooltipShow:t,closeFeatureTooltip:a,title:(0,m.jsx)("span",{className:"relative top-1",children:i("musicSearch.songMatch.featureTooltip.title")}),description:i("musicSearch.songMatch.featureTooltip.subtitle"),placement:"top",tooltipWidthClassName:"w-72",shouldDisplayNewBadge:!0,children:r})};var A=a(38406);let N="song-match-feature-tooltip",T="song-match-gradient-border",I=()=>{let{isFeatureIndicatorShow:e}=(0,A.iG)(N),{closeFeatureIndicator:t,showFeatureIndicator:a}=(0,A.Cs)(N,{},{showOnce:!0,sendTooltipEvents:!0});return{shouldShowFeatureIndicator:e,closeFeatureTooltip:t,showFeatureTooltip:a}},R=()=>{let{isFeatureIndicatorShow:e}=(0,A.iG)(T),{closeFeatureIndicator:t,showFeatureIndicator:a}=(0,A.Cs)(T,{},{showOnce:!1});return{shouldShowGradient:e,closeGradient:t,showGradient:a}},j=e=>{let{isWide:t,onClick:a}=e,{shouldShowFeatureIndicator:r,closeFeatureTooltip:s}=I(),{shouldShowGradient:i}=R();return(0,m.jsx)(w,{isFeatureTooltipShow:r,closeFeatureTooltip:s,children:(0,m.jsx)("div",{children:(0,m.jsx)(E,{showGradient:i,children:(0,m.jsx)(x,{isWide:t,onClick:a})})})})};var k=a(26430);let P=e=>{let{isWide:t,onClick:a,shouldShowTooltip:n}=e,{t:l}=(0,s.Bd)("global-search"),{shouldShowFeatureIndicator:o,showFeatureTooltip:c}=I(),{shouldShowGradient:u,showGradient:d,closeGradient:h}=R(),{isVisitor:p}=(0,k.f)(),g=e=>{e.stopPropagation(),h(),(0,C.SL)({buttonName:l("musicSearch.songMatch.tooltip"),clickSource:C.Dz.SEARCH_BAR}),a(e)};return(0,r.useEffect)(()=>{n&&c()},[n,c]),(0,r.useEffect)(()=>{t&&d()},[t,d]),(0,i.YW)({isWide:t,isVisitor:p,shouldShowTooltip:n,shouldShowFeatureIndicator:o,shouldShowGradient:u}).with({isVisitor:!1,isWide:!0,shouldShowTooltip:!0,shouldShowFeatureIndicator:!0},{isVisitor:!1,isWide:!0,shouldShowGradient:!0},()=>(0,m.jsx)(j,{isWide:t,onClick:g})).otherwise(()=>(0,m.jsx)(_,{isWide:t,onClick:g}))}},57479:(e,t,a)=>{a.d(t,{N:()=>c,g:()=>i});var r=a(41935),s=a(98456);let i=r.z.object({id:r.z.number(),clipName:r.z.string().nullable(),clipNameForUrl:r.z.string(),thumbnailUrl:r.z.string(),clipPath:r.z.string(),isInFavorites:r.z.boolean(),isInDownloadHistory:r.z.boolean(),isNew:r.z.boolean(),isVfx:r.z.boolean(),isInFolder:r.z.boolean(),filmMakerDisplayName:r.z.string(),storyId:r.z.number().nullable(),storyNameForURL:r.z.string().nullable(),isLicensed:r.z.boolean(),isOriginal:r.z.boolean(),storyName:r.z.string(),duration:r.z.number(),width:r.z.number(),height:r.z.number(),orientation:r.z.string(),availableFormats:r.z.array(r.z.object({displayName:r.z.string(),id:r.z.string()})).nullable(),filmMakerId:r.z.number().optional(),filmMakerNameForUrl:r.z.string().optional(),isMadeWithAi:r.z.boolean().nullish().transform(e=>e??!1)}),n=r.z.object({querySearchType:r.z.number().nullable(),isAccurateResults:r.z.boolean().nullish(),exactResultsHint:r.z.enum(["none","exact","empty"]).nullish().transform(e=>e||"none"),exactResults:r.z.array(i),similarResults:r.z.array(i),totalExact:r.z.number(),totalSimilar:r.z.number(),topDownloadedClipsCount:r.z.number(),totalLexicalResults:r.z.number(),totalSemanticResults:r.z.number()}),l=async e=>({isExactResults:e.isAccurateResults,hintType:e.exactResultsHint,data:e.exactResults||[],total:e.totalExact,alternativeData:e.similarResults&&e.similarResults.length?e.similarResults:e.topDownloadedClipsList||[],totalAlternative:e.totalSimilar||e.topDownloadedClipsCount,totalLexicalResults:e.totalLexicalResults,totalSemanticResults:e.totalSemanticResults}),o=e=>{if(e&&"number"==typeof e)return 1e3*e},c=async(e,t)=>{var a,r;let i=await (0,s.I)({page:e,queryType:1,filterCategories:(null==t||null==(a=t.includedCategoryIds)?void 0:a.map(e=>Number(e)))||[],searchTerms:(null==(r=t.terms)?void 0:r.map(e=>String(e)))||[],sortType:t.sortId,durationMin:o(t.durationMin),durationMax:o(t.durationMax),orientation:t.orientation,includeAIContent:t.includeAIContent});return l(n.parse(i))}},58124:(e,t,a)=>{a.d(t,{J6:()=>u,X1:()=>d,eD:()=>p,yx:()=>m});var r=a(7620),s=a(36027),i=a.n(s),n=a(9023),l=a(65667),o=a(24990),c=a(57217);let u=e=>{(0,r.useEffect)(()=>{if(o.S$)return;let t=window.sessionStorage.getItem("searchId")||"";0===e&&h(),e>0&&!t&&m()},[e])},d=()=>{let e=window.sessionStorage.getItem("searchId")||"";i()(e)&&window.sessionStorage.setItem("searchId",(0,l.A)())},h=()=>{window.sessionStorage.setItem("searchId","")},m=()=>{window.sessionStorage.setItem("searchId",(0,l.A)())},p=()=>{let e=(0,r.useRef)("");return(0,r.useCallback)(t=>{if(o.S$)return;let a=(0,n.YW)(c.JZ.entitySearchPattern)(t),r=(0,n.YW)(c.JZ.songMatch)(t);e.current!==t&&(e.current=t,a||r?window.sessionStorage.getItem("searchId")||m():h())},[])}},58155:(e,t,a)=>{a.d(t,{y:()=>i});var r=a(1494),s=a(38564);let i=()=>(0,s.u)(r.q.songMatchYoutube)},59754:(e,t,a)=>{a.d(t,{dk:()=>m,gQ:()=>g,ve:()=>h});var r=a(7620),s=a(96240),i=a(91608),n=a(1345),l=a(58155),o=a(88878),c=a(58124),u=a(26430),d=a(21727);let h=(0,s.eU)(!1),m=(0,s.eU)(""),p="song-match-popover-reference-url",g=e=>{let{onClose:t,initialReferenceUrl:a}=e,s=(0,o.x)(),h=(0,i.md)(m),{isFeatureEnabled:g}=(0,l.y)(),[x,C]=(0,r.useState)(()=>a||h||(window.sessionStorage.getItem(p)??"")),[f,_]=(0,r.useState)({status:"pending"}),{isVisitor:y}=(0,u.f)(),{isLoading:v,result:S}=(0,n.rA)({referenceUrl:x}),E=e=>{C(e),y&&(e?window.sessionStorage.setItem(p,e):window.sessionStorage.removeItem(p))},b=()=>{E("")};return(0,r.useEffect)(()=>{if(h)return void C(h);if(!a){let e=window.sessionStorage.getItem(p)??"";e&&(C(e),window.sessionStorage.removeItem(p))}},[h,a]),{isLoading:v,result:S,referenceUrl:x,validationResult:f,onInput:e=>{E(e.target.value)},onSearch:()=>{let e=(0,n.wv)(x,g);if(_(e),"success"!==e.status)return;(0,c.yx)(),(0,d.NH)(),b();let a=new URLSearchParams(Object(e.parsedData));s({to:"/royalty-free-music/song-match",search:`?${a.toString()}`}),t()},resetSearch:b}}},63015:(e,t,a)=>{a.d(t,{i:()=>c});var r=a(439),s=a(3164),i=a(65736),n=a(91489),l=a(85108),o=a(54568);let c=e=>{let{track:t,onResetSearch:a}=e,{t:c}=(0,r.Bd)("global-search"),{thumbnails:u,platform:d}=t,h=(0,l.VG)({trackInfo:t,joinSeparator:c("musicSearch.songMatch.by")}),m=Object.values(u)[0];return(0,o.jsxs)("div",{className:"flex items-center gap-2 flex-1 w-full overflow-hidden",children:[(0,o.jsx)("div",{className:(0,i.cn)("min-w-16 w-16 h-8 relative rounded overflow-hidden","spotify"===d&&"w-8 min-w-8"),children:(0,o.jsx)(n.j,{src:m,alt:h})}),(0,o.jsx)("p",{className:"text-sm flex-1 whitespace-nowrap max-w-full overflow-hidden text-ellipsis",children:h}),(0,o.jsx)(s.A,{label:"Clear",onClick:a,className:"text-gray-150"})]})}},68505:(e,t,a)=>{a.d(t,{qy:()=>l});var r=a(73978),s=a(74789),i=a(20481);let n=[s.sP,s.yH,s.nE,s.Lf,s.nA,s._9,s.GA,s._3,s.A6,s.fq],l=(e,t)=>{var a,r,i,l;let u=[];if(!e)return[];e.forEach((e,t)=>{n.includes(t)&&u.push([e,t])});let h=null==(a=u.find(e=>e[1]===s.Lf))?void 0:a[0],m=null==(r=u.find(e=>e[1]===s.nA))?void 0:r[0],p=u.findIndex(e=>e[1]===s.Lf),g=u.findIndex(e=>e[1]===s.nA);if(-1!==p&&-1!==g){let e=Math.min(p,g),t=Math.max(p,g);u[e]=[c(h,m),"bpm"],u.splice(t,1)}else -1!==p?u[p]=[c(h),"bpm"]:-1!==g&&(u[g]=[c(void 0,m),"bpm"]);let x=null==(i=u.find(e=>e[1]===s._9))?void 0:i[0],C=null==(l=u.find(e=>e[1]===s.GA))?void 0:l[0],f=u.findIndex(e=>e[1]===s._9),_=u.findIndex(e=>e[1]===s.GA);if(-1!==f&&-1!==_){let e=Math.min(f,_),t=Math.max(f,_);u[e]=[o(x,C),"duration"],u.splice(t,1)}else -1!==f?u[f]=[o(x),"duration"]:-1!==_&&(u[_]=[o(void 0,C),"duration"]);return u.map(e=>{let[a,r]=e;switch(r){case s.Pg:return a;case s.sP:{let e=t.find(e=>e.id.toString()===a);return e?{includedId:e.id.toString(),label:e.name}:""}case s.yH:{let e=t.find(e=>e.id.toString()===a);return e?{excludedId:e.id.toString(),label:`No ${e.name}`}:""}case s.nE:return a;case s.A6:return{vocalId:a,label:d(a)};case s._3:return{stemsOnly:!0};case"bpm":return{bpm:a};case"duration":return{duration:a};case s.fq:return"2"===a?{orientation:"Vertical Only"}:"";default:return""}}).filter(e=>""!==e)},o=(e,t)=>{if(e&&t){for(let a of i.bG)if(parseInt(e)===a.value[0]&&parseInt(t)===a.value[1])return a.label;let a=(0,r.Ku)(parseInt(e)),s=(0,r.Ku)(parseInt(t));return`${a}-${s} min`}if(e){let t=(0,r.Ku)(parseInt(e));return`${t}+ min`}if(t){let e=(0,r.Ku)(parseInt(t));return`0:00-${e} min`}return""},c=(e,t)=>{if(e&&t){for(let a of i.cL)if(parseInt(e)===a.value[0]&&parseInt(t)===a.value[1])return a.label;return`${e}-${t} BPM`}return e?`${e}+ BPM`:t?`0-${t} BPM`:""},u=["All","Vocal","Instrumental","Female Vocals","Male Vocals","Duet","Group","Acapella"],d=e=>e?"0"===e?"":u[parseInt(e)]:""},69832:(e,t,a)=>{a.d(t,{l:()=>l});var r=a(32638),s=a(10810),i=a(10183),n=a(41626);let l=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{isLoading:a,data:l}=(0,r.useQuery)({queryKey:["footage-search-categories"],queryFn:()=>(0,i.l)(s.C.FOOTAGE).then(e=>(0,n.A)(e)),staleTime:36e5,initialData:e||void 0,refetchOnWindowFocus:!1,retry:5,enabled:t});return{categoryList:l||[],isInitialLoading:a}}},71580:(e,t,a)=>{a.d(t,{V:()=>s});var r=a(54568);let s=e=>{let{size:t=26}=e;return(0,r.jsx)("svg",{width:t,height:t,viewBox:"0 0 26 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M13.0005 0.0351563C13.0654 0.0351651 21.0488 0.0371478 23.0464 0.572266C24.1527 0.867932 25.0241 1.73946 25.3198 2.8457C25.8572 4.85106 25.8569 9.03516 25.8569 9.03516C25.8569 9.06059 25.8556 13.2255 25.3198 15.2246C25.0241 16.3307 24.1527 17.2025 23.0464 17.498C21.0487 18.0333 13.0654 18.0351 13.0005 18.0352C13.0005 18.0352 4.95897 18.0356 2.95361 17.498C1.8474 17.2025 0.975893 16.3307 0.680176 15.2246C0.144469 13.2255 0.143071 9.06059 0.143066 9.03516C0.143066 9.03516 0.142827 4.85106 0.680176 2.8457C0.975852 1.73946 1.84738 0.867957 2.95361 0.572266C4.95897 0.0349108 13.0005 0.0351563 13.0005 0.0351563ZM10.4282 12.8916L17.1089 9.03516L10.4282 5.17773V12.8916Z",fill:"currentColor"})})}},73978:(e,t,a)=>{a.d(t,{Ku:()=>n,iV:()=>i,rn:()=>s});var r=a(19765);let s=e=>(0,r.A)(new Date(e),"MMM dd, yyyy"),i=e=>(0,r.A)(new Date(e),"MMMM d, yyyy"),n=e=>{let t=Math.floor(e/60);return`${t}:${(e%60).toString().padStart(2,"0")}`}},74789:(e,t,a)=>{a.d(t,{A6:()=>h,GA:()=>d,Lf:()=>o,MU:()=>x,Pg:()=>s,_3:()=>m,_9:()=>u,dR:()=>r,fq:()=>g,nA:()=>c,nE:()=>p,p1:()=>C,sP:()=>n,xA:()=>i,yH:()=>l});let r="sortId",s="terms",i="mode",n="includedIds",l="excludedIds",o="bpmMin",c="bpmMax",u="durationMin",d="durationMax",h="vocalId",m="stemsOnly",p="tags",g="orientationId",x="1",C=(e,t)=>{let a=e=>{t&&e.append(n,t);let a=e.toString();return`${a?"?":""}${a}`};return{addExcludedId:t=>{let r=new URLSearchParams(e.toString());return r.delete(n,t),r.append(l,t),a(r)},removeExcludedId:t=>{let r=new URLSearchParams(e.toString());return r.delete(l,t),a(r)},addIncludedId:t=>{let r=new URLSearchParams(e.toString());return r.delete(l,t),r.append(n,t),a(r)},removeIncludedId:t=>{let r=new URLSearchParams(e.toString());return r.delete(n,t),a(r)},addSearchTerm:t=>{let r=!1,i=new URLSearchParams(e.toString());return i.forEach((e,a)=>{a===s&&t===e&&(r=!0)}),r||i.append(s,t),a(i)},removeSearchTerm:t=>{let r=new URLSearchParams(e.toString());return r.delete(s,t),a(r)},changeSort:t=>{let s=new URLSearchParams(e.toString());return s.set(r,t),a(s)},addBPMRange:(t,r)=>{let s=new URLSearchParams(e.toString());return s.set(o,t.toString()),s.set(c,r.toString()),a(s)},clearBPMRange:()=>{let t=new URLSearchParams(e.toString());return t.delete(o),t.delete(c),a(t)},changeVocalId:t=>{let r=new URLSearchParams(e.toString());return r.set(h,t),a(r)},removeVocalId:()=>{let t=new URLSearchParams(e.toString());return t.delete(h),a(t)},addDuration:(t,r)=>{let s=new URLSearchParams(e.toString());return s.set(u,t.toString()),r?s.set(d,r.toString()):s.delete(d),a(s)},clearDuration:()=>{let t=new URLSearchParams(e.toString());return t.delete(u),t.delete(d),a(t)},clearOrientation:()=>{let t=new URLSearchParams(e.toString());return t.delete(g),a(t)},setStemsOnlyFilter:t=>{let r=new URLSearchParams(e.toString());return t?r.set(m,"true"):r.delete(m),a(r)},addTag:t=>{let r=new URLSearchParams(e.toString());return r.append(p,t),a(r)},removeTag:t=>{let r=new URLSearchParams(e.toString());return r.delete(p,t),a(r)},replaceSearchTerm:t=>{let r=new URLSearchParams(e.toString());return r.delete(s),r.append(s,t),a(r)},setOrientationId:t=>{let r=new URLSearchParams(e.toString());return r.set(g,String(t)),a(r)}}}},75188:(e,t,a)=>{a.d(t,{Y:()=>T,z:()=>N});var r=a(7620),s=a(902),i=a(32638),n=a(29255),l=a.n(n),o=a(7848),c=a(10810),u=a(10183),d=a(41626);let h=async()=>(0,u.l)(c.C.SFX).then(e=>(0,d.A)(e));var m=a(43314),p=a(8785),g=a(92665),x=a(68505),C=a(12524),f=a(19496),_=a(33072),y=a(694),v=a(14598);let S=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{data:a,isFetching:s,isLoading:n}=(0,i.useQuery)(["sfx-search-autocomplete",e],{queryFn:()=>(0,y.QU)(e),enabled:t,staleTime:3e5,keepPreviousData:""!==e}),l=(0,r.useMemo)(()=>(0,v.l)(a),[a]);return{data:a,isLoading:n,isFetching:s,isEmptyQueryResult:l}},E=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,i.useQuery)(["sfx-search-autocomplete-suggest",e],{queryFn:()=>(0,y.hW)(e),enabled:t,staleTime:3e5,keepPreviousData:""!==e})};var b=a(89678),w=a(97536),A=a(54568);let N=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return(0,i.useQuery)({queryKey:["sfx-search-categories"],queryFn:h,enabled:e})},T=e=>{let{assetSelectSlot:t,isAssetSelectFocused:a,eventsHandler:i}=e,n=(0,s.useSearchParams)(),[{expandedSections:c,inputValue:u,searchTerm:d}]=(0,_.ML)(),h=S(d,!!d),y=E(d,!!d),{data:v=[]}=N(),{filterNamesFromUrl:T,currentSearch:I,includedIds:R,tags:j}=(0,m.W)({categoryList:v}),k=v.map(e=>e.categories).flat(),P=(0,p.L4)({filterIdsFromUrl:R,searchTerms:I,filterNamesFromUrl:T,allSubCategories:k,tagsFromUrl:j}),M=(0,x.qy)(n,k),F={inputValue:u,searchValue:M,assetType:"sfx"},{trackEmptyResults:L,trackAutocompleteOptionSelected:O}=(0,f.P)();(0,r.useEffect)(()=>{h.isEmptyQueryResult&&L(F)},[h.data]);let D=(0,b.o)({replaceSearchTerm:P.replaceSearchTerm}),z=(0,o.s)({eventsHandler:i,updateSearchFilters:P,onAutocompleteSelected:e=>{O(F,e)},assetType:"sfx"}),V=(0,r.useMemo)(()=>{let e=[];return y.data&&(e=e.concat(y.data.Autosuggest.map(e=>({value:e.value,group:"AutoComplete"})))),h.data&&(e=e.concat((e=>{let t,a,r,s,i,{data:n,isArtistsExpanded:l,isAlbumsExpanded:o,isSongsExpanded:c,isCategoriesExpanded:u,isCollectionsExpanded:d}=e;return[...(t=n.Artists.map(e=>({...e,group:"Artists"}))).length<=3?t:(l||(t=t.slice(0,3)),[...t,{group:"toggle Artists",expandedStatus:l?g.i4:g.ME}]),...(a=n.Albums.map(e=>({...e,group:"Packs"}))).length<=3?a:(o||(a=a.slice(0,3)),[...a,{group:"toggle Packs",expandedStatus:o?g.i4:g.ME}]),...(r=n.Songs.map(e=>({...e,group:"Sounds"}))).length<=3?r:(c||(r=r.slice(0,3)),[...r,{group:"toggle Sounds",expandedStatus:c?g.i4:g.ME}]),...(s=n.Categories?n.Categories.map(e=>({...e,group:"Categories"})):[]).length<=3?s:(u||(s=s.slice(0,3)),[...s,{group:"toggle Categories",expandedStatus:u?g.i4:g.ME}]),...(i=n.Collections.map(e=>({...e,group:"Collections"}))).length<=4?i:(d||(i=i.slice(0,4)),[...i,{group:"toggle Collections",expandedStatus:d?g.i4:g.ME}])]})({data:h.data,isArtistsExpanded:c.Artists,isAlbumsExpanded:c.Albums,isSongsExpanded:c.Songs,isCategoriesExpanded:c.Categories,isCollectionsExpanded:c.Collections}))),(0,C.En)(e)},[h.data,y.data,c]),H=h.isFetching||y.isFetching,U=(u&&u.length>0||M.length>0)&&!h.isFetching,$=l()(i.searchTermTyped,250);return(0,r.useEffect)(()=>(u&&u.length>0&&$(u),()=>$.cancel()),[u]),(0,A.jsx)(w.v,{assetType:"sfx",assetSelectSlot:t,options:V,onChange:z,isLoading:H,isClearable:U,isAssetSearchLoading:!h.data&&h.isFetching,isAssetSelectFocused:a,value:M,handleSearchClick:()=>{u&&u.length>0&&D(u)},placeholder:"Try nature, cinematic, transition..."})}},77769:(e,t,a)=>{a.d(t,{F:()=>C});var r,s,i=a(7620),n=a(91608),l=a(96240);let o=((r={}).music="Music",r.sfx="Sound Effects",r.footage="Footage",r.templates="Templates",r),c=(0,l.eU)(o.music);var u=a(58124),d=a(16596),h=a(21727);let m=((s={}).artist="artist",s.album="album",s.pack="pack",s.song="song",s.sound="sound",s.lyric="lyric",s.category="category",s.collection="collection",s.autocomplete="autocomplete",s.autosuggest="autosuggest",s),p={[m.album]:"albums",[m.artist]:"artists",[m.song]:"songs",[m.lyric]:"lyrics",[m.pack]:"packs",[m.sound]:"sounds",[m.category]:"categories"};class g{constructor(e){this.CLICK_SOURCE="global search",this.SEARCH_BOX_PLACER=this.CLICK_SOURCE,this.NAVBAR_CLICK_SOURCE="navigation bar",this.PREV_FILTERS=[],this.updateSearchEntity=e=>{this.SEARCH_ENTITY=e},this.updateBaseEventData=e=>{this.baseEventData={...this.baseEventData,...e}},this.onGlobalSearchTriggered=()=>{this._trackEvent({name:"search button clicked",eventData:{click_source:this.NAVBAR_CLICK_SOURCE}})},this.onSearchEntityValueChanged=e=>{this._trackEvent({name:"search media type switched",eventData:{click_source:this.CLICK_SOURCE,old_value:this.SEARCH_ENTITY,new_value:e}})},this.BI_SEARCH_TYPED_ADDITIONAL_DELAY=350,this.TERM_TYPED_EVENT_TIMER=null,this.onSearchTermTyped=e=>{clearTimeout(this.TERM_TYPED_EVENT_TIMER);let t=setTimeout(()=>{this._trackEvent({name:"search term typed",eventData:{click_source:this.SEARCH_TYPE||this.CLICK_SOURCE,media_type:this._getEntityMediaType(),search_box_placer:this.SEARCH_TYPE||"secondary search",search_term:e}})},this.BI_SEARCH_TYPED_ADDITIONAL_DELAY);this.TERM_TYPED_EVENT_TIMER=t},this.onSearchCleared=()=>{this._trackEvent({name:"search cleared",eventData:{click_source:this.CLICK_SOURCE}})},this.onMediaSearched=e=>{this._trackEvent({name:"media searched",eventData:{click_source:this.SEARCH_TYPE||this.CLICK_SOURCE,media_type:this._getMediaType(),search_term:e}})},this.onMediaSearchedByFreeText=(e,t)=>{let a=this._getEntityMediaType();(0,h.NH)(),(0,u.X1)(),this._trackEvent({name:"free text media searched",eventData:{click_source:this.CLICK_SOURCE,search_box_placer:this.SEARCH_BOX_PLACER,search_term:e,media_type:this._getMediaType(),...this._ifHasValue({highlight_toggle:"music"===a?t:void 0})}})},this.onEmptyResultsReceived=e=>{this._trackEvent({name:"search auto complete returned empty",eventData:{click_source:this.CLICK_SOURCE,search_term_category:null,media_type:this.SEARCH_ENTITY.toLowerCase(),search_box_placer:this.SEARCH_BOX_PLACER,search_term:e}})},this.onSmartResultListToggled=(e,t)=>{let{isCollapsed:a}=t;this._trackEvent({name:`show ${a?"more":"less"} button clicked`,eventData:{click_source:this.CLICK_SOURCE,search_term_category:p[e]||null}})},this.onSearchSuggestionSelected=(e,t)=>{this._trackEvent({name:"suggestion search term selected",eventData:{click_source:t.searchName||this.CLICK_SOURCE,media_id:t.assetId||null,artist_id:t.artistId||null,album_id:t.albumId||null,search_term_category:t.group?p[t.group]:null,search_box_placer:t.searchName||"main search",original_search_term:e,search_term:t.label,item_name:t.label,media_type:this._getMediaType(t.group)}})},this.createSuggestionSearchTermSelectedHandler=e=>t=>this.onSearchSuggestionSelected(t,e),this.onSearchResultsReturnedEmpty=e=>{let{mediaType:t,filter:a,isGlobalSearch:r=!0,term:s,sort_order:i,page:n,filter_duration_from:l,filter_duration_to:o,filter_vertical:c}=e,u=[a,s].filter(e=>e&&e[0]).join(","),{old:d,current:h}=this.getTagLists(u);this._trackEvent({name:"search results returned empty",eventData:{media_type:t,last_tag_list:d,new_tag_list:h,filter:a,search_box_placer:r?this.SEARCH_BOX_PLACER:"asset search bar",search_term:s,...this._ifHasValue({song_sort_order:i}),...this._ifHasValue({page:n}),category_filter_used:a,filter_duration_from:l,filter_duration_to:o,filter_vertical:c}})},this.onSearchResultsWithoutTagsReturnedEmpty=e=>{let{mediaType:t,filter:a,isGlobalSearch:r=!0,term:s,total:i,isFilterApplied:n,categories:l,sort_order:o,filter_duration_from:c,filter_duration_to:u,filter_vertical:d}=e;this._trackEvent({name:"search results returned with no tags",eventData:{media_type:t,filter:a,search_box_placer:r?this.SEARCH_BOX_PLACER:"asset search bar",search_term:s,number_of_results:i,is_filter_applied:n,include_categories:(l||"").split(","),...this._ifHasValue({song_sort_order:o}),filter_duration_from:c,filter_duration_to:u,filter_vertical:d}})},this.getTagLists=e=>{let t=[...this.PREV_FILTERS],a=e[0]?e.split(","):[];return this.PREV_FILTERS=a,{old:t,current:a}},this.onSearchResultsReturnedSomeData=e=>{let{mediaType:t,total:a,isFilterApplied:r,categories:s,term:i,filter:n,isGlobalSearch:l,song_order:o,number_of_lexical_results:c,number_of_semantic_results:u,filter_duration_from:d,filter_duration_to:h,filter_vertical:m}=e,p=[n||s,i].filter(e=>e&&e[0]).join(","),{old:g,current:x}=this.getTagLists(p);this._trackEvent({name:"number of search results returned",eventData:{last_tag_list:g,new_tag_list:x,media_type:t,number_of_results:a,is_filter_applied:r,include_categories:s?s.split(","):[],include_categories_string:s,search_term:i,filter:n,search_box_placer:l?this.SEARCH_BOX_PLACER:"asset search bar",...this._ifHasValue({song_sort_order:o}),number_of_lexical_results:c,number_of_semantic_results:u,category_filter_used:s,filter_duration_from:d,filter_duration_to:h,filter_vertical:m}})},this._trackEvent=e=>{d.default.track({...e,eventData:{...this.baseEventData,...e.eventData},superProps:{asset:this.SEARCH_ENTITY||null}})},this._getMediaType=e=>{let t=this._getEntityMediaType();return e&&({[m.album]:"music album",[m.song]:"music song",[m.lyric]:"music lyrics",[m.pack]:"sfx pack",[m.sound]:"sfx sound",[m.artist]:`${t} artist`,[m.category]:`${t} category`})[e]||t},this._getEntityMediaType=()=>this.SEARCH_ENTITY===o.sfx?"sfx":this.SEARCH_ENTITY.toLowerCase(),this._ifHasValue=e=>{let[t]=Object.keys(e),a=1===Object.keys(e).length;return void 0!==t&&void 0!==e[t]&&a?{...e}:{}};let{entity:t,searchType:a}=e;this.SEARCH_ENTITY=t,this.SEARCH_TYPE=a||this.CLICK_SOURCE,this.baseEventData={click_source:this.CLICK_SOURCE,search_box_placer:this.SEARCH_BOX_PLACER}}get entity(){return this.SEARCH_ENTITY}}let x=(0,l.eU)("global search"),C=e=>{let t=new g({entity:o.music,searchType:e}),a=(0,n.md)(c),r=(()=>{let[e,t]=(0,n.fp)(x);return{searchType:e,isGlobalSearch:()=>"global search"===e,isAssetSearch:()=>"asset search"===e,setTypeIsAssetSearch:()=>t("asset search"),setTypeIsGlobalSearch:()=>t("global search")}})(),s=(0,i.useRef)(!0);return t.entity!==a&&t.updateSearchEntity(a),(0,i.useEffect)(()=>{if(s.current){s.current=!1;return}t.entity!==a&&t.updateSearchEntity(a)},[a]),{eventsHandler:t,...t,...r}}},81690:(e,t,a)=>{a.d(t,{Cv:()=>c,Dz:()=>s,OA:()=>u,SL:()=>i,To:()=>h,_Y:()=>n,cL:()=>m,eO:()=>p,iZ:()=>l,lM:()=>o,oX:()=>d});var r=a(16596);let s={SEARCH_BAR:"search bar",SEARCH_BY_REFERENCE_BAR:"search by reference bar",SEARCH_BY_REFERENCE_INPUT:"reference link input",REFERENCE_SEARCH_PAGE:"reference search page",SONG_BANNER:"song banner",MATCH_FROM:"match from",TIME_FRAME_SEARCH:"time frame reference search",ASSET_SEARCH_BAR:"asset search bar",SEARCH_REFERENCE_BANNER:"search reference banner"},i=e=>{let{buttonName:t,clickSource:a,component:s,platform:i,from:n,url:l,trackName:o}=e;r.default.track({name:"button clicked",eventData:{click_source:a,button_name:t,component:s,search_reference_source:i,time_frame_from:n,search_reference_url:l,search_reference_name:o}})},n=e=>{let{tagName:t,component:a,platform:s,trackName:i}=e;r.default.track({name:"tag hovered",eventData:{tag_name:t,component:a,search_reference_source:s,search_reference_name:i}})},l=e=>{let{buttonName:t,platform:a,url:i,trackName:n}=e;r.default.track({name:"search cleared",eventData:{click_source:s.SEARCH_BY_REFERENCE_BAR,component:s.SEARCH_BY_REFERENCE_INPUT,button_name:t,search_reference_name:n,search_reference_source:a,search_reference_url:i}})},o=e=>{let{inputPlaceholder:t,component:a,clickSource:s}=e;r.default.track({name:"input interacted",eventData:{component:a,click_source:s,input_placeholder:t}})},c=e=>{let{inputValue:t,previousValue:a,platform:s,trackName:i,isInputValid:n,errorMessage:l,inputPlaceholder:o,inputName:c,component:u,clickSource:d}=e;r.default.track({name:"input filled",eventData:{input_name:c,click_source:d,component:u,input_placeholder:o,input_value:t,input_valid:n,previous_value:a,search_reference_source:s,search_reference_name:i,error_text:l}})},u=e=>{let{errorMessage:t,url:a,clickSource:s,component:i}=e;r.default.track({name:"error annotated",eventData:{component:i,click_source:s,error_message:t,search_reference_url:a}})},d=e=>{let{url:t,boxPlacer:a,trackName:s,platform:i,numberOfResults:n,from:l}=e;r.default.track({name:"number of search results returned",eventData:{search_box_placer:a,search_reference_name:s,search_reference_source:i,search_reference_url:t,number_of_results:n,time_frame_from:l}})},h=e=>{let{url:t,trackName:a,platform:s,numberOfResults:i,boxPlacer:n,from:l}=e;r.default.track({name:"search results returned empty",eventData:{search_box_placer:n,search_reference_name:a,search_reference_source:s,search_reference_url:t,number_of_results:i,time_frame_from:l}})},m=e=>{let{buttonName:t,platform:a}=e;r.default.track({name:"button clicked",eventData:{click_source:s.REFERENCE_SEARCH_PAGE,component:s.SONG_BANNER,button_name:t,search_reference_source:a}})},p=e=>{let{buttonName:t,component:a}=e;r.default.track({name:"banner viewed",eventData:{component:a,button_name:t}})}},81821:(e,t,a)=>{a.d(t,{_:()=>r});let r=(0,a(96240).eU)(null)},83372:(e,t,a)=>{a.d(t,{x:()=>r});let r=e=>Array.isArray(e)?e:e?e.split(","):[]},83840:(e,t,a)=>{a.d(t,{L:()=>c,x:()=>u});var r=a(31019),s=a(1108),i=a(54568);let n=(0,s.Ay)("div")(e=>{let{theme:t}=e;return{position:"relative",overflow:"hidden",borderRadius:"16px",backgroundColor:t.palette.background.highEmphasis.main,padding:"1px",backgroundClip:"border-box",backgroundOrigin:"border-box"}}),l="--prompt-toggle-gradient-angle",o="rotatePromptBorderGradient",c=(0,s.Ay)(n)(e=>{let{theme:t}=e;return{[l]:"270deg",[t.breakpoints.up("lg")]:{backgroundImage:`linear-gradient(var(${l}), #515151 23.27%, #99FFFF 52.55%, #FF8F79 70.11%, #D472FD 84.55%, #99FFFF 101.72%)`,animation:`${o} 10s linear infinite`}}}),u=()=>(0,i.jsx)(r.mL,{styles:(0,r.AH)`
        @property ${l} {
          syntax: '<angle>';
          inherits: false;
          initial-value: 0deg;
        }
        @keyframes ${o} {
          0% {
            ${l}: 0deg;
          }
          100% {
            ${l}: 360deg;
          }
        }
      `})},85108:(e,t,a)=>{a.d(t,{VG:()=>n,nD:()=>l,qT:()=>i,tD:()=>s});var r=a(3548);let s=e=>(0,r.YW)(e).with({tag:"invalid"},()=>"").with({data:{platform:"youtube"}},e=>{let{data:{trackId:t}}=e;return`https://www.youtube.com/watch?v=${t}`}).with({platform:"youtube",trackId:r.P.string},e=>{let{trackId:t}=e;return`https://www.youtube.com/watch?v=${t}`}).with({data:{platform:"spotify"}},e=>{let{data:{trackId:t}}=e;return`https://open.spotify.com/track/${t}`}).with({platform:"spotify",trackId:r.P.string},e=>{let{trackId:t}=e;return`https://open.spotify.com/track/${t}`}).exhaustive(),i=e=>{let t=s(e);return t?{isValid:!0,link:t}:{isValid:!1,link:t}},n=e=>{let{trackInfo:t,joinSeparator:a="by"}=e,{name:r,artist:s}=t;return[r,s].filter(Boolean).join(` ${a} `)},l=e=>{let t=e.replace(/\D/g,"");if(t.length>4&&(t=t.slice(0,4)),t.length<=2){let e=t.padStart(2,"0");return`0:${e}`}let a=String(parseInt(t.slice(0,-2),10)),r=t.slice(-2);return`${a}:${r}`}},86052:(e,t,a)=>{a.d(t,{J:()=>d});var r=a(7620),s=a(35535),i=a(38509),n=a(65736),l=a(15770),o=a(21736),c=a(20786),u=a(54568);let d=e=>{let{min:t,max:a,step:d=1,currentValues:h,onChange:m,suggestions:p,onSuggestionClick:g,onClear:x,isTime:C,shouldShowPrefixAtMax:f,label:_}=e,y=(0,l.L)(),[v,S]=h,E=e=>C?c.y.numberToTime(e,!1):e,[b,w]=(0,r.useState)(v),[A,N]=(0,r.useState)(S),T=(e,r,s)=>{let i=[Number(e),Number(r)],[n,l]=i,o=n===t&&l===a;!(null!=s&&s.preventOnChange)&&(o?x&&"function"==typeof x&&x():m(i,{trigger_button:null==s?void 0:s.trigger_button,button_name:null==s?void 0:s.button_name})),w(e),N(r)},I=()=>{T(t,a)};(0,r.useEffect)(()=>{let[e,r]=h;e===t&&r===a&&(w(v),N(S))},[v,S]);let R=f&&A===a?"+":"",j=b===t&&A===a;return(0,u.jsxs)("div",{"data-testid":"RangeFilterPanelNext",className:(0,n.cn)("px-6",y?"flex flex-col":"pb-8 pt-4"),children:[(0,u.jsx)("div",{className:(0,n.cn)("w-[calc(100% + 12px)] -ml-1.5 -mr-1.5",y&&"mb-8.5"),children:(0,u.jsxs)(o.x,{isAtDefault:j,onClear:I,children:[_," ",!j&&`(${E(b)}-${E(A)}${R})`]})}),(0,u.jsx)("div",{className:"relative",children:(0,u.jsx)(i.Ay,{step:d,value:[b,A],onChange:(e,t)=>{if(!Array.isArray(t))return;let[a,r]=t;T(a,r,{preventOnChange:!0,trigger_button:"slider"})},onChangeCommitted:(e,t)=>{if(!Array.isArray(t))return;let[a,r]=t;T(a,r,{trigger_button:"slider"})},valueLabelDisplay:"auto",min:t,max:a,valueLabelFormat:e=>{let t=f&&e===a?"+":"";return`${E(e)}${t}`},sx:{"& .MuiSlider-rail":{color:"grey.300",opacity:1},"& .MuiSlider-track":{color:"grey.100"}}})}),(0,u.jsxs)("div",{className:"w-[calc(100% + 12px)] -ml-1.5 -mr-1.5 flex -translate-y-2.5 justify-between text-xs font-normal text-gray-100",children:[(0,u.jsx)("div",{children:E(t)}),(0,u.jsx)("div",{children:`${E(a)}${f?"+":""}`})]}),y&&(0,u.jsx)("div",{className:"grow"}),!!p&&!!p.length&&(0,u.jsx)("div",{className:(0,n.cn)("w-[calc(100% + 12px)] -ml-1.5 -mr-1.5 mt-4 flex flex-wrap gap-2",y&&"2xl:flex-nowrap"),children:p.map((e,t)=>{let[a,r]=e.value,i=b===a&&A===r;return(0,u.jsx)(s.A,{label:e.label,color:i?"primary":"default",onClick:()=>{i?I():T(...e.value,{trigger_button:"button clicked",button_name:e.label}),g&&"function"==typeof g&&g(e)}},t)})})]})}},87771:(e,t,a)=>{a.d(t,{m:()=>c});var r=a(32638),s=a(41935),i=a(26538);let n=s.z.object({searchTermsAutosuggestions:s.z.object({terms:s.z.array(s.z.string())})}),l=`
    query trendingSearchTerm(
    $assetType: SearchTermsAutosuggestionsSupportedAssetType!
    ) {
    searchTermsAutosuggestions(assetType: $assetType) {
        terms
    }
    }
`,o=async e=>{let t=await i.wr.query(l,{assetType:e});return n.parse(t).searchTermsAutosuggestions.terms},c=(e,t)=>(0,r.useQuery)(["search-auto-suggestions",e],{queryFn:async()=>{let a=(await o(e)??[]).filter(e=>e.trim().length>0);return t&&t>0?a.slice(0,t-1):a},keepPreviousData:!0,refetchOnWindowFocus:!1})},89420:(e,t,a)=>{a.d(t,{a:()=>o,z:()=>c});var r=a(19155),s=a(21868),i=a(31295);let n=[{groupName:"Software",mapName:"softwareFilterDataMap",searchFilterName:"softwareNames"},{groupName:"Software Version",mapName:"softwareVersionFilterDataMap",searchFilterName:"softwareVersions"},{groupName:"Resolution",mapName:"resolutionFilterDataMap",searchFilterName:"resolutions"},{groupName:"Orientation",mapName:"orientationFilterDataMap",searchFilterName:"aspectRatios"}],l={softwareFilterDataMap:{},softwareVersionFilterDataMap:{},resolutionFilterDataMap:{},orientationFilterDataMap:{}},o=async()=>{let[e,t]=await Promise.all([(0,r.e9)(),(0,r.gz)()]);return[{id:1,name:"Technical",categories:[...n.reduce((e,a)=>{let{groupName:r,searchFilterName:i}=a;return[...e,...t[i].map(e=>({id:e.id,name:e.name,urlName:(0,s.I)(e.name),group:{name:r}}))]},[])]},{id:2,name:"Categories",categories:[...e.map(e=>({...e,id:Number(e.id),urlName:(0,s.I)(e.name)}))]}]},c=e=>{let t=e[0].categories,a=(0,i.X)(e[1].categories),{softwareFilterDataMap:r,softwareVersionFilterDataMap:s,resolutionFilterDataMap:o,orientationFilterDataMap:c}=n.reduce((e,a)=>{let{groupName:r,mapName:s}=a;return{...e,[s]:(0,i.X)(t.filter(e=>{var t;return(null==(t=e.group)?void 0:t.name)===r}))}},l);return{rootCategoriesMap:a,softwareFilterDataMap:r,softwareVersionFilterDataMap:s,resolutionFilterDataMap:o,orientationFilterDataMap:c}}},89678:(e,t,a)=>{a.d(t,{o:()=>i});var r=a(21727),s=a(33072);let i=e=>{let{replaceSearchTerm:t}=e,[,a]=(0,s.ML)();return e=>{(0,r.NH)(),a({type:"SET_AUTO_COMPLETE_VISIBILITY",payload:!1}),t(e),a({type:"SET_INPUT_VALUE",payload:e})}}},90358:(e,t,a)=>{var r;a.d(t,{V:()=>s});let s=((r={}).SONG="song",r.SFX="sfx",r.FOOTAGE="footage",r.TEMPLATE="template",r)},91489:(e,t,a)=>{a.d(t,{j:()=>l});var r=a(4085),s=a(65736),i=a(90180),n=a(54568);let l=e=>{let{src:t,className:a,cdnToImage:l=!0,priority:o=!1,fetchPriority:c,objectPosition:u,alt:d,sizes:h,onLoad:m}=e;return(0,n.jsx)(r.default,{alt:d||"",className:(0,s.cn)("object-cover",a),placeholder:"blur",blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAQSURBVHgBAQUA+v8AMzMz/wLPAZlvxT3MAAAAAElFTkSuQmCC",src:l?(0,i.R2)(t):t,fill:!0,sizes:h,priority:o,onLoad:m,fetchPriority:c,style:{objectPosition:u}})}},92288:(e,t,a)=>{a.d(t,{GK:()=>m,JM:()=>p,Ox:()=>u,ef:()=>g,yP:()=>d});var r=a(7620),s=a(41325),i=a(64779),n=a(65736),l=a(68275),o=a(52278),c=a(54568);let u=e=>{let{children:t,className:a}=e;return(0,c.jsx)("h4",{className:(0,n.cn)("inline-block text-sm font-medium leading-4 text-gray-500",a),children:t})},d=e=>{let{children:t,className:a}=e;return(0,c.jsx)("span",{className:(0,n.cn)("inline-block text-sm font-normal leading-4 text-gray-500",a),children:t})},h=e=>{let{onClose:t,title:a,description:i,descriptionClassNames:h,contentWrapperClassName:m,shouldDisplayNewBadge:p=!0,onContentMounted:g,ctaButton:x,shouldGapTitleDescription:C=!0}=e;return(0,r.useEffect)(()=>{g&&g()},[]),(0,c.jsxs)("div",{"data-testid":"TooltipContent",children:[(0,c.jsxs)("div",{className:(0,n.cn)("flex w-[90%] justify-between py-0.5 sm:w-full",m),children:[(0,c.jsx)(u,{children:a}),p&&(0,c.jsx)("div",{className:"ml-1.5 flex grow",children:(0,c.jsx)(o.Q,{})}),(0,c.jsx)("div",{children:(0,c.jsx)(l.$,{size:"md",icon:s.GR,onClickFn:t,textColor:"text-gray-600",textHoverColor:"text-black",label:"Close"})})]}),(0,c.jsx)("div",{className:C?"mt-1.5":"",children:(0,c.jsx)(d,{className:h,children:i})}),x&&(0,c.jsx)("div",{className:"mt-5",children:x})]})},m=e=>{let{isFeatureTooltipShow:t,closeFeatureTooltip:a,title:r,description:s,placement:l="top",customOffset:o=[0,0],customTooltipClassName:u,tooltipWidthClassName:d="w-62",descriptionClassNames:m,customTooltipArrowClassName:p,shouldDisplayNewBadge:g=!0,onContentMounted:x,children:C,ctaButton:f=null,shouldUseArrow:_=!0,maxWidth:y,shouldGapTitleDescription:v=!0,disablePortal:S=!1}=e;return(0,c.jsx)(i.A,{open:t,placement:l,title:(0,c.jsx)(h,{onClose:a,onContentMounted:x,title:r,description:s,descriptionClassNames:m,shouldDisplayNewBadge:g,ctaButton:f,shouldGapTitleDescription:v}),arrow:_,slotProps:{tooltip:{className:(0,n.cn)("bg-white",d,u),sx:{maxWidth:y}},arrow:{className:(0,n.cn)("text-white",p)},popper:{disablePortal:S,...!!o&&{modifiers:[{name:"offset",options:{offset:o}}]}}},children:C})},p=e=>{let{isFeatureTooltipShow:t,closeFeatureTooltip:a,title:r,description:o,placement:h="top",children:m,zIndex:p,maxWidth:g}=e;return(0,c.jsx)(i.A,{"data-testid":"ImageGenFeatureTooltip",open:t,placement:h,title:(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex w-full justify-between py-0.5",children:[(0,c.jsx)(u,{children:r}),(0,c.jsx)("div",{children:(0,c.jsx)(l.$,{size:"md",icon:s.GR,onClickFn:()=>a(),textColor:"text-gray-600",textHoverColor:"text-black",label:"Close"})})]}),(0,c.jsx)("div",{className:"mt-1.5",children:(0,c.jsx)(d,{children:o})})]}),arrow:!0,slotProps:{tooltip:{className:(0,n.cn)("bg-white w-fit"),sx:{maxWidth:g}},arrow:{className:"text-white"},popper:{sx:{zIndex:p}}},children:m})},g=e=>{let{isFeatureTooltipShow:t,shouldDisplayCloseButton:a,closeFeatureTooltip:r,title:o,description:h,placement:m,customTooltipClassName:p,maxWidth:g,children:x}=e;return(0,c.jsx)(i.A,{"data-testid":"TeamInvitationFeatureTooltip",open:t,placement:m,title:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"flex w-full justify-between py-0.5",children:[(0,c.jsx)(u,{children:o}),a&&(0,c.jsx)("div",{children:(0,c.jsx)(l.$,{size:"md",icon:s.GR,onClickFn:r,textColor:"text-gray-600",textHoverColor:"text-black",label:"Close"})})]}),h&&(0,c.jsx)(d,{children:h})]}),slotProps:{tooltip:{className:(0,n.cn)("bg-white sm:mr-[40px] rounded-lg",p),sx:{maxWidth:g}},popper:{modifiers:[{name:"offset",options:{offset:[0,0]}}]}},children:x})}},92665:(e,t,a)=>{a.d(t,{ME:()=>s,Pk:()=>i,i4:()=>r});let r="expanded",s="collapsed",i=e=>null!==e&&"object"==typeof e&&"value"in e},93399:(e,t,a)=>{a.d(t,{ToolkitNavContextProvider:()=>n,o:()=>l});var r=a(7620),s=a(54568);let i=(0,r.createContext)(null),n=e=>{let{children:t,isFeatureEnabled:a}=e;return(0,s.jsx)(i.Provider,{value:{isFeatureEnabled:a},children:t})},l=()=>{let e=(0,r.useContext)(i);if(!e)throw Error("useToolkitNavContext must be used within ToolkitNavContextProvider");return e}},94697:(e,t,a)=>{a.d(t,{DN:()=>x,O7:()=>p,j:()=>C});var r=a(7620),s=a(36027),i=a.n(s),n=a(21797),l=a(24990),o=a(6993),c=a(21766),u=a(90358),d=a(77769),h=a(57479),m=a(31785);let p={exact:"exact",empty:"empty",none:"none"},g={1:"staff picks",2:"top downloads",3:"newest"},x={1:"HORIZONTAL",2:"VERTICAL",3:"SQUARE"},C=e=>{let{filters:t,sortId:a,terms:s,hasSSRData:C,matchedCategoriesEventString:f,searchEventDetails:_,technicalFilters:y={},initialPage:v=1,searchMode:S=null,includeAIContent:E}=e,b=(0,o.a)(),[w,A]=(0,r.useState)(!1),[N,T]=(0,r.useState)(!1),I=t.join(""),R=s.join(""),j=JSON.stringify(y),k=(0,r.useRef)(v),P=e=>{k.current=e},M=(0,r.useRef)(C),F=(0,r.useRef)(v),L="authenticated"===(0,n.useSession)().status,{onSearchResultsReturnedEmpty:O,onSearchResultsWithoutTagsReturnedEmpty:D,onSearchResultsReturnedSomeData:z,isGlobalSearch:V,updateBaseEventData:H}=(0,d.F)(),{eventsHandler:U}=(0,c.V)(u.V.FOOTAGE),$=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;T(!0);let c=y.orientation?x[y.orientation]:void 0,u={includedCategoryIds:r,sortId:Number(n),terms:o,...y,orientation:c,includeAIContent:E},d=await (0,h.N)(e,u);d.data=await (0,m.h)({videos:d.data,assetType:l.E7.footage,isAuthenticated:L});let C=+(d.hintType===p.exact);return H({is_exact:C}),U.updateBaseEventData({is_exact:C}),1!==e||0!==d.totalLexicalResults||i()(s)||D({mediaType:"footage",filter:f,isGlobalSearch:V(),term:_,total:d.total,isFilterApplied:!!f.length,categories:f,sort_order:a,filter_duration_from:null==y?void 0:y.durationMin,filter_duration_to:null==y?void 0:y.durationMax,filter_vertical:(null==y?void 0:y.orientation)===2}),b.current&&(T(!1),A(0===d.total&&1===e),(!i()(y)||r.length||o.length)&&(d.total>0?z({mediaType:"footage",total:d.total,isFilterApplied:!!f.length,categories:f,term:_,filter:f,isGlobalSearch:V(),song_order:g[a],number_of_lexical_results:d.totalLexicalResults,number_of_semantic_results:d.totalSemanticResults,filter_duration_from:null==y?void 0:y.durationMin,filter_duration_to:null==y?void 0:y.durationMax,filter_vertical:(null==y?void 0:y.orientation)===2}):O({mediaType:"footage",filter:f,isGlobalSearch:V(),term:_,sort_order:a,filter_duration_from:null==y?void 0:y.durationMin,filter_duration_to:null==y?void 0:y.durationMax,filter_vertical:(null==y?void 0:y.orientation)===2}))),d};return{page:k.current,requestFootageClips:$,saveCurrentPage:P,isEmptyResult:w,useFetchDataOnQueryChanged:(e,i,n)=>{(0,r.useEffect)(()=>{if(!i()){if(M.current){M.current=!1;return}(async()=>{let r=F.current;e(r,{data:[],isExactResults:!1,hintType:"",alternativeData:[],total:0,totalAlternative:0,totalLexicalResults:0,totalSemanticResults:0});let i=await $(r,t,a,s);P(r),b.current&&(n(i.data.length),e(r,i))})(),F.current=1}},[I,a,R,S,j,E])},isFetching:N}}},97536:(e,t,a)=>{a.d(t,{v:()=>eY,O:()=>eZ});var r=a(3548),s=a(7620),i=a(902),n=a(12375),l=a(30207),o=a(91608),c=a(7703),u=a(65497),d=a(25670),h=a(74706),m=a(86789),p=a(99063),g=a(54568);let x=e=>(0,s.createElement)(m.P.button,{...e,...p.P,"data-testid":"ClearButton","aria-label":"clear",className:"relative flex h-6 w-6 shrink-0 items-center justify-center text-gray-200 transition-opacity hover:opacity-75",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},key:"clear-button"},(0,g.jsx)(h.g,{icon:d.faXmark}));var C=a(16443);let f=e=>{let{onClick:t,className:a}=e;return(0,g.jsx)(m.P.button,{"aria-label":"Search",onClick:t,className:a,children:(0,g.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M11.3075 10.8C12.3455 9.87858 13.0002 8.53047 13.0002 7.02857C13.0002 4.25137 10.7616 2 8.00018 2C5.23876 2 3.00018 4.25137 3.00018 7.02857C3.00018 9.80578 5.23876 12.0571 8.00018 12.0571C9.26824 12.0571 10.426 11.5824 11.3075 10.8ZM11.3075 10.8L14.0002 14",stroke:"#B2B2B2",strokeLinecap:"round",strokeLinejoin:"round"})})},"new-search-button")};var _=a(56634),y=a(33072),v=a(64779),S=a(439),E=a(53820),b=a(81690),w=a(65736),A=a(57217),N=a(91489),T=a(85108);let I=e=>{let{placement:t,platform:a,trackName:r,externalUrl:s}=e;return(0,g.jsx)(E.A,{to:A.JZ.music,"data-testid":"ClearButton","aria-label":"clear",additionalOnClickFn:()=>{(0,b.SL)({buttonName:`x ${t}`,clickSource:b.Dz.SEARCH_BY_REFERENCE_BAR,platform:a,trackName:r,url:s,component:b.Dz.SEARCH_BY_REFERENCE_INPUT})},className:"relative flex h-6 w-6 shrink-0 items-center justify-center text-gray-150 transition-opacity hover:opacity-75",children:(0,g.jsx)(h.g,{icon:d.faXmark})})},R=e=>{var t;let{trackInfo:a}=e,{t:r}=(0,S.Bd)("global-search"),{thumbnails:s,platform:i}=a,n=null==(t=Object.values(s))?void 0:t[0],l=(0,T.VG)({trackInfo:a,joinSeparator:r("musicSearch.songMatch.by")});return(0,g.jsxs)("div",{className:"px-4 py-1 bg-gray-500 rounded-full relative flex items-center gap-2 flex-1 overflow-hidden shrink-0","data-testid":"search-track-info",children:[(0,g.jsxs)("div",{className:(0,w.cn)("relative w-12 h-7 rounded overflow-hidden group shrink-0","spotify"===i&&"w-auto aspect-square"),children:[(0,g.jsx)(v.A,{title:"Remove link",placement:"top",sx:{paddingX:8,paddingY:4},children:(0,g.jsx)("div",{className:"flex items-center justify-center absolute w-full h-full bg-black bg-opacity-80 z-10 opacity-0 group-hover:opacity-100",children:(0,g.jsx)(I,{placement:"left",trackName:l,platform:i,externalUrl:(0,T.tD)(a)})})}),n&&(0,g.jsx)(N.j,{src:n,alt:l})]}),(0,g.jsx)("p",{className:"text-sm text-gray-100 flex-1 whitespace-nowrap overflow-hidden text-ellipsis",children:l}),(0,g.jsx)(I,{placement:"right",trackName:l,platform:i,externalUrl:(0,T.tD)(a)})]})};var j=a(7701),k=a(9780);let P=e=>{let{onCtaClick:t}=e,{t:a}=(0,S.Bd)("global-search"),r=a("musicSearch.songMatch.searchPlaceholder.title"),s=a("musicSearch.songMatch.searchPlaceholder.subtitle"),i=a("musicSearch.songMatch.searchPlaceholder.ctaLabel"),n=a("musicSearch.songMatch.newBadge");return(0,g.jsxs)(m.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-x-0 top-[calc(50%-44px)] flex flex-col items-center gap-2 text-gray-100",children:[(0,g.jsxs)("div",{className:"text-lg font-medium flex items-center",children:[r,(0,g.jsx)("span",{className:"text-[10px] text-primary ml-1",children:n})]}),(0,g.jsx)("div",{className:"text-sm text-gray-200 text-center max-w-64",children:s}),(0,g.jsx)(j.A,{variant:"outlined",color:"inherit",onClick:()=>{(0,b.SL)({buttonName:i,clickSource:b.Dz.SEARCH_BAR}),t()},startIcon:(0,g.jsx)(k.E,{}),sx:{marginTop:3},children:(0,g.jsx)("span",{className:"ml-1",children:i})})]})};var M=a(18498),F=a(25131),L=a(79273),O=a(57535);let D=e=>{let{isExpanded:t,isOpen:a,children:r,collapsedHeight:s,onClose:i}=e,n=(0,O.A)();return(0,g.jsx)(L.A,{children:(0,g.jsx)(u.N,{children:a&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.stopPropagation(),i()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:n.zIndex.globalPlayer+1}}),(0,g.jsx)(m.P.div,{initial:{y:"100%"},animate:{y:0,height:t?"100%":s,borderTopLeftRadius:20*!t,borderTopRightRadius:20*!t,backgroundColor:t?"#000000":"#262626"},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300,duration:.3},style:{position:"fixed",bottom:0,left:0,right:0,width:"100%",maxWidth:"100%",zIndex:n.zIndex.globalPlayer+2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"},children:(0,g.jsx)(m.P.div,{animate:{paddingTop:t?"40px":"0px"},transition:{duration:.3,ease:"easeInOut"},style:{position:"relative",width:"100%",maxWidth:"100%"},children:r})})]})})})};var z=a(43853),V=a(42203);let H=e=>{let{onClick:t,className:a}=e;return(0,g.jsx)("button",{type:"button",onClick:t,className:(0,V.QP)("flex w-full items-center space-x-2 p-4 text-sm text-gray-100",a),children:(0,g.jsx)(h.g,{icon:z.GR})})};var U=a(81821),$=a(47635),B=a(71580),J=a(63015),G=a(58155),Z=a(26430),Y=a(66871),W=a(59572);let q=e=>{let{songMatchProps:t,onInputFocus:a}=e,{t:i}=(0,S.Bd)("global-search"),{isLoading:n,result:l,referenceUrl:c,onInput:u,onSearch:d,resetSearch:h}=t,{isVisitor:p}=(0,Z.f)(),{isReady:x,isFeatureEnabled:f}=(0,G.y)(),_=(0,s.useRef)(""),[y,v]=(0,o.fp)(U._),E=x&&f?i("musicSearch.songMatch.popover.inputPlaceholderYoutube"):i("musicSearch.songMatch.popover.inputPlaceholder"),w=()=>{a(!0),(0,b.lM)({inputPlaceholder:E,component:b.Dz.SEARCH_BY_REFERENCE_INPUT,clickSource:b.Dz.SEARCH_BY_REFERENCE_BAR})},A=()=>{"success"===l.status&&(0,b.iZ)({buttonName:"x",url:c,platform:l.data.platform,trackName:l.data.name}),h()};return(0,s.useEffect)(()=>{if("pending"!==l.status&&n&&c){if("success"===l.status){(0,b.Cv)({inputValue:c,previousValue:_.current,platform:l.data.platform,trackName:l.data.name,isInputValid:!0,inputPlaceholder:E,component:b.Dz.SEARCH_BY_REFERENCE_INPUT,clickSource:b.Dz.SEARCH_BY_REFERENCE_INPUT,inputName:b.Dz.SEARCH_BY_REFERENCE_INPUT}),_.current=c;return}(0,b.Cv)({inputValue:c,previousValue:_.current,isInputValid:!1,errorMessage:i(l.message),inputPlaceholder:E,component:b.Dz.SEARCH_BY_REFERENCE_INPUT,clickSource:b.Dz.SEARCH_BY_REFERENCE_INPUT,inputName:b.Dz.SEARCH_BY_REFERENCE_INPUT}),_.current=c,(0,b.OA)({errorMessage:i(l.message),url:c,component:b.Dz.SEARCH_BY_REFERENCE_INPUT,clickSource:b.Dz.SEARCH_BY_REFERENCE_BAR})}},[l,c,E,n,i]),(0,g.jsxs)("div",{className:"px-5 py-7",children:[(0,g.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,g.jsx)("h2",{className:"text-xl font-medium",children:i("musicSearch.songMatch.popover.title")}),(0,g.jsx)("p",{className:"text-sm text-gray-100",children:i("musicSearch.songMatch.popover.subtitle")})]}),(0,g.jsxs)("div",{className:"flex items-center gap-6 mt-3",children:[(0,g.jsx)(B.V,{}),(0,g.jsx)($.q,{})]}),(0,g.jsxs)(m.P.div,{className:"border border-solid border-gray-300 rounded-lg h-16 flex w-full items-center gap-4 p-4 mt-4",whileFocus:{scale:1.02},transition:{duration:.2},children:[(0,r.YW)(l).with({status:"success"},e=>{let{data:t}=e;return(0,g.jsx)(J.i,{track:t,onResetSearch:A})}).with({status:r.P.union("pending","error")},()=>(0,g.jsx)("input",{type:"url",value:c,onChange:u,onFocus:w,onBlur:()=>a(!1),className:"h-9 min-w-0 flex-1 bg-transparent px-2 text-white shadow-none outline-none placeholder:text-gray-200 focus:outline-none focus:ring-0",placeholder:E})).exhaustive(),n&&(0,g.jsx)(C.I,{})]}),"error"===l.status&&(0,g.jsx)("p",{className:"text-red-400 mt-2 text-sm font-medium",children:i(l.message)}),(0,g.jsx)(j.A,{variant:"contained",color:"primary",disableElevation:!0,disabled:n,onClick:()=>{if(p)return void Y.default.trigger(W.yV.SIGN_UP__MODAL__OPEN,{clickSource:"search by reference",buttonName:"search",trigger:"search by reference"});let e="success"===l.status?l.data.platform:void 0;y||v(b.Dz.SEARCH_BY_REFERENCE_BAR),(0,b.SL)({buttonName:i("musicSearch.songMatch.popover.searchButton"),url:c,platform:e,clickSource:b.Dz.SEARCH_BY_REFERENCE_BAR,component:b.Dz.SEARCH_BY_REFERENCE_INPUT}),d()},className:"bg-yellow-400 disabled:bg-[#404040]",sx:{borderRadius:e=>e.spacing(1),boxShadow:"none",width:"100%",height:44,marginTop:e=>e.spacing(2),"&:hover":{boxShadow:"none"}},children:i("musicSearch.songMatch.popover.searchButton")})]})};var X=a(59754);let K=e=>{let{isOpen:t,onClose:a}=e,[r,i]=(0,s.useState)(!1),n=(0,X.gQ)({onClose:a}),l=r&&"success"!==n.result.status,o=()=>{a(),n.resetSearch()};return(0,g.jsxs)(D,{isOpen:t,onClose:o,isExpanded:l,collapsedHeight:370,children:[(0,g.jsx)(m.P.div,{animate:{opacity:+!!l},transition:{duration:.3,ease:"easeInOut"},style:{position:"absolute",top:28,right:20},children:(0,g.jsx)(H,{onClick:a})}),(0,g.jsx)(q,{songMatchProps:n,onInputFocus:i}),(0,g.jsx)(m.P.div,{animate:{opacity:+!l},transition:{duration:.3,ease:"easeInOut"},style:{position:"relative"},children:(0,g.jsx)(F.A,{onClick:o})})]})};var Q=a(99320),ee=a(30748),et=a(1345),ea=a(31868),er=a(13764),es=a(58124),ei=a(21138);let en=(0,s.forwardRef)((e,t)=>(0,g.jsx)(m.P.input,{...e,...p.P,ref:t,layout:"position",className:"h-9 min-w-0 flex-1 bg-transparent px-2 text-white shadow-none outline-none placeholder:text-gray-200 focus:outline-none focus:ring-0"})),el=(0,s.forwardRef)((e,t)=>{let{isBelowMD:a}=(0,er.Qs)(),r=()=>(0,g.jsx)(m.P.ul,{...e,...p.P,ref:t,layout:"position",className:"min-h-0 w-full overflow-y-auto px-2 scrollbar-thin scrollbar-track-gray-600 scrollbar-thumb-gray-400 md:max-h-[calc(100vh-240px)] md:bg-gray-600"});return a?(0,g.jsx)("div",{className:"max-h-full overflow-y-auto",children:r()}):(0,g.jsx)("div",{className:"box-content max-h-full overflow-hidden",children:r()})});var eo=a(19600),ec=a(77285),eu=a(39362);let ed=["\\",".","*","+","?","|","(",")","[","]","{","}","^","$"],eh=(e,t)=>{let a=ed.reduce((e,t)=>e.replace(RegExp(`\\${t}`,"g"),""),t),r=RegExp(`\\b${a}`,"i");return{parts:e.split(r),matches:e.match(r)}},em=e=>{let{children:t,searchTerm:a=""}=e,{parts:r,matches:i}=eh(t,a);return(0,g.jsx)(g.Fragment,{children:r.map((e,t)=>(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)("span",{children:e}),i&&i[t]&&(0,g.jsx)("span",{className:"font-bold",children:i[t]})]},t))})},ep=e=>{let{children:t,searchTerm:a=""}=e,{parts:r,matches:i}=eh(t,a);return(0,g.jsx)(g.Fragment,{children:r.map((e,t)=>(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)("span",{children:e}),i&&i[t]&&(0,g.jsx)("span",{className:"text-white",children:i[t]})]},t))})},eg=e=>{let{imageSrc:t,name:a,searchTerm:r}=e;return(0,g.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,g.jsx)(eu.J,{className:"h-8 w-8 overflow-hidden rounded-full",src:t}),(0,g.jsx)("p",{children:(0,g.jsx)(em,{searchTerm:r,children:a})})]})},ex=e=>{let{imageSrc:t,name:a}=e;return(0,g.jsxs)("div",{"data-testid":"CollectionMenuItem",className:"relative aspect-[163.75/70] flex-1 overflow-hidden rounded",children:[(0,g.jsx)(eu.J,{src:t}),(0,g.jsx)("div",{className:"absolute -inset-0 flex items-center justify-center bg-black/70 text-center text-xs",children:(0,g.jsx)("p",{className:"max-w-25",children:a})})]})},eC=e=>{let{imageSrc:t,title:a,subtitle:r,searchTerm:s}=e;return(0,g.jsxs)("div",{"data-testid":"MenuItem",className:"flex origin-left items-center gap-2.5",children:[t?(0,g.jsx)(eu.J,{className:"h-8 w-8",src:t}):null,(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"whitespace-nowrap",children:(0,g.jsx)(em,{searchTerm:s,children:a})}),(0,g.jsx)("p",{className:"whitespace-nowrap text-xs text-gray-100",children:(0,g.jsx)(em,{searchTerm:s,children:r})})]})]})};var ef=a(18580);let e_=e=>{let{isOpen:t}=e;return(0,g.jsxs)("div",{className:"flex gap-1 text-xs",children:[(0,g.jsx)("span",{className:"font-medium underline",children:t?"Show less":"Show more"}),(0,g.jsx)(m.P.span,{animate:{rotate:180*!!t},transition:{duration:.2},children:(0,g.jsx)(h.g,{icon:ef.Jt})})]})};var ey=a(92665),ev=a(50691);let eS=e=>{let{option:t,inputValue:a}=e;return"string"==typeof t||"includedId"in t||"excludedId"in t||!("group"in t)?null:"AutoComplete"===t.group&&t.value?(0,g.jsx)("span",{className:"text-gray-100",children:(0,g.jsx)(ep,{searchTerm:a,children:t.value})}):"Artists"===t.group?(0,g.jsx)(eg,{name:t.Name,imageSrc:t.ImgUrl,searchTerm:a}):"Albums"===t.group||"Songs"===t.group?(0,g.jsx)(eC,{title:t.Name,subtitle:t.ArtistName,imageSrc:t.ImgUrl,searchTerm:a}):"Collections"===t.group?(0,g.jsx)(ex,{imageSrc:t.thumbFileUrl||"",name:t.name}):"Lyrics"===t.group?(0,g.jsx)(eC,{title:t.Lyrics,subtitle:`Featured by: ${t.SongName}`,searchTerm:a}):"Packs"===t.group||"Sounds"===t.group?(0,g.jsx)(eC,{title:t.Name,subtitle:t.ArtistName,imageSrc:t.ImgUrl,searchTerm:a}):"Categories"===t.group?(0,g.jsx)(ev.v,{label:t.Name}):t.group.includes("toggle")&&"expandedStatus"in t?(0,g.jsx)(e_,{isOpen:t.expandedStatus===ey.i4}):"Trending searches"===t.group?(0,g.jsx)(ev.v,{label:t.value,isTitleCase:!1}):null},eE=e=>{let{option:t,inputValue:a,...r}=e;return(0,g.jsx)(ec.Ay,{"data-testid":"Option",...r,sx:e=>({"&:hover, &.Mui-focusVisible":{backgroundColor:e.palette.grey[500]}}),className:"cursor-pointer rounded py-2 md:px-3",children:(0,g.jsx)(eS,{option:t,inputValue:a})})};var eb=a(63521),ew=a(4168);let eA=e=>{let{children:t}=e;return(0,g.jsx)("h2",{"data-testid":"SectionTitle",className:"top-0 z-10 from-gray-600 via-gray-600/75 to-transparent py-4 text-xs font-medium text-gray-100 md:mx-4 md:bg-gradient-to-b",children:t})},eN=(0,s.forwardRef)((e,t)=>{let{group:a,children:r}=e;return a.includes("toggle")?(0,g.jsx)(g.Fragment,{children:r}):"Collections"===a?(0,g.jsxs)("div",{ref:t,children:[(0,g.jsx)(eA,{children:a}),(0,g.jsx)("ul",{className:"grid grid-cols-2 gap-2 md:grid-cols-4",children:r})]}):"Categories"===a?(0,g.jsxs)("div",{ref:t,className:"w-full",children:[(0,g.jsx)(eA,{children:a}),(0,g.jsx)(ew.A,{component:"ul",direction:"row",sx:{[`& .${eb.A.root}`]:{width:"auto"}},children:r})]}):"Trending searches"===a?(0,g.jsxs)(m.P.div,{initial:{display:"none"},animate:{display:"block"},transition:{duration:.01},ref:t,children:[(0,g.jsx)(eA,{children:a}),(0,g.jsx)(ew.A,{component:"ul",direction:"row",className:"box-content max-h-18 flex-wrap gap-2 overflow-hidden md:p-3.5 lg:max-h-[unset]",sx:{[`& .${eb.A.root}`]:{width:"auto",padding:0}},children:r})]}):(0,g.jsxs)("div",{className:"w-full",ref:t,children:["AutoComplete"!==a?(0,g.jsx)(eA,{children:a}):null,(0,g.jsx)("ul",{children:r})]})}),eT=e=>{let{group:t,getOptionProps:a,inputValue:r,onFirstView:s}=e,{ref:i}=(0,eo.Wx)({threshold:.2,triggerOnce:!0,onChange(e){e&&s(t)}});return(0,g.jsx)(eN,{group:t.group,ref:i,children:t.options.map((e,s)=>(0,g.jsx)(eE,{...a({option:e,index:t.index+s}),option:e,inputValue:r},t.index+s))})};var eI=a(9940),eR=a(24990);let ej=m.P.create(eI.A),ek=(0,s.forwardRef)((e,t)=>{let{isExpanded:a,inputValue:r,isDesktop:s,className:i,...n}=e,{isBelowXL:l}=(0,er.Qs)(),o=!!(null!=r&&r.length);return(0,g.jsx)("div",{id:"search-root",className:(0,w.cn)("sticky top-0 z-10 -mx-4 bg-gray-950 p-4 md:mx-0 md:bg-transparent md:p-0 rounded-[24px]",i),children:(0,g.jsx)(ej,{...n,...p.P,ref:t,className:"relative z-10 flex w-full shrink-0 flex-col overflow-hidden scroll-smooth border-0 bg-gray-600 p-1.5 shadow-[0_20px_30px_0_rgba(0,0,0,0.3)]",animate:{maxWidth:eR.S$?390:l?"100%":a||o?784:390},transition:{duration:.3,bounce:.1,type:"spring"},sx:e=>({zIndex:e.zIndex.drawer+10}),style:{borderRadius:24,maxWidth:l?"100%":390}})})}),eP=(0,s.forwardRef)((e,t)=>{let{isExpanded:a,inputValue:r,isDesktop:s,className:i,...n}=e,{isBelowXL:l}=(0,er.Qs)();return(0,g.jsx)("div",{id:"search-root",className:(0,w.cn)("sticky top-0 z-10 -mx-4 bg-gray-950 p-4 md:mx-0 md:bg-transparent md:p-0 rounded-[24px]",i),children:(0,g.jsx)(ej,{...n,...p.P,ref:t,className:"relative z-10 flex w-full flex-col overflow-hidden scroll-smooth border-0 p-1.5 rounded-[24px] min-w-[280px]",animate:{width:eR.S$?280:l?"100%":a?784:280},transition:{duration:.3,bounce:0,type:"spring"},sx:e=>({zIndex:e.zIndex.drawer+10,...a?{backgroundColor:e.palette.background.mediumLowEmphasis.main}:{boxShadow:"1.1px 2.2px 0.5px -1.8px rgba(255, 255, 255, 0.8) inset, -1px -2.2px 0.5px -1.8px rgba(255, 255, 255, 0.4) inset, 2px 3px 2px 0px rgba(0, 0, 0, 0.1) inset, 10px 15px 10px 0px rgba(0, 0, 0, 0.2) inset, -10px -15px 10px 0px rgba(255, 255, 255, 0.02) inset"}})})})}),eM=e=>{let{onClick:t}=e;return(0,g.jsx)(m.P.button,{type:"button","aria-label":"Search",onClick:t,className:"flex h-6 w-6 shrink-0 items-center justify-center text-gray-100 transition-opacity hover:opacity-75",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,g.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M16.6302 16C18.0834 14.7435 19 12.9052 19 10.8571C19 7.07005 15.866 4 12 4C8.13401 4 5 7.07005 5 10.8571C5 14.6442 8.13401 17.7143 12 17.7143C13.7753 17.7143 15.3962 17.0669 16.6302 16ZM16.6302 16L19 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},"search-button")};var eF=a(12524),eL=a(19496),eO=a(27170);let eD=()=>(0,g.jsxs)("div",{className:"flex flex-col gap-6 py-3 px-4",children:[(0,g.jsx)(eO.A,{className:"h-3 w-16 brightness-125"}),(0,g.jsx)("div",{className:"flex flex-col gap-4",children:[0,1,2].map(e=>(0,g.jsxs)("div",{className:"flex origin-left items-center gap-2.5",children:[(0,g.jsx)(eO.A,{className:"h-8 w-8 brightness-125"}),(0,g.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,g.jsx)(eO.A,{className:"h-3 w-32 brightness-125"}),(0,g.jsx)(eO.A,{className:"h-3 w-48 brightness-125"})]})]},e))})]}),ez=e=>{let{referenceUrl:t,isMobile:a,openSongMatch:r}=e,{t:i}=(0,S.Bd)("global-search"),n=(0,O.A)(),l=(0,o.Xr)(U._),c=()=>{(0,b.SL)({buttonName:a?i("musicSearch.songMatch.mainSearchBarSuggestion.mobileButton"):i("musicSearch.songMatch.mainSearchBarSuggestion.desktopButton"),component:b.Dz.ASSET_SEARCH_BAR}),l(b.Dz.SEARCH_REFERENCE_BANNER),r(t)};return((0,s.useEffect)(()=>{(0,b.eO)({buttonName:"search reference",component:b.Dz.ASSET_SEARCH_BAR})},[]),a)?(0,g.jsxs)("div",{className:"pt-61 pb-4 pl-2 flex flex-col items-center gap-1.5 text-gray-100",children:[(0,g.jsx)("h3",{children:i("musicSearch.songMatch.mainSearchBarSuggestion.question")}),(0,g.jsxs)("button",{className:"flex text-sm items-center gap-1.5 text-medium-emphasis border border-stroke-medium-emphasis rounded-full px-4 py-2.5",type:"button",onClick:c,children:[i("musicSearch.songMatch.mainSearchBarSuggestion.mobileButton"),(0,g.jsx)(k.E,{fill:n.palette.grey[100]})]})]}):(0,g.jsxs)("div",{className:"pt-6 pb-4 pl-2 flex items-center gap-1.5 text-gray-100",children:[(0,g.jsx)("span",{children:i("musicSearch.songMatch.mainSearchBarSuggestion.question")}),(0,g.jsxs)("button",{className:"flex items-center gap-1.5 text-high-emphasis",type:"button",onClick:c,children:[i("musicSearch.songMatch.mainSearchBarSuggestion.desktopButton"),(0,g.jsx)(k.E,{fill:n.palette.grey[50]})]})]})},eV=(0,s.forwardRef)((e,t)=>{let{children:a}=e;return(0,g.jsx)("div",{"data-testid":"SearchContainer",className:"h-12 w-full",ref:t,children:a})}),eH=(0,s.forwardRef)((e,t)=>{let{children:a,className:r}=e;return(0,g.jsx)("div",{ref:t,className:(0,w.cn)("flex w-full items-center pr-2",r),children:a})}),eU=e=>{let{children:t}=e;return(0,g.jsx)("div",{"data-testid":"SearchControlsContainer",className:"flex gap-2 items-center",children:t})},e$={type:"spring",duration:.4,bounce:.15},eB=e=>{let{options:t,isClearable:a,isLoading:d,onChange:h,getOptionKey:m,getOptionLabel:p,assetSelectSlot:v,handleSearchClick:S,isAssetSelectFocused:E,placeholder:b="Search",musicPlaceholder:w,shouldShowTrendingSearchTerms:N=!1,assetType:I,isAssetSearchLoading:j=!1,referenceUrl:k}=e,[{inputValue:F,isAutocompleteVisible:L,...O},D]=(0,y.ML)(),z={inputValue:F,searchValue:[],assetType:I},{trackAutocompleteViewed:V,trackSectionView:H,autocompleteId:U}=(0,eL.P)(),{isBelowMD:$,isBelowXL:B}=(0,er.Qs)(),[J,G]=(0,o.fp)(X.ve),Z=(0,o.Xr)(y.af),Y=(0,o.Xr)(X.dk),W=(0,ee.Y)(),{result:q}=(0,et.rA)({referenceUrl:(0,T.tD)(W)}),eo=(0,s.useRef)(null),ec=(0,i.usePathname)(),eu=(0,i.useSearchParams)();(()=>{let e=(0,i.usePathname)(),[,t]=(0,y.ML)();(0,s.useEffect)(()=>{t({type:"SET_AUTO_COMPLETE_VISIBILITY",payload:!1})},[e])})(),(()=>{let[{inputValue:e},t]=(0,y.ML)(),a=(0,i.useSearchParams)(),n=null==a?void 0:a.get("terms"),l=(0,s.useRef)(e);(0,s.useEffect)(()=>{l.current=e}),(0,s.useEffect)(()=>{let e=l.current;(0,r.YW)({inputValue:e,termsParam:n,isNewTerm:void 0===e||n!==e}).with({termsParam:r.P.string,isNewTerm:!0},e=>{let{termsParam:a}=e;t({type:"SET_INPUT_VALUE",payload:a})}).with({termsParam:r.P.nullish,inputValue:r.P.string},()=>{t({type:"RESET_INPUT_VALUE"})}).otherwise(()=>{})},[t,n])})(),(()=>{let[,e]=(0,y.ML)(),t=(0,i.useSearchParams)();(0,s.useEffect)(()=>{null!=t&&t.get("terms")||e({type:"RESET_INPUT_VALUE"})},[])})();let{getRootProps:ed,getInputProps:eh,getListboxProps:em,getClearProps:ep,getOptionProps:eg,groupedOptions:ex,focused:eC,setAnchorEl:ef,anchorEl:e_}=(0,l.A)({options:t,onHighlightChange:(e,t,a)=>{"keyboard"===a&&D({type:"SET_HIGHLIGHTED_OPTION",payload:t})},onInputChange:(e,t,a)=>{if("reset"!==a&&"selectOption"!==a&&(D({type:"SET_INPUT_VALUE",payload:t}),"clear"===a&&eu)){let e=new URLSearchParams(eu.toString());e.delete("terms"),window.history.replaceState(null,"",`${ec}?${e.toString()}`)}},onOpen:()=>{D({type:"SET_AUTO_COMPLETE_VISIBILITY",payload:!0})},groupBy:e=>(0,eF.KG)(e)?e.group:"",filterOptions:e=>e.filter(e=>!!(0,eF.KG)(e)&&(!(null!=F&&F.length)&&N?"Trending searches"===e.group:"Trending searches"!==e.group)),clearOnEscape:!0,openOnFocus:!0,inputValue:void 0===F?"":F,freeSolo:!0,open:L,onChange:(e,t,a,r)=>{h(e,t,a,r),D({type:"SET_HIGHLIGHTED_OPTION",payload:""}),"clear"===a&&(0,es.yx)()},getOptionLabel:p,getOptionKey:m,includeInputInList:!0}),{onFocus:ev,...eS}=eh(),eE=eC||E||B||J,eb=ex.length>0||!!k,ew=eE&&L&&eb,eA="music"===I&&eE&&!F&&!O.highlightedOption,eN="music"===I,eI=ec.endsWith(A.JZ.songMatch)&&"success"===q.status,eR=ec===A.JZ.music;(0,s.useEffect)(()=>{ew&&t.length>0&&V(z)},[t,ew]),(e=>{let[{highlightedOption:t}]=(0,y.ML)();(0,s.useEffect)(()=>{t&&(0,ey.Pk)(t)&&e&&"object"==typeof e&&"current"in e&&e.current&&(e.current.value=t.value)},[t])})(eS.ref);let ej=()=>eE?b:"Search",eO=(0,s.useCallback)(()=>{L&&D({type:"SET_AUTO_COMPLETE_VISIBILITY",payload:!1})},[L]),eB=e=>{null==ev||ev(e),D({type:"SET_AUTO_COMPLETE_VISIBILITY",payload:!0})},eG=e=>{if((0,eF.sN)(e)){var t,a;let r=null==(t=e.options[0])||null==(a=t.position)?void 0:a.sectionPosition;H(z,e,r)}},{status:eZ}=(0,ea.g)(),eY=e=>{e&&Y(e),Z(!1),G(!0)},eW=()=>{Y(""),G(!1),D({type:"SET_SEARCH_TERM",payload:""})},eq=()=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(el,{...em(),children:k?(0,g.jsx)(ez,{referenceUrl:k,openSongMatch:eY,isMobile:$}):ex.filter(eF.KG).map(e=>{let t=`${U}-${e.key}`;return(0,g.jsx)(eT,{getOptionProps:eg,group:e,inputValue:F??"",onFirstView:eG},t)})}),j&&!k?(0,g.jsx)(eD,{}):null]}),eX=(0,g.jsx)(c.x,{transition:{duration:0},children:(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)(ek,{...ed(),inputValue:F,isExpanded:!0,className:"pb-0",children:(0,g.jsxs)(eH,{ref:ef,children:[(0,g.jsxs)(u.N,{initial:!1,mode:"popLayout",children:[v,(0,g.jsx)(f,{onClick:S,className:"ml-1"})]}),(0,g.jsx)(en,{...eS,placeholder:ej(),onFocus:eB,"aria-label":"Search"}),(0,g.jsx)(c.x,{transition:{duration:.1,layout:e$},children:(0,g.jsxs)(eU,{children:[d?(0,g.jsx)(C.I,{}):null,a?(0,g.jsx)(x,{...ep()}):null,"music"===I?(0,g.jsx)(_.J,{isWide:!1,onClick:()=>eY(),shouldShowTooltip:!1}):null]})})]})}),(0,r.YW)({isMusicPlaceholderVisible:eA,isAutocompleteVisible:L}).with({isMusicPlaceholderVisible:!0,isAutocompleteVisible:!0},()=>w).with({isMusicPlaceholderVisible:!0,isAutocompleteVisible:!1},()=>(0,g.jsx)(P,{onCtaClick:eY})).otherwise(()=>null),eq(),(0,r.YW)({isBelowMD:$}).with({isBelowMD:!0},()=>(0,g.jsx)(K,{isOpen:J,onClose:eW})).with({isBelowMD:!1},()=>(0,g.jsx)(Q.I,{isOpen:J,onClose:eW,anchorElement:e_})).exhaustive()]})}),eK=(0,r.YW)({isSongMatchSearchActive:eI,trackInfoResult:q,toolkitNavFlagStatus:eZ}).with({isSongMatchSearchActive:!0,trackInfoResult:{status:"success"}},e=>{let{trackInfoResult:{data:t}}=e;return(0,g.jsx)(ek,{...ed(),isExpanded:!0,className:"bg-[#1F1F1F]",children:(0,g.jsxs)("div",{className:"flex gap-4 items-center justify-between w-full max-w-full",children:[(0,g.jsx)(R,{trackInfo:t}),(0,g.jsx)(_.J,{isWide:!1,shouldShowTooltip:!1,onClick:()=>eY()})]})})}).with({toolkitNavFlagStatus:"enabled"},()=>(0,g.jsxs)(eP,{...ed(),isExpanded:eE,inputValue:F,children:[(0,g.jsxs)(eH,{ref:ef,className:eN?"pr-1":"",children:[(0,g.jsx)(u.N,{initial:!1,mode:"popLayout",children:eE?v:null}),eA&&w,(0,g.jsx)(f,{onClick:S,className:"ml-2 cursor-pointer"}),(0,g.jsx)(en,{...eS,placeholder:ej(),onFocus:eB,"aria-label":"Search"}),(0,g.jsx)(c.x,{transition:{duration:.1,layout:e$},children:(0,g.jsxs)(eU,{children:[eE&&(0,g.jsxs)(g.Fragment,{children:[d?(0,g.jsx)(C.I,{}):null,a?(0,g.jsx)(x,{...ep()}):null,(0,g.jsx)(M.h4,{children:(0,g.jsx)(eM,{onClick:S})})]}),eN&&(0,g.jsx)(_.J,{isWide:!1,shouldShowTooltip:!eE&&!F&&eR,onClick:()=>eY()})]})})]}),(0,g.jsx)(ei.l,{transition:{duration:.3*!!eE,bounce:0,type:"spring"},debounceTimeMs:0,children:ew?eq():null})]})).otherwise(()=>(0,g.jsxs)(ek,{...ed(),isExpanded:eE,inputValue:F,children:[(0,g.jsxs)(eH,{ref:ef,className:eN?"pr-1":"",children:[(0,g.jsx)(u.N,{initial:!1,mode:"popLayout",children:eE||null!=F&&F.length?v:null}),eA&&w,(0,g.jsx)(f,{onClick:S,className:"ml-2 cursor-pointer"}),(0,g.jsx)(en,{...eS,placeholder:ej(),onFocus:eB,"aria-label":"Search"}),(0,g.jsx)(c.x,{transition:{duration:.1,layout:e$},children:(0,g.jsxs)(eU,{children:[d?(0,g.jsx)(C.I,{}):null,a?(0,g.jsx)(x,{...ep()}):null,(0,g.jsx)(eM,{onClick:S}),eN&&(0,g.jsx)(_.J,{isWide:!eE&&!F&&eR,shouldShowTooltip:!eE&&!F&&eR,onClick:()=>eY()})]})})]}),(0,g.jsx)(ei.l,{transition:{duration:.3,bounce:.1,type:"spring"},debounceTimeMs:0,children:ew?eq():null})]})),eQ=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(c.x,{transition:{layout:e$,type:"spring",bounce:.15,duration:.4},children:[(0,g.jsx)(Q.I,{isOpen:J,onClose:eW,anchorElement:eo.current}),(0,g.jsx)(eV,{ref:eo,children:(0,g.jsx)(n.x,{onClickAway:eO,children:eK})})]}),"enabled"===eZ&&eE&&(0,g.jsx)(eJ,{})]}),e0=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n.x,{onClickAway:eO,children:eK}),"enabled"===eZ?null:(0,g.jsx)(Q.I,{isOpen:J,onClose:eW,anchorElement:eo.current})]});return(0,r.YW)({isBelowMD:$,isBelowXL:B}).with({isBelowMD:!0},()=>eX).with({isBelowXL:!0},()=>e0).otherwise(()=>eQ)},eJ=()=>(0,g.jsx)("div",{className:"bg-black opacity-60 fixed h-[100vh] w-[100vw] top-0 left-0"}),eG=e=>(0,r.YW)(e).returnType().with(r.zJ.string,e=>e).with({includedId:r.zJ.string},e=>`included-${e.includedId}`).with({excludedId:r.zJ.string},e=>`excluded-${e.excludedId}`).with({group:"AutoComplete",value:r.zJ.string},e=>`suggestion-${e.value}`).with({group:"Trending searches",value:r.zJ.string},e=>`trending-${e.value}`).with({group:"Artists",Id:r.zJ.union(r.zJ.number,r.zJ.string)},e=>`artist-${e.Id}`).with({group:"Albums",Id:r.zJ.union(r.zJ.number,r.zJ.string)},e=>`album-${e.Id}`).with({group:"Songs",Id:r.zJ.union(r.zJ.number,r.zJ.string)},e=>`song-${e.Id}`).with({group:"Packs",Id:r.zJ.union(r.zJ.number,r.zJ.string)},e=>`pack-${e.Id}`).with({group:"Filmmakers",id:r.zJ.union(r.zJ.number,r.zJ.string)},e=>`filmmaker-${e.id}`).with({group:"Collections",id:r.zJ.union(r.zJ.number,r.zJ.string)},e=>`collection-${e.id}`).with({group:"Lyrics",SongId:r.zJ.union(r.zJ.number,r.zJ.string)},e=>`lyrics-${e.SongId}`).with({group:"Categories",Id:r.zJ.union(r.zJ.number,r.zJ.string)},e=>`category-${e.Id}`).with({group:"toggle Packs"},e=>`${"expanded"===e.expandedStatus?"expand":"collapse"} Packs`).with({group:"toggle Artists"},e=>`${"expanded"===e.expandedStatus?"expand":"collapse"} Artists`).with({group:"toggle Albums"},e=>`${"expanded"===e.expandedStatus?"expand":"collapse"} Albums`).with({group:"toggle Songs"},e=>`${"expanded"===e.expandedStatus?"expand":"collapse"} Songs`).with({group:"toggle Collections"},e=>`${"expanded"===e.expandedStatus?"expand":"collapse"} Collections`).with({group:"toggle Categories"},e=>`${"expanded"===e.expandedStatus?"expand":"collapse"} Categories`).with({group:"toggle Lyrics"},e=>`${"expanded"===e.expandedStatus?"expand":"collapse"} Lyrics`).with({group:"toggle Filmmakers"},e=>`${"expanded"===e.expandedStatus?"expand":"collapse"} Filmmakers`).with({group:"toggle Sounds"},e=>`${"expanded"===e.expandedStatus?"expand":"collapse"} Sounds`).otherwise(e=>(console.warn("Could not find a key for option in search:",e),"")),eZ=e=>(0,r.YW)(e).returnType().with(r.zJ.string,e=>e).with({includedId:r.zJ.string},e=>e.label).with({excludedId:r.zJ.string},e=>e.label).with({group:r.zJ.union("AutoComplete","Trending searches"),value:r.zJ.string},e=>e.value).with({group:r.zJ.union("Artists","Albums","Songs","Collections","Categories","Sounds","Packs"),Name:r.zJ.string},e=>e.Name).with({group:"Lyrics",SongName:r.zJ.any},e=>e.Lyrics).otherwise(()=>""),eY=e=>{let t={...e,getOptionKey:eG,getOptionLabel:eZ};return(0,g.jsx)(eB,{...t})}},98456:(e,t,a)=>{a.d(t,{I:()=>h,_1:()=>d,Ku:()=>m});var r=a(24990),s=a(26538);let i=`
filmMakerId
filmMakerNameForUrl
`,n=`
availableFormats {
  id
  displayName
}
`,l=`
id
clipName
clipNameForUrl
thumbnailUrl
clipPath
isInFavorites
isInDownloadHistory
isNew
isVfx
isInFolder
filmMakerDisplayName
storyId
storyNameForURL
isLicensed
isOriginal
storyName
duration
width
height
orientation
isMadeWithAi
`,o=`
query ClipList($filterCategories: [Int!], $searchTerms: [String], $sortType: Int, $queryType: Int, $page: Int, $durationMin: Int, $durationMax: Int, $orientation: ClipOrientation, $includeAIContent: Boolean) {
  clipList(filterCategories: $filterCategories, searchTerms: $searchTerms, sortType: $sortType, queryType: $queryType, page: $page, durationMin: $durationMin, durationMax: $durationMax, orientation: $orientation, includeAIContent: $includeAIContent) {
    querySearchType
    exactResults {
      ${l}
      ${n}
      ${i}
    }
    similarResults {
      ${l}
    }
    totalExact
    totalSimilar
    topDownloadedClipsCount
    totalLexicalResults
    totalSemanticResults
  }
}
`,c=`
  query MenuSearch($searchTerm: String!, $assetType: String!, $take: Int!, $page: Int!) {
    menuSearch(searchTerm: $searchTerm, assetType: $assetType, take: $take, page: $page) {
      Filmmakers {
        Id
        Name
        ImgUrl
        Url
      }
      Collections {
        id
        name
        thumbFileUrl
        collectionUrl
      }
      Autosuggest {
        value
        recomType
      }
    }
  }
`,u=`
query Stories($storyId: Int!, $page: Int!) {
    story(id: $storyId, page: $page) {
      id
      name
      isMadeWithAi
      clips {
        isMadeWithAi
        id
        clipName
        taggedName
        clipNameForUrl
        thumbnailUrl
        imageUrl
        clipPath
        isInCart
        isInFavorites
        isInDownloadHistory
        tags {
          id
          name
          displayOrder
        }
        isNew
        isVfx
        isInFolder
        filmMakerId
        filmMakerDisplayName
        filmMakerUrl
        filmMakerNameForUrl
        storyId
        storyNameForURL
        ratio
        height
        width
        orientation
        isLicensed
        isOriginal
        highQualityFormat
        hdFormat
        albumRoyaltyType
        artistRoyaltyType
        groupId
        thumbnail
        topTenThumbnail
        videoUrl
        displayOrder
        storyName
        storyImageFilePath
        durationTime
        duration
        lastDownloadDate
        collectionTypeCategoryClipOrder
        publishTime
        noResultType
        onAirDate
        availableFormats {
          id
          displayName
        }
      }
      filmMakerName
      filmMakerId
      filmMakerUrl
      filmMakerNameForUrl
      totalClipCount
      isInFavorites
      thumbnailUrl
      nameForUrl
      isNew
      isVfx
      coverImage
      profileImage
      downloads
      isLicensed
      isOriginal
      categories {
        id
        name
      }
      cameraList {
        id
        name
      }
      tagList {
        id
        name
      }
    }
  }
`,d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(await s.wr.query(c,{searchTerm:e,assetType:r.od.footage,take:t,page:1})).menuSearch},h=async e=>s.wr.query(o,e).then(e=>e.clipList),m=async e=>s.wr.query(u,e).then(e=>e.story)},99063:(e,t,a)=>{a.d(t,{P:()=>r});let r={onDrag:void 0,onDragEnd:void 0,onDragStart:void 0,onAnimationStart:void 0}},99320:(e,t,a)=>{a.d(t,{I:()=>A});var r=a(70027),s=a(57535),i=a(7620),n=a(91608),l=a(439),o=a(3548),c=a(81821),u=a(81690),d=a(3164),h=a(7701),m=a(16443),p=a(54568);let g=e=>{let{isLoading:t,onClick:a}=e,{t:r}=(0,l.Bd)("global-search"),s=t?"#404040 !important":"#FFDA2A !important";return(0,p.jsxs)("div",{className:"flex items-center gap-4",children:[t&&(0,p.jsx)(m.I,{}),(0,p.jsx)(h.A,{variant:"contained",color:"primary",disableElevation:!0,disabled:t,onClick:a,sx:{backgroundColor:s,borderRadius:"8px",boxShadow:"none","&:hover":{backgroundColor:s,boxShadow:"none"}},children:r("musicSearch.songMatch.popover.searchButton")})]})},x=()=>(0,p.jsxs)("svg",{width:"71",height:"20",viewBox:"0 0 71 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("mask",{id:"mask0_1289_35550",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"71",height:"20",children:(0,p.jsx)("path",{d:"M0.770264 0.527065H70.0295V19.4727H0.770264V0.527065Z",fill:"white"})}),(0,p.jsx)("g",{mask:"url(#mask0_1289_35550)",children:(0,p.jsx)("path",{d:"M51.8513 12.9582C51.6547 13.0667 51.397 13.1549 51.0444 13.1549C50.4884 13.1549 50.1357 12.8294 50.1357 12.1106V9.43882H51.831C51.8921 9.43882 51.9259 9.40493 51.9259 9.34395V7.98772C51.9259 7.92674 51.8921 7.89277 51.831 7.89277H50.1357V6.12298C50.1357 6.04838 50.0883 6.00767 50.0205 6.06192L46.9894 8.44888C46.9486 8.48278 46.9351 8.51667 46.9351 8.57092V9.34395C46.9351 9.40493 46.969 9.43882 47.0301 9.43882H48.2099V12.3954C48.2099 13.9957 49.1322 14.7416 50.4477 14.7416C51.0173 14.7416 51.5666 14.5924 51.8921 14.4026C51.9395 14.3754 51.9463 14.3483 51.9463 14.3008V13.0125C51.9463 12.9447 51.9124 12.9243 51.8513 12.9582ZM54.4078 7.89277H52.6718C52.6108 7.89277 52.5769 7.92674 52.5769 7.98772V14.5517C52.5769 14.6128 52.6108 14.6467 52.6718 14.6467H54.4078C54.4688 14.6467 54.5027 14.6128 54.5027 14.5517V7.98772C54.5027 7.92674 54.4688 7.89277 54.4078 7.89277ZM68.0301 8.7113H67.8314V8.48051H68.0378C68.0989 8.48051 68.146 8.48993 68.1793 8.50885C68.2123 8.52777 68.2289 8.55747 68.2289 8.59784C68.2289 8.6356 68.2116 8.66403 68.1773 8.68295C68.1429 8.70188 68.0938 8.7113 68.0301 8.7113ZM68.355 8.79465C68.4238 8.74418 68.4582 8.67732 68.4582 8.59397C68.4582 8.50826 68.4245 8.44014 68.357 8.38967C68.2895 8.33921 68.192 8.31397 68.0645 8.31397H67.6135V9.25631H67.8314V8.8817H67.9501L68.2365 9.25631H68.5042L68.1906 8.85916C68.2573 8.8462 68.3131 8.82543 68.355 8.79465ZM53.5331 4.81419C52.8821 4.81419 52.4074 5.27535 52.4074 5.88563C52.4074 6.49591 52.8821 6.95699 53.5331 6.95699C54.1976 6.95699 54.6722 6.49591 54.6722 5.88563C54.6722 5.27535 54.1976 4.81419 53.5331 4.81419ZM68.7431 9.24689C68.6704 9.37432 68.5697 9.47398 68.4411 9.54589C68.3124 9.61781 68.1664 9.65372 68.0034 9.65372C67.8377 9.65372 67.6905 9.61781 67.5619 9.54589C67.4331 9.47398 67.3331 9.37432 67.2617 9.24689C67.1904 9.11947 67.1548 8.97506 67.1548 8.81357C67.1548 8.65209 67.1904 8.50826 67.2617 8.38202C67.3331 8.25594 67.4331 8.15686 67.5619 8.08495C67.6905 8.01304 67.8377 7.97704 68.0034 7.97704C68.1664 7.97704 68.3124 8.01304 68.4411 8.08495C68.5697 8.15686 68.6704 8.25661 68.7431 8.38395C68.8157 8.51137 68.852 8.65587 68.852 8.81736C68.852 8.97632 68.8157 9.11947 68.7431 9.24689ZM68.9055 8.29127C68.8163 8.13735 68.6927 8.01682 68.5347 7.92977C68.3767 7.84272 68.1996 7.79924 68.0034 7.79924C67.8071 7.79924 67.63 7.84272 67.472 7.92977C67.314 8.01682 67.1904 8.13735 67.1012 8.29127C67.012 8.44518 66.9674 8.61928 66.9674 8.81357C66.9674 9.00534 67.012 9.17818 67.1012 9.33209C67.1904 9.48601 67.314 9.60645 67.472 9.6935C67.63 9.78055 67.8071 9.82404 68.0034 9.82404C68.1996 9.82404 68.3767 9.78055 68.5347 9.6935C68.6927 9.60645 68.8163 9.48601 68.9055 9.33209C68.9947 9.17818 69.0393 9.00534 69.0393 8.81357C69.0393 8.61928 68.9947 8.44518 68.9055 8.29127ZM43.1852 13.148C42.1342 13.148 41.3882 12.3479 41.3882 11.2698C41.3882 10.1916 42.1342 9.39139 43.1852 9.39139C44.2295 9.39139 44.9754 10.1916 44.9754 11.2698C44.9754 12.3479 44.2295 13.148 43.1852 13.148ZM43.1785 7.73002C40.9814 7.73002 39.4692 9.28289 39.4692 11.2698C39.4692 13.243 40.9814 14.8094 43.1785 14.8094C45.3687 14.8094 46.8944 13.243 46.8944 11.2698C46.8944 9.28289 45.3687 7.73002 43.1785 7.73002ZM66.6068 7.89277H64.8709C64.8098 7.89277 64.7828 7.90639 64.7556 7.96737L63.0061 12.1716L61.2498 7.96737C61.2227 7.90639 61.1956 7.89277 61.1345 7.89277H58.3272V7.44523C58.3272 6.71291 58.8222 6.37387 59.4596 6.37387C59.8394 6.37387 60.253 6.57051 60.5446 6.7468C60.6124 6.78751 60.6598 6.73999 60.6327 6.67901L60.0225 5.2211C60.0021 5.17366 59.975 5.14649 59.9275 5.11941C59.6292 4.96339 59.1409 4.82781 58.6662 4.82781C57.2287 4.82781 56.4014 5.92634 56.4014 7.32319V7.89277H55.2486C55.1876 7.89277 55.1537 7.92674 55.1537 7.98772V9.34395C55.1537 9.40493 55.1876 9.43882 55.2486 9.43882H56.4014V14.5517C56.4014 14.6128 56.4353 14.6467 56.4963 14.6467H58.2322C58.2933 14.6467 58.3272 14.6128 58.3272 14.5517V9.43882H59.8123L61.9686 14.1245L60.809 16.6742C60.7751 16.7488 60.8158 16.7827 60.8836 16.7827H62.7348C62.7959 16.7827 62.823 16.7691 62.8501 16.7081L66.6814 8.00126C66.7086 7.94028 66.6746 7.89277 66.6068 7.89277ZM35.4481 13.1278C34.5395 13.1278 33.7529 12.2326 33.4409 11.2426C33.7529 10.1983 34.4717 9.3982 35.4481 9.3982C36.3771 9.3982 37.0213 10.1034 37.0213 11.2562C37.0213 12.4089 36.3771 13.1278 35.4481 13.1278ZM35.9499 7.77073C34.6615 7.77073 33.9156 8.5573 33.4816 9.34395V7.98772C33.4816 7.92674 33.4477 7.89277 33.3867 7.89277H31.6846C31.6236 7.89277 31.5897 7.92674 31.5897 7.98772V16.6878C31.5897 16.7488 31.6236 16.7827 31.6846 16.7827H33.3867C33.4477 16.7827 33.4816 16.7488 33.4816 16.6878V13.2091C33.9156 13.9957 34.648 14.7687 35.9635 14.7687C37.6994 14.7687 38.9471 13.2702 38.9471 11.2562C38.9471 9.24218 37.6858 7.77073 35.9499 7.77073ZM28.1992 9.12014L27.5618 8.93031C26.2802 8.55057 25.9208 8.40817 25.9208 7.89277C25.9208 7.40461 26.4633 6.87566 27.6567 6.87566C28.8366 6.87566 29.8334 7.45204 30.3488 7.87922C30.437 7.95383 30.5319 7.91993 30.5319 7.80462V6.11617C30.5319 6.04156 30.5116 6.00094 30.4573 5.96023C29.8199 5.48553 28.7145 5.13968 27.6025 5.13968C25.3376 5.13968 23.9815 6.42812 23.9815 7.89277C23.9815 9.54732 25.0325 10.1237 26.7616 10.612L27.5076 10.8222C28.8027 11.1883 29.04 11.5138 29.04 12.0156C29.04 12.8565 28.4027 13.1141 27.4533 13.1141C26.2598 13.1141 24.8019 12.4157 24.117 11.5614C24.056 11.4868 23.9815 11.5206 23.9815 11.6088V13.4668C23.9815 13.5414 23.9882 13.5753 24.0424 13.6363C24.612 14.2602 25.9751 14.8094 27.5618 14.8094C29.5147 14.8094 30.9794 13.6702 30.9794 11.9071C30.9794 10.5374 30.1725 9.71007 28.1992 9.12014ZM17.7613 9.14723C17.5847 9.48677 17.2176 9.6628 16.859 9.61242C16.7627 9.59888 16.667 9.56902 16.5758 9.52159C14.9187 8.65991 13.1338 8.09025 11.2708 7.82834C9.40786 7.5666 7.53513 7.62219 5.70462 7.99378C5.22874 8.09025 4.7648 7.78292 4.66824 7.30713C4.57169 6.83133 4.8791 6.3674 5.3549 6.27076C7.38163 5.85939 9.45429 5.79774 11.5155 6.0874C13.5767 6.37707 15.5521 7.0077 17.3869 7.96173C17.8177 8.1858 17.9852 8.71651 17.7613 9.14723ZM16.4209 11.8703C16.2332 12.2172 15.7997 12.3465 15.4528 12.1587C14.0295 11.3888 12.4887 10.8833 10.8733 10.6563C9.25806 10.4293 7.63765 10.4905 6.05719 10.8382C5.97165 10.857 5.88628 10.8597 5.80436 10.8482C5.51731 10.8078 5.27213 10.5939 5.20619 10.2942C5.12141 9.90899 5.36499 9.52789 5.7502 9.4432C7.49736 9.05866 9.28792 8.99095 11.0722 9.24168C12.8565 9.49249 14.559 10.0511 16.1324 10.9023C16.4794 11.09 16.6085 11.5233 16.4209 11.8703ZM15.2115 14.2859C15.0968 14.4875 14.8738 14.5887 14.6573 14.5584C14.5905 14.5489 14.5244 14.527 14.4622 14.4917C13.246 13.7993 11.9206 13.3486 10.5226 13.1522C9.12475 12.9557 7.72638 13.0236 6.36645 13.3539C6.07157 13.4254 5.77451 13.2444 5.70285 12.9495C5.63127 12.6547 5.81227 12.3576 6.10707 12.286C7.60258 11.9229 9.13964 11.8482 10.6755 12.0641C12.2115 12.2799 13.6685 12.7754 15.0058 13.5366C15.2695 13.6867 15.3616 14.0223 15.2115 14.2859ZM11.3271 0.805634C6.24921 0.604113 1.96916 4.55724 1.76763 9.63513C1.56603 14.7136 5.51932 18.9932 10.5973 19.1948C15.6754 19.3964 19.9552 15.4434 20.1568 10.3649C20.3584 5.28704 16.4052 1.00715 11.3271 0.805634Z",fill:"#1ED760"})})]});var C=a(63015);let f=()=>(0,p.jsxs)("svg",{width:"74",height:"22",viewBox:"0 0 74 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{d:"M13.7129 18.6738C13.7543 18.6738 20.5746 18.6727 22.2793 18.2158C23.2224 17.9637 23.9646 17.2203 24.2168 16.2773C24.6731 14.5749 24.6758 11.0304 24.6758 11C24.6758 11 24.675 7.43257 24.2168 5.72266C23.9647 4.77949 23.2225 4.03639 22.2793 3.78418C20.5746 3.32739 13.7543 3.32618 13.7129 3.32617C13.7129 3.32617 6.85638 3.326 5.14648 3.78418C4.20325 4.03632 3.46011 4.7794 3.20801 5.72266C2.74988 7.43263 2.75 11 2.75 11C2.75001 11.0304 2.7518 14.5749 3.20801 16.2773C3.46014 17.2205 4.20323 17.9638 5.14648 18.2158C6.85638 18.6741 13.7129 18.6738 13.7129 18.6738Z",fill:"#FF0033"}),(0,p.jsx)("path",{d:"M11.52 14.2881L17.2162 10.9993L11.52 7.7104V14.2881Z",fill:"white"}),(0,p.jsx)("path",{d:"M37.0044 15.7138C37.1244 15.4005 37.1847 14.8883 37.1847 14.1775V11.1825C37.1847 10.4927 37.1244 9.98847 37.0044 9.66954C36.8842 9.3508 36.6725 9.19127 36.3694 9.19127C36.0767 9.19127 35.8701 9.3508 35.75 9.66954C35.6298 9.98847 35.5697 10.4927 35.5697 11.1825V14.1775C35.5697 14.8883 35.6271 15.4005 35.7423 15.7138C35.8571 16.0276 36.0661 16.1842 36.3694 16.1842C36.6725 16.1842 36.8842 16.0276 37.0044 15.7138ZM34.5742 17.2191C34.1402 16.9268 33.8317 16.4719 33.6491 15.855C33.4661 15.2384 33.3748 14.4178 33.3748 13.3934V11.9979C33.3748 10.9631 33.4791 10.132 33.6882 9.50491C33.8972 8.87774 34.2237 8.42055 34.6682 8.133C35.1124 7.84564 35.6952 7.70181 36.4165 7.70181C37.1273 7.70181 37.6969 7.84825 38.1255 8.14081C38.554 8.43346 38.8676 8.89094 39.0663 9.51274C39.2647 10.1348 39.3641 10.9631 39.3641 11.9979V13.3934C39.3641 14.4178 39.2674 15.2411 39.0741 15.8629C38.8806 16.4849 38.567 16.9397 38.1333 17.227C37.6994 17.5144 37.1116 17.6582 36.3694 17.6582C35.6062 17.6582 35.0077 17.5117 34.5742 17.2191Z",fill:"white"}),(0,p.jsx)("path",{d:"M68.1509 9.43998C68.0414 9.5759 67.9679 9.79803 67.9315 10.1063C67.8947 10.4147 67.8768 10.8824 67.8768 11.5096V12.1995H69.4601V11.5096C69.4601 10.893 69.4392 10.4252 69.3975 10.1063C69.3556 9.78753 69.28 9.56292 69.1703 9.43215C69.0604 9.30145 68.8905 9.23609 68.6606 9.23609C68.4305 9.23609 68.2607 9.30419 68.1509 9.43998ZM67.8768 13.4852V13.9713C67.8768 14.5882 67.8947 15.0507 67.9315 15.3589C67.9679 15.6673 68.0435 15.8921 68.1589 16.0333C68.2738 16.1742 68.4513 16.2449 68.692 16.2449C69.0158 16.2449 69.2381 16.1195 69.3583 15.8685C69.4784 15.6177 69.5437 15.1996 69.5542 14.6141L71.4201 14.7239C71.4306 14.8078 71.4358 14.9227 71.4358 15.0688C71.4358 15.9575 71.1929 16.6213 70.7067 17.0603C70.2209 17.4991 69.5332 17.7188 68.6449 17.7188C67.5788 17.7188 66.8313 17.3844 66.4028 16.7152C65.974 16.0465 65.7598 15.0116 65.7598 13.6107V11.9329C65.7598 10.4904 65.9819 9.43751 66.4263 8.77347C66.8704 8.10978 67.631 7.77788 68.7077 7.77788C69.4497 7.77788 70.0194 7.9138 70.4167 8.18551C70.8137 8.45749 71.0935 8.88084 71.2555 9.45556C71.4176 10.0305 71.4986 10.8251 71.4986 11.8389V13.4852H67.8768Z",fill:"white"}),(0,p.jsx)("path",{d:"M29.3062 13.2349L26.8445 4.34455H28.9925L29.8549 8.37424C30.0745 9.3675 30.2364 10.2141 30.3409 10.9143H30.4037C30.4768 10.4126 30.6389 9.57125 30.8897 8.38996L31.7835 4.34455H33.9315L31.4386 13.2349V17.5H29.3062V13.2349Z",fill:"white"}),(0,p.jsx)("path",{d:"M46.3517 7.89005V17.5016H44.6582L44.47 16.3256H44.4231C43.963 17.2141 43.2731 17.6582 42.3533 17.6582C41.7157 17.6582 41.2454 17.4494 40.9422 17.0311C40.639 16.6133 40.4875 15.9597 40.4875 15.0712V7.89005H42.6513V14.9457C42.6513 15.3746 42.6984 15.6802 42.7924 15.863C42.8865 16.0461 43.0433 16.1374 43.2628 16.1374C43.451 16.1374 43.6313 16.0801 43.8037 15.9648C43.9762 15.8499 44.1042 15.7038 44.1879 15.526V7.89005H46.3517Z",fill:"white"}),(0,p.jsx)("path",{d:"M57.4498 7.89005V17.5016H55.7564L55.5681 16.3256H55.5214C55.061 17.2141 54.3712 17.6582 53.4515 17.6582C52.8139 17.6582 52.3435 17.4494 52.0403 17.0311C51.7371 16.6133 51.5857 15.9597 51.5857 15.0712V7.89005H53.7495V14.9457C53.7495 15.3746 53.7964 15.6802 53.8904 15.863C53.9846 16.0461 54.1415 16.1374 54.3609 16.1374C54.5492 16.1374 54.7295 16.0801 54.9018 15.9648C55.0744 15.8499 55.2023 15.7038 55.2861 15.526V7.89005H57.4498Z",fill:"white"}),(0,p.jsx)("path",{d:"M52.2307 6.08533H50.0826V17.5H47.9659V6.08533H45.8179V4.34484H52.2307V6.08533Z",fill:"white"}),(0,p.jsx)("path",{d:"M62.628 13.3519C62.628 14.0523 62.599 14.6012 62.5416 14.9982C62.4842 15.3957 62.3875 15.6778 62.2516 15.8449C62.1157 16.0122 61.9325 16.0958 61.7029 16.0958C61.5249 16.0958 61.3603 16.0542 61.2089 15.9703C61.0571 15.8867 60.9346 15.7614 60.8404 15.5939V10.1376C60.9135 9.87642 61.0389 9.66203 61.2167 9.49474C61.3945 9.32773 61.5876 9.24389 61.7967 9.24389C62.0164 9.24389 62.186 9.3302 62.3064 9.50256C62.4264 9.67501 62.5102 9.96511 62.5573 10.3729C62.6044 10.7804 62.628 11.3606 62.628 12.1132V13.3519ZM64.6113 9.43136C64.4805 8.82527 64.2688 8.38628 63.9762 8.11429C63.6835 7.84273 63.281 7.70674 62.769 7.70674C62.3718 7.70674 62.0007 7.81917 61.6558 8.04378C61.3109 8.2686 61.0441 8.56394 60.8561 8.92975H60.8402L60.8404 3.8652H58.7551V17.5063H60.5424L60.7621 16.597H60.809C60.9761 16.921 61.227 17.1771 61.5616 17.3653C61.896 17.5533 62.2673 17.6475 62.675 17.6475C63.4064 17.6475 63.9448 17.3103 64.2899 16.6361C64.6348 15.9618 64.8073 14.9089 64.8073 13.4767V11.9558C64.8073 10.8793 64.7418 10.0378 64.6113 9.43136Z",fill:"white"})]});var _=a(58155),y=a(26430),v=a(66871),S=a(59572);let E=e=>{let{songMatchProps:t,onClose:a}=e,{t:r}=(0,l.Bd)("global-search"),[s,h]=(0,n.fp)(c._),{isReady:m,isFeatureEnabled:E}=(0,_.y)(),{resetSearch:b,onSearch:w,onInput:A,result:N,validationResult:T,referenceUrl:I,isLoading:R}=t,{isVisitor:j}=(0,y.f)(),k=(0,i.useRef)(""),P=E&&m?r("musicSearch.songMatch.popover.inputPlaceholderYoutube"):r("musicSearch.songMatch.popover.inputPlaceholder"),M=()=>{(0,u.lM)({inputPlaceholder:P,component:u.Dz.SEARCH_BY_REFERENCE_INPUT,clickSource:u.Dz.SEARCH_BY_REFERENCE_BAR})},F=()=>{"success"===N.status&&(0,u.iZ)({buttonName:"x",url:I,platform:N.data.platform,trackName:N.data.name}),b()};return(0,i.useEffect)(()=>{if("pending"!==N.status&&R&&I){if("success"===N.status){(0,u.Cv)({inputValue:I,previousValue:k.current,platform:N.data.platform,trackName:N.data.name,isInputValid:!0,inputPlaceholder:P,component:u.Dz.SEARCH_BY_REFERENCE_INPUT,clickSource:u.Dz.SEARCH_BY_REFERENCE_INPUT,inputName:u.Dz.SEARCH_BY_REFERENCE_INPUT}),k.current=I;return}(0,u.Cv)({inputValue:I,previousValue:k.current,isInputValid:!1,errorMessage:r(N.message),inputPlaceholder:P,component:u.Dz.SEARCH_BY_REFERENCE_INPUT,clickSource:u.Dz.SEARCH_BY_REFERENCE_INPUT,inputName:u.Dz.SEARCH_BY_REFERENCE_INPUT}),k.current=I,(0,u.OA)({errorMessage:r(N.message),url:I,component:u.Dz.SEARCH_BY_REFERENCE_INPUT,clickSource:u.Dz.SEARCH_BY_REFERENCE_BAR})}},[N,I,P,R,r]),(0,p.jsxs)("div",{className:"flex flex-col scrollbar-thin scrollbar-track-gray-900 scrollbar-thumb-gray-400 h-60",children:[(0,p.jsx)(d.A,{label:"close song match",onClick:a,className:"self-end"}),(0,p.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,p.jsx)("h2",{className:"text-xl font-medium",children:r("musicSearch.songMatch.popover.title")}),(0,p.jsx)("p",{className:"text-sm",children:r("musicSearch.songMatch.popover.subtitle")})]}),(0,p.jsxs)("div",{className:"pt-8",children:[(0,p.jsxs)("div",{className:"border border-solid border-gray-300 rounded-xl h-16 flex w-full items-center gap-4 p-4",children:[(0,o.YW)(N).with({status:"success"},e=>{let{data:t}=e;return(0,p.jsx)(C.i,{track:t,onResetSearch:F})}).with({status:o.P.union("pending","error")},()=>(0,p.jsx)("input",{type:"url",value:I,onChange:A,onFocus:M,className:"h-9 min-w-0 flex-1 bg-transparent px-2 text-white shadow-none outline-none placeholder:text-gray-200 focus:outline-none focus:ring-0",placeholder:P})).exhaustive(),(0,p.jsx)(g,{isLoading:R,onClick:()=>{if(j)return void v.default.trigger(S.yV.SIGN_UP__MODAL__OPEN,{clickSource:"search by reference",buttonName:"search",trigger:"search by reference"});w();let e="success"===N.status?N.data.platform:void 0;s||h(u.Dz.SEARCH_BY_REFERENCE_BAR),(0,u.SL)({buttonName:r("musicSearch.songMatch.popover.searchButton"),url:I,platform:e,clickSource:u.Dz.SEARCH_BY_REFERENCE_BAR,component:u.Dz.SEARCH_BY_REFERENCE_INPUT})}})]}),"error"===N.status&&(0,p.jsx)("p",{className:"text-red-400 mt-2 text-sm font-medium",children:r(N.message)}),"error"!==N.status&&"error"===T.status&&(0,p.jsx)("p",{className:"text-red-400 mt-2 text-sm font-medium",children:r(T.message)})]}),(0,p.jsxs)("div",{className:"flex items-center gap-6 mt-auto",children:[m&&E&&(0,p.jsx)(f,{}),(0,p.jsx)(x,{})]})]})};var b=a(59754),w=a(31868);let A=e=>{let{isOpen:t,onClose:a,anchorElement:i}=e,n=(0,s.A)(),l=(0,b.gQ)({onClose:a}),{isFeatureEnabled:o}=(0,w.g)(),c=()=>{a(),l.resetSearch()};return(0,p.jsx)(r.Ay,{id:"song-match-popover",open:t,"data-testid":"song-match-popover",onClose:c,anchorEl:i,transformOrigin:o?{horizontal:8,vertical:8}:void 0,disableEnforceFocus:!0,sx:{"& .MuiPaper-root":{width:784,borderRadius:"24px",paddingTop:n.spacing(2),paddingBottom:n.spacing(2),paddingRight:n.spacing(2.5),paddingLeft:n.spacing(2.5),overflow:"hidden"}},children:(0,p.jsx)(E,{onClose:c,songMatchProps:l})})}}}]);
//# sourceMappingURL=90649-cf1937bd58761d5e.js.map
//# debugId=20e931ed-19a1-5b47-bfce-a13f7665207b
